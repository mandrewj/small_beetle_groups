(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function a(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerPolicy&&(i.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?i.credentials="include":c.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(c){if(c.ep)return;c.ep=!0;const i=a(c);fetch(c.href,i)}})();function Ha(e,n){const a=Object.create(null),s=e.split(",");for(let c=0;c<s.length;c++)a[s[c]]=!0;return n?c=>!!a[c.toLowerCase()]:c=>!!a[c]}const Te={},di=[],On=()=>{},ip=()=>!1,op=/^on[^a-z]/,_o=e=>op.test(e),Va=e=>e.startsWith("onUpdate:"),je=Object.assign,Ua=(e,n)=>{const a=e.indexOf(n);a>-1&&e.splice(a,1)},sp=Object.prototype.hasOwnProperty,ge=(e,n)=>sp.call(e,n),Wt=Array.isArray,pi=e=>fs(e)==="[object Map]",yc=e=>fs(e)==="[object Set]",ae=e=>typeof e=="function",De=e=>typeof e=="string",$a=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",vc=e=>Oe(e)&&ae(e.then)&&ae(e.catch),bc=Object.prototype.toString,fs=e=>bc.call(e),ap=e=>fs(e).slice(8,-1),wc=e=>fs(e)==="[object Object]",Za=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Qi=Ha(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ms=e=>{const n=Object.create(null);return a=>n[a]||(n[a]=e(a))},lp=/-(\w)/g,Hn=ms(e=>e.replace(lp,(n,a)=>a?a.toUpperCase():"")),up=/\B([A-Z])/g,xi=ms(e=>e.replace(up,"-$1").toLowerCase()),gs=ms(e=>e.charAt(0).toUpperCase()+e.slice(1)),ea=ms(e=>e?`on${gs(e)}`:""),so=(e,n)=>!Object.is(e,n),Jo=(e,n)=>{for(let a=0;a<e.length;a++)e[a](n)},rs=(e,n,a)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:a})},va=e=>{const n=parseFloat(e);return isNaN(n)?e:n},cp=e=>{const n=De(e)?Number(e):NaN;return isNaN(n)?e:n};let Xl;const ba=()=>Xl||(Xl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gn(e){if(Wt(e)){const n={};for(let a=0;a<e.length;a++){const s=e[a],c=De(s)?fp(s):Gn(s);if(c)for(const i in c)n[i]=c[i]}return n}else{if(De(e))return e;if(Oe(e))return e}}const hp=/;(?![^(]*\))/g,dp=/:([^]+)/,pp=/\/\*[^]*?\*\//g;function fp(e){const n={};return e.replace(pp,"").split(hp).forEach(a=>{if(a){const s=a.split(dp);s.length>1&&(n[s[0].trim()]=s[1].trim())}}),n}function Xe(e){let n="";if(De(e))n=e;else if(Wt(e))for(let a=0;a<e.length;a++){const s=Xe(e[a]);s&&(n+=s+" ")}else if(Oe(e))for(const a in e)e[a]&&(n+=a+" ");return n.trim()}const mp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gp=Ha(mp);function xc(e){return!!e||e===""}const Qt=e=>De(e)?e:e==null?"":Wt(e)||Oe(e)&&(e.toString===bc||!ae(e.toString))?JSON.stringify(e,Lc,2):String(e),Lc=(e,n)=>n&&n.__v_isRef?Lc(e,n.value):pi(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((a,[s,c])=>(a[`${s} =>`]=c,a),{})}:yc(n)?{[`Set(${n.size})`]:[...n.values()]}:Oe(n)&&!Wt(n)&&!wc(n)?String(n):n;let dn;class kc{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=dn,!n&&dn&&(this.index=(dn.scopes||(dn.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const a=dn;try{return dn=this,n()}finally{dn=a}}}on(){dn=this}off(){dn=this.parent}stop(n){if(this._active){let a,s;for(a=0,s=this.effects.length;a<s;a++)this.effects[a].stop();for(a=0,s=this.cleanups.length;a<s;a++)this.cleanups[a]();if(this.scopes)for(a=0,s=this.scopes.length;a<s;a++)this.scopes[a].stop(!0);if(!this.detached&&this.parent&&!n){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this._active=!1}}}function Mc(e){return new kc(e)}function _p(e,n=dn){n&&n.active&&n.effects.push(e)}function Cc(){return dn}function yp(e){dn&&dn.cleanups.push(e)}const qa=e=>{const n=new Set(e);return n.w=0,n.n=0,n},Pc=e=>(e.w&kr)>0,Sc=e=>(e.n&kr)>0,vp=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=kr},bp=e=>{const{deps:n}=e;if(n.length){let a=0;for(let s=0;s<n.length;s++){const c=n[s];Pc(c)&&!Sc(c)?c.delete(e):n[a++]=c,c.w&=~kr,c.n&=~kr}n.length=a}},is=new WeakMap;let Yi=0,kr=1;const wa=30;let Sn;const Ur=Symbol(""),xa=Symbol("");class Ka{constructor(n,a=null,s){this.fn=n,this.scheduler=a,this.active=!0,this.deps=[],this.parent=void 0,_p(this,s)}run(){if(!this.active)return this.fn();let n=Sn,a=wr;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Sn,Sn=this,wr=!0,kr=1<<++Yi,Yi<=wa?vp(this):Ql(this),this.fn()}finally{Yi<=wa&&bp(this),kr=1<<--Yi,Sn=this.parent,wr=a,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Sn===this?this.deferStop=!0:this.active&&(Ql(this),this.onStop&&this.onStop(),this.active=!1)}}function Ql(e){const{deps:n}=e;if(n.length){for(let a=0;a<n.length;a++)n[a].delete(e);n.length=0}}let wr=!0;const Ec=[];function Li(){Ec.push(wr),wr=!1}function ki(){const e=Ec.pop();wr=e===void 0?!0:e}function un(e,n,a){if(wr&&Sn){let s=is.get(e);s||is.set(e,s=new Map);let c=s.get(a);c||s.set(a,c=qa()),Tc(c)}}function Tc(e,n){let a=!1;Yi<=wa?Sc(e)||(e.n|=kr,a=!Pc(e)):a=!e.has(Sn),a&&(e.add(Sn),Sn.deps.push(e))}function nr(e,n,a,s,c,i){const u=is.get(e);if(!u)return;let d=[];if(n==="clear")d=[...u.values()];else if(a==="length"&&Wt(e)){const f=Number(s);u.forEach((m,_)=>{(_==="length"||_>=f)&&d.push(m)})}else switch(a!==void 0&&d.push(u.get(a)),n){case"add":Wt(e)?Za(a)&&d.push(u.get("length")):(d.push(u.get(Ur)),pi(e)&&d.push(u.get(xa)));break;case"delete":Wt(e)||(d.push(u.get(Ur)),pi(e)&&d.push(u.get(xa)));break;case"set":pi(e)&&d.push(u.get(Ur));break}if(d.length===1)d[0]&&La(d[0]);else{const f=[];for(const m of d)m&&f.push(...m);La(qa(f))}}function La(e,n){const a=Wt(e)?e:[...e];for(const s of a)s.computed&&tu(s);for(const s of a)s.computed||tu(s)}function tu(e,n){(e!==Sn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function wp(e,n){var a;return(a=is.get(e))==null?void 0:a.get(n)}const xp=Ha("__proto__,__v_isRef,__isVue"),Oc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($a)),Lp=Wa(),kp=Wa(!1,!0),Mp=Wa(!0),eu=Cp();function Cp(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...a){const s=me(this);for(let i=0,u=this.length;i<u;i++)un(s,"get",i+"");const c=s[n](...a);return c===-1||c===!1?s[n](...a.map(me)):c}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...a){Li();const s=me(this)[n].apply(this,a);return ki(),s}}),e}function Pp(e){const n=me(this);return un(n,"has",e),n.hasOwnProperty(e)}function Wa(e=!1,n=!1){return function(s,c,i){if(c==="__v_isReactive")return!e;if(c==="__v_isReadonly")return e;if(c==="__v_isShallow")return n;if(c==="__v_raw"&&i===(e?n?Vp:Dc:n?Ic:Rc).get(s))return s;const u=Wt(s);if(!e){if(u&&ge(eu,c))return Reflect.get(eu,c,i);if(c==="hasOwnProperty")return Pp}const d=Reflect.get(s,c,i);return($a(c)?Oc.has(c):xp(c))||(e||un(s,"get",c),n)?d:Ie(d)?u&&Za(c)?d:d.value:Oe(d)?e?jc(d):yo(d):d}}const Sp=Ac(),Ep=Ac(!0);function Ac(e=!1){return function(a,s,c,i){let u=a[s];if(gi(u)&&Ie(u)&&!Ie(c))return!1;if(!e&&(!os(c)&&!gi(c)&&(u=me(u),c=me(c)),!Wt(a)&&Ie(u)&&!Ie(c)))return u.value=c,!0;const d=Wt(a)&&Za(s)?Number(s)<a.length:ge(a,s),f=Reflect.set(a,s,c,i);return a===me(i)&&(d?so(c,u)&&nr(a,"set",s,c):nr(a,"add",s,c)),f}}function Tp(e,n){const a=ge(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&a&&nr(e,"delete",n,void 0),s}function Op(e,n){const a=Reflect.has(e,n);return(!$a(n)||!Oc.has(n))&&un(e,"has",n),a}function Ap(e){return un(e,"iterate",Wt(e)?"length":Ur),Reflect.ownKeys(e)}const Bc={get:Lp,set:Sp,deleteProperty:Tp,has:Op,ownKeys:Ap},Bp={get:Mp,set(e,n){return!0},deleteProperty(e,n){return!0}},Rp=je({},Bc,{get:kp,set:Ep}),Ja=e=>e,_s=e=>Reflect.getPrototypeOf(e);function Ho(e,n,a=!1,s=!1){e=e.__v_raw;const c=me(e),i=me(n);a||(n!==i&&un(c,"get",n),un(c,"get",i));const{has:u}=_s(c),d=s?Ja:a?Qa:ao;if(u.call(c,n))return d(e.get(n));if(u.call(c,i))return d(e.get(i));e!==c&&e.get(n)}function Vo(e,n=!1){const a=this.__v_raw,s=me(a),c=me(e);return n||(e!==c&&un(s,"has",e),un(s,"has",c)),e===c?a.has(e):a.has(e)||a.has(c)}function Uo(e,n=!1){return e=e.__v_raw,!n&&un(me(e),"iterate",Ur),Reflect.get(e,"size",e)}function nu(e){e=me(e);const n=me(this);return _s(n).has.call(n,e)||(n.add(e),nr(n,"add",e,e)),this}function ru(e,n){n=me(n);const a=me(this),{has:s,get:c}=_s(a);let i=s.call(a,e);i||(e=me(e),i=s.call(a,e));const u=c.call(a,e);return a.set(e,n),i?so(n,u)&&nr(a,"set",e,n):nr(a,"add",e,n),this}function iu(e){const n=me(this),{has:a,get:s}=_s(n);let c=a.call(n,e);c||(e=me(e),c=a.call(n,e)),s&&s.call(n,e);const i=n.delete(e);return c&&nr(n,"delete",e,void 0),i}function ou(){const e=me(this),n=e.size!==0,a=e.clear();return n&&nr(e,"clear",void 0,void 0),a}function $o(e,n){return function(s,c){const i=this,u=i.__v_raw,d=me(u),f=n?Ja:e?Qa:ao;return!e&&un(d,"iterate",Ur),u.forEach((m,_)=>s.call(c,f(m),f(_),i))}}function Zo(e,n,a){return function(...s){const c=this.__v_raw,i=me(c),u=pi(i),d=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,m=c[e](...s),_=a?Ja:n?Qa:ao;return!n&&un(i,"iterate",f?xa:Ur),{next(){const{value:v,done:M}=m.next();return M?{value:v,done:M}:{value:d?[_(v[0]),_(v[1])]:_(v),done:M}},[Symbol.iterator](){return this}}}}function dr(e){return function(...n){return e==="delete"?!1:this}}function Ip(){const e={get(i){return Ho(this,i)},get size(){return Uo(this)},has:Vo,add:nu,set:ru,delete:iu,clear:ou,forEach:$o(!1,!1)},n={get(i){return Ho(this,i,!1,!0)},get size(){return Uo(this)},has:Vo,add:nu,set:ru,delete:iu,clear:ou,forEach:$o(!1,!0)},a={get(i){return Ho(this,i,!0)},get size(){return Uo(this,!0)},has(i){return Vo.call(this,i,!0)},add:dr("add"),set:dr("set"),delete:dr("delete"),clear:dr("clear"),forEach:$o(!0,!1)},s={get(i){return Ho(this,i,!0,!0)},get size(){return Uo(this,!0)},has(i){return Vo.call(this,i,!0)},add:dr("add"),set:dr("set"),delete:dr("delete"),clear:dr("clear"),forEach:$o(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Zo(i,!1,!1),a[i]=Zo(i,!0,!1),n[i]=Zo(i,!1,!0),s[i]=Zo(i,!0,!0)}),[e,a,n,s]}const[Dp,zp,jp,Np]=Ip();function Ya(e,n){const a=n?e?Np:jp:e?zp:Dp;return(s,c,i)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?s:Reflect.get(ge(a,c)&&c in s?a:s,c,i)}const Fp={get:Ya(!1,!1)},Gp={get:Ya(!1,!0)},Hp={get:Ya(!0,!1)},Rc=new WeakMap,Ic=new WeakMap,Dc=new WeakMap,Vp=new WeakMap;function Up(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(e){return e.__v_skip||!Object.isExtensible(e)?0:Up(ap(e))}function yo(e){return gi(e)?e:Xa(e,!1,Bc,Fp,Rc)}function zc(e){return Xa(e,!1,Rp,Gp,Ic)}function jc(e){return Xa(e,!0,Bp,Hp,Dc)}function Xa(e,n,a,s,c){if(!Oe(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const i=c.get(e);if(i)return i;const u=$p(e);if(u===0)return e;const d=new Proxy(e,u===2?s:a);return c.set(e,d),d}function xr(e){return gi(e)?xr(e.__v_raw):!!(e&&e.__v_isReactive)}function gi(e){return!!(e&&e.__v_isReadonly)}function os(e){return!!(e&&e.__v_isShallow)}function Nc(e){return xr(e)||gi(e)}function me(e){const n=e&&e.__v_raw;return n?me(n):e}function ys(e){return rs(e,"__v_skip",!0),e}const ao=e=>Oe(e)?yo(e):e,Qa=e=>Oe(e)?jc(e):e;function Fc(e){wr&&Sn&&(e=me(e),Tc(e.dep||(e.dep=qa())))}function Gc(e,n){e=me(e);const a=e.dep;a&&La(a)}function Ie(e){return!!(e&&e.__v_isRef===!0)}function Zt(e){return Hc(e,!1)}function Zp(e){return Hc(e,!0)}function Hc(e,n){return Ie(e)?e:new qp(e,n)}class qp{constructor(n,a){this.__v_isShallow=a,this.dep=void 0,this.__v_isRef=!0,this._rawValue=a?n:me(n),this._value=a?n:ao(n)}get value(){return Fc(this),this._value}set value(n){const a=this.__v_isShallow||os(n)||gi(n);n=a?n:me(n),so(n,this._rawValue)&&(this._rawValue=n,this._value=a?n:ao(n),Gc(this))}}function Kt(e){return Ie(e)?e.value:e}const Kp={get:(e,n,a)=>Kt(Reflect.get(e,n,a)),set:(e,n,a,s)=>{const c=e[n];return Ie(c)&&!Ie(a)?(c.value=a,!0):Reflect.set(e,n,a,s)}};function Vc(e){return xr(e)?e:new Proxy(e,Kp)}function Wp(e){const n=Wt(e)?new Array(e.length):{};for(const a in e)n[a]=Yp(e,a);return n}class Jp{constructor(n,a,s){this._object=n,this._key=a,this._defaultValue=s,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return wp(me(this._object),this._key)}}function Yp(e,n,a){const s=e[n];return Ie(s)?s:new Jp(e,n,a)}class Xp{constructor(n,a,s,c){this._setter=a,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ka(n,()=>{this._dirty||(this._dirty=!0,Gc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=s}get value(){const n=me(this);return Fc(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function Qp(e,n,a=!1){let s,c;const i=ae(e);return i?(s=e,c=On):(s=e.get,c=e.set),new Xp(s,c,i||!c,a)}function Lr(e,n,a,s){let c;try{c=s?e(...s):e()}catch(i){vs(i,n,a)}return c}function wn(e,n,a,s){if(ae(e)){const i=Lr(e,n,a,s);return i&&vc(i)&&i.catch(u=>{vs(u,n,a)}),i}const c=[];for(let i=0;i<e.length;i++)c.push(wn(e[i],n,a,s));return c}function vs(e,n,a,s=!0){const c=n?n.vnode:null;if(n){let i=n.parent;const u=n.proxy,d=a;for(;i;){const m=i.ec;if(m){for(let _=0;_<m.length;_++)if(m[_](e,u,d)===!1)return}i=i.parent}const f=n.appContext.config.errorHandler;if(f){Lr(f,null,10,[e,u,d]);return}}tf(e,a,c,s)}function tf(e,n,a,s=!0){console.error(e)}let lo=!1,ka=!1;const Ye=[];let Fn=0;const fi=[];let tr=null,Fr=0;const Uc=Promise.resolve();let tl=null;function bs(e){const n=tl||Uc;return e?n.then(this?e.bind(this):e):n}function ef(e){let n=Fn+1,a=Ye.length;for(;n<a;){const s=n+a>>>1;uo(Ye[s])<e?n=s+1:a=s}return n}function el(e){(!Ye.length||!Ye.includes(e,lo&&e.allowRecurse?Fn+1:Fn))&&(e.id==null?Ye.push(e):Ye.splice(ef(e.id),0,e),$c())}function $c(){!lo&&!ka&&(ka=!0,tl=Uc.then(Zc))}function nf(e){const n=Ye.indexOf(e);n>Fn&&Ye.splice(n,1)}function rf(e){Wt(e)?fi.push(...e):(!tr||!tr.includes(e,e.allowRecurse?Fr+1:Fr))&&fi.push(e),$c()}function su(e,n=lo?Fn+1:0){for(;n<Ye.length;n++){const a=Ye[n];a&&a.pre&&(Ye.splice(n,1),n--,a())}}function ss(e){if(fi.length){const n=[...new Set(fi)];if(fi.length=0,tr){tr.push(...n);return}for(tr=n,tr.sort((a,s)=>uo(a)-uo(s)),Fr=0;Fr<tr.length;Fr++)tr[Fr]();tr=null,Fr=0}}const uo=e=>e.id==null?1/0:e.id,of=(e,n)=>{const a=uo(e)-uo(n);if(a===0){if(e.pre&&!n.pre)return-1;if(n.pre&&!e.pre)return 1}return a};function Zc(e){ka=!1,lo=!0,Ye.sort(of);const n=On;try{for(Fn=0;Fn<Ye.length;Fn++){const a=Ye[Fn];a&&a.active!==!1&&Lr(a,null,14)}}finally{Fn=0,Ye.length=0,ss(),lo=!1,tl=null,(Ye.length||fi.length)&&Zc()}}function sf(e,n,...a){if(e.isUnmounted)return;const s=e.vnode.props||Te;let c=a;const i=n.startsWith("update:"),u=i&&n.slice(7);if(u&&u in s){const _=`${u==="modelValue"?"model":u}Modifiers`,{number:v,trim:M}=s[_]||Te;M&&(c=a.map(A=>De(A)?A.trim():A)),v&&(c=a.map(va))}let d,f=s[d=ea(n)]||s[d=ea(Hn(n))];!f&&i&&(f=s[d=ea(xi(n))]),f&&wn(f,e,6,c);const m=s[d+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,wn(m,e,6,c)}}function qc(e,n,a=!1){const s=n.emitsCache,c=s.get(e);if(c!==void 0)return c;const i=e.emits;let u={},d=!1;if(!ae(e)){const f=m=>{const _=qc(m,n,!0);_&&(d=!0,je(u,_))};!a&&n.mixins.length&&n.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!i&&!d?(Oe(e)&&s.set(e,null),null):(Wt(i)?i.forEach(f=>u[f]=null):je(u,i),Oe(e)&&s.set(e,u),u)}function ws(e,n){return!e||!_o(n)?!1:(n=n.slice(2).replace(/Once$/,""),ge(e,n[0].toLowerCase()+n.slice(1))||ge(e,xi(n))||ge(e,n))}let $e=null,xs=null;function as(e){const n=$e;return $e=e,xs=e&&e.type.__scopeId||null,n}function Kc(e){xs=e}function Wc(){xs=null}function ft(e,n=$e,a){if(!n||e._n)return e;const s=(...c)=>{s._d&&yu(-1);const i=as(n);let u;try{u=e(...c)}finally{as(i),s._d&&yu(1)}return u};return s._n=!0,s._c=!0,s._d=!0,s}function na(e){const{type:n,vnode:a,proxy:s,withProxy:c,props:i,propsOptions:[u],slots:d,attrs:f,emit:m,render:_,renderCache:v,data:M,setupState:A,ctx:C,inheritAttrs:S}=e;let V,P;const O=as(e);try{if(a.shapeFlag&4){const T=c||s;V=Pn(_.call(T,T,v,i,A,M,C)),P=f}else{const T=n;V=Pn(T.length>1?T(i,{attrs:f,slots:d,emit:m}):T(i,null)),P=n.props?f:af(f)}}catch(T){no.length=0,vs(T,e,1),V=rt(pn)}let j=V;if(P&&S!==!1){const T=Object.keys(P),{shapeFlag:z}=j;T.length&&z&7&&(u&&T.some(Va)&&(P=lf(P,u)),j=Mr(j,P))}return a.dirs&&(j=Mr(j),j.dirs=j.dirs?j.dirs.concat(a.dirs):a.dirs),a.transition&&(j.transition=a.transition),V=j,as(O),V}const af=e=>{let n;for(const a in e)(a==="class"||a==="style"||_o(a))&&((n||(n={}))[a]=e[a]);return n},lf=(e,n)=>{const a={};for(const s in e)(!Va(s)||!(s.slice(9)in n))&&(a[s]=e[s]);return a};function uf(e,n,a){const{props:s,children:c,component:i}=e,{props:u,children:d,patchFlag:f}=n,m=i.emitsOptions;if(n.dirs||n.transition)return!0;if(a&&f>=0){if(f&1024)return!0;if(f&16)return s?au(s,u,m):!!u;if(f&8){const _=n.dynamicProps;for(let v=0;v<_.length;v++){const M=_[v];if(u[M]!==s[M]&&!ws(m,M))return!0}}}else return(c||d)&&(!d||!d.$stable)?!0:s===u?!1:s?u?au(s,u,m):!0:!!u;return!1}function au(e,n,a){const s=Object.keys(n);if(s.length!==Object.keys(e).length)return!0;for(let c=0;c<s.length;c++){const i=s[c];if(n[i]!==e[i]&&!ws(a,i))return!0}return!1}function cf({vnode:e,parent:n},a){for(;n&&n.subTree===e;)(e=n.vnode).el=a,n=n.parent}const hf=e=>e.__isSuspense;function Jc(e,n){n&&n.pendingBranch?Wt(e)?n.effects.push(...e):n.effects.push(e):rf(e)}const qo={};function He(e,n,a){return Yc(e,n,a)}function Yc(e,n,{immediate:a,deep:s,flush:c,onTrack:i,onTrigger:u}=Te){var d;const f=Cc()===((d=Ge)==null?void 0:d.scope)?Ge:null;let m,_=!1,v=!1;if(Ie(e)?(m=()=>e.value,_=os(e)):xr(e)?(m=()=>e,s=!0):Wt(e)?(v=!0,_=e.some(T=>xr(T)||os(T)),m=()=>e.map(T=>{if(Ie(T))return T.value;if(xr(T))return Vr(T);if(ae(T))return Lr(T,f,2)})):ae(e)?n?m=()=>Lr(e,f,2):m=()=>{if(!(f&&f.isUnmounted))return M&&M(),wn(e,f,3,[A])}:m=On,n&&s){const T=m;m=()=>Vr(T())}let M,A=T=>{M=O.onStop=()=>{Lr(T,f,4)}},C;if(po)if(A=On,n?a&&wn(n,f,3,[m(),v?[]:void 0,A]):m(),c==="sync"){const T=om();C=T.__watcherHandles||(T.__watcherHandles=[])}else return On;let S=v?new Array(e.length).fill(qo):qo;const V=()=>{if(O.active)if(n){const T=O.run();(s||_||(v?T.some((z,W)=>so(z,S[W])):so(T,S)))&&(M&&M(),wn(n,f,3,[T,S===qo?void 0:v&&S[0]===qo?[]:S,A]),S=T)}else O.run()};V.allowRecurse=!!n;let P;c==="sync"?P=V:c==="post"?P=()=>an(V,f&&f.suspense):(V.pre=!0,f&&(V.id=f.uid),P=()=>el(V));const O=new Ka(m,P);n?a?V():S=O.run():c==="post"?an(O.run.bind(O),f&&f.suspense):O.run();const j=()=>{O.stop(),f&&f.scope&&Ua(f.scope.effects,O)};return C&&C.push(j),j}function df(e,n,a){const s=this.proxy,c=De(e)?e.includes(".")?Xc(s,e):()=>s[e]:e.bind(s,s);let i;ae(n)?i=n:(i=n.handler,a=n);const u=Ge;yi(this);const d=Yc(c,i.bind(s),a);return u?yi(u):$r(),d}function Xc(e,n){const a=n.split(".");return()=>{let s=e;for(let c=0;c<a.length&&s;c++)s=s[a[c]];return s}}function Vr(e,n){if(!Oe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),Ie(e))Vr(e.value,n);else if(Wt(e))for(let a=0;a<e.length;a++)Vr(e[a],n);else if(yc(e)||pi(e))e.forEach(a=>{Vr(a,n)});else if(wc(e))for(const a in e)Vr(e[a],n);return e}function vo(e,n){const a=$e;if(a===null)return e;const s=Cs(a)||a.proxy,c=e.dirs||(e.dirs=[]);for(let i=0;i<n.length;i++){let[u,d,f,m=Te]=n[i];u&&(ae(u)&&(u={mounted:u,updated:u}),u.deep&&Vr(d),c.push({dir:u,instance:s,value:d,oldValue:void 0,arg:f,modifiers:m}))}return e}function Nn(e,n,a,s){const c=e.dirs,i=n&&n.dirs;for(let u=0;u<c.length;u++){const d=c[u];i&&(d.oldValue=i[u].value);let f=d.dir[s];f&&(Li(),wn(f,a,8,[e.el,d,e,n]),ki())}}function pf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return en(()=>{e.isMounted=!0}),or(()=>{e.isUnmounting=!0}),e}const vn=[Function,Array],Qc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vn,onEnter:vn,onAfterEnter:vn,onEnterCancelled:vn,onBeforeLeave:vn,onLeave:vn,onAfterLeave:vn,onLeaveCancelled:vn,onBeforeAppear:vn,onAppear:vn,onAfterAppear:vn,onAppearCancelled:vn},ff={name:"BaseTransition",props:Qc,setup(e,{slots:n}){const a=yh(),s=pf();let c;return()=>{const i=n.default&&eh(n.default(),!0);if(!i||!i.length)return;let u=i[0];if(i.length>1){for(const S of i)if(S.type!==pn){u=S;break}}const d=me(e),{mode:f}=d;if(s.isLeaving)return ra(u);const m=lu(u);if(!m)return ra(u);const _=Ma(m,d,s,a);Ca(m,_);const v=a.subTree,M=v&&lu(v);let A=!1;const{getTransitionKey:C}=m.type;if(C){const S=C();c===void 0?c=S:S!==c&&(c=S,A=!0)}if(M&&M.type!==pn&&(!Gr(m,M)||A)){const S=Ma(M,d,s,a);if(Ca(M,S),f==="out-in")return s.isLeaving=!0,S.afterLeave=()=>{s.isLeaving=!1,a.update.active!==!1&&a.update()},ra(u);f==="in-out"&&m.type!==pn&&(S.delayLeave=(V,P,O)=>{const j=th(s,M);j[String(M.key)]=M,V._leaveCb=()=>{P(),V._leaveCb=void 0,delete _.delayedLeave},_.delayedLeave=O})}return u}}},mf=ff;function th(e,n){const{leavingVNodes:a}=e;let s=a.get(n.type);return s||(s=Object.create(null),a.set(n.type,s)),s}function Ma(e,n,a,s){const{appear:c,mode:i,persisted:u=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:m,onEnterCancelled:_,onBeforeLeave:v,onLeave:M,onAfterLeave:A,onLeaveCancelled:C,onBeforeAppear:S,onAppear:V,onAfterAppear:P,onAppearCancelled:O}=n,j=String(e.key),T=th(a,e),z=(Y,st)=>{Y&&wn(Y,s,9,st)},W=(Y,st)=>{const ut=st[1];z(Y,st),Wt(Y)?Y.every(gt=>gt.length<=1)&&ut():Y.length<=1&&ut()},ot={mode:i,persisted:u,beforeEnter(Y){let st=d;if(!a.isMounted)if(c)st=S||d;else return;Y._leaveCb&&Y._leaveCb(!0);const ut=T[j];ut&&Gr(e,ut)&&ut.el._leaveCb&&ut.el._leaveCb(),z(st,[Y])},enter(Y){let st=f,ut=m,gt=_;if(!a.isMounted)if(c)st=V||f,ut=P||m,gt=O||_;else return;let at=!1;const bt=Y._enterCb=kt=>{at||(at=!0,kt?z(gt,[Y]):z(ut,[Y]),ot.delayedLeave&&ot.delayedLeave(),Y._enterCb=void 0)};st?W(st,[Y,bt]):bt()},leave(Y,st){const ut=String(e.key);if(Y._enterCb&&Y._enterCb(!0),a.isUnmounting)return st();z(v,[Y]);let gt=!1;const at=Y._leaveCb=bt=>{gt||(gt=!0,st(),bt?z(C,[Y]):z(A,[Y]),Y._leaveCb=void 0,T[ut]===e&&delete T[ut])};T[ut]=e,M?W(M,[Y,at]):at()},clone(Y){return Ma(Y,n,a,s)}};return ot}function ra(e){if(Ls(e))return e=Mr(e),e.children=null,e}function lu(e){return Ls(e)?e.children?e.children[0]:void 0:e}function Ca(e,n){e.shapeFlag&6&&e.component?Ca(e.component.subTree,n):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function eh(e,n=!1,a){let s=[],c=0;for(let i=0;i<e.length;i++){let u=e[i];const d=a==null?u.key:String(a)+String(u.key!=null?u.key:i);u.type===$t?(u.patchFlag&128&&c++,s=s.concat(eh(u.children,n,d))):(n||u.type!==pn)&&s.push(d!=null?Mr(u,{key:d}):u)}if(c>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function nh(e,n){return ae(e)?(()=>je({name:e.name},n,{setup:e}))():e}const mi=e=>!!e.type.__asyncLoader,Ls=e=>e.type.__isKeepAlive;function gf(e,n){rh(e,"a",n)}function _f(e,n){rh(e,"da",n)}function rh(e,n,a=Ge){const s=e.__wdc||(e.__wdc=()=>{let c=a;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(ks(n,s,a),a){let c=a.parent;for(;c&&c.parent;)Ls(c.parent.vnode)&&yf(s,n,a,c),c=c.parent}}function yf(e,n,a,s){const c=ks(n,e,s,!0);Zr(()=>{Ua(s[n],c)},a)}function ks(e,n,a=Ge,s=!1){if(a){const c=a[e]||(a[e]=[]),i=n.__weh||(n.__weh=(...u)=>{if(a.isUnmounted)return;Li(),yi(a);const d=wn(n,a,e,u);return $r(),ki(),d});return s?c.unshift(i):c.push(i),i}}const ir=e=>(n,a=Ge)=>(!po||e==="sp")&&ks(e,(...s)=>n(...s),a),ih=ir("bm"),en=ir("m"),vf=ir("bu"),bf=ir("u"),or=ir("bum"),Zr=ir("um"),nl=ir("sp"),wf=ir("rtg"),xf=ir("rtc");function Lf(e,n=Ge){ks("ec",e,n)}const rl="components";function pt(e,n){return sh(rl,e,!0,n)||e}const oh=Symbol.for("v-ndc");function Mi(e){return De(e)?sh(rl,e,!1)||e:e||oh}function sh(e,n,a=!0,s=!1){const c=$e||Ge;if(c){const i=c.type;if(e===rl){const d=nm(i,!1);if(d&&(d===n||d===Hn(n)||d===gs(Hn(n))))return i}const u=uu(c[e]||i[e],n)||uu(c.appContext[e],n);return!u&&s?i:u}}function uu(e,n){return e&&(e[n]||e[Hn(n)]||e[gs(Hn(n))])}function ye(e,n,a,s){let c;const i=a&&a[s];if(Wt(e)||De(e)){c=new Array(e.length);for(let u=0,d=e.length;u<d;u++)c[u]=n(e[u],u,void 0,i&&i[u])}else if(typeof e=="number"){c=new Array(e);for(let u=0;u<e;u++)c[u]=n(u+1,u,void 0,i&&i[u])}else if(Oe(e))if(e[Symbol.iterator])c=Array.from(e,(u,d)=>n(u,d,void 0,i&&i[d]));else{const u=Object.keys(e);c=new Array(u.length);for(let d=0,f=u.length;d<f;d++){const m=u[d];c[d]=n(e[m],m,d,i&&i[d])}}else c=[];return a&&(a[s]=c),c}function Se(e,n,a={},s,c){if($e.isCE||$e.parent&&mi($e.parent)&&$e.parent.isCE)return n!=="default"&&(a.name=n),rt("slot",a,s&&s());let i=e[n];i&&i._c&&(i._d=!1),U();const u=i&&ah(i(a)),d=At($t,{key:a.key||u&&u.key||`_${n}`},u||(s?s():[]),u&&e._===1?64:-2);return!c&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),i&&i._c&&(i._d=!0),d}function ah(e){return e.some(n=>cs(n)?!(n.type===pn||n.type===$t&&!ah(n.children)):!0)?e:null}const Pa=e=>e?vh(e)?Cs(e)||e.proxy:Pa(e.parent):null,to=je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Pa(e.parent),$root:e=>Pa(e.root),$emit:e=>e.emit,$options:e=>il(e),$forceUpdate:e=>e.f||(e.f=()=>el(e.update)),$nextTick:e=>e.n||(e.n=bs.bind(e.proxy)),$watch:e=>df.bind(e)}),ia=(e,n)=>e!==Te&&!e.__isScriptSetup&&ge(e,n),kf={get({_:e},n){const{ctx:a,setupState:s,data:c,props:i,accessCache:u,type:d,appContext:f}=e;let m;if(n[0]!=="$"){const A=u[n];if(A!==void 0)switch(A){case 1:return s[n];case 2:return c[n];case 4:return a[n];case 3:return i[n]}else{if(ia(s,n))return u[n]=1,s[n];if(c!==Te&&ge(c,n))return u[n]=2,c[n];if((m=e.propsOptions[0])&&ge(m,n))return u[n]=3,i[n];if(a!==Te&&ge(a,n))return u[n]=4,a[n];Sa&&(u[n]=0)}}const _=to[n];let v,M;if(_)return n==="$attrs"&&un(e,"get",n),_(e);if((v=d.__cssModules)&&(v=v[n]))return v;if(a!==Te&&ge(a,n))return u[n]=4,a[n];if(M=f.config.globalProperties,ge(M,n))return M[n]},set({_:e},n,a){const{data:s,setupState:c,ctx:i}=e;return ia(c,n)?(c[n]=a,!0):s!==Te&&ge(s,n)?(s[n]=a,!0):ge(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(i[n]=a,!0)},has({_:{data:e,setupState:n,accessCache:a,ctx:s,appContext:c,propsOptions:i}},u){let d;return!!a[u]||e!==Te&&ge(e,u)||ia(n,u)||(d=i[0])&&ge(d,u)||ge(s,u)||ge(to,u)||ge(c.config.globalProperties,u)},defineProperty(e,n,a){return a.get!=null?e._.accessCache[n]=0:ge(a,"value")&&this.set(e,n,a.value,null),Reflect.defineProperty(e,n,a)}};function Mf(){return Cf().slots}function Cf(){const e=yh();return e.setupContext||(e.setupContext=wh(e))}function cu(e){return Wt(e)?e.reduce((n,a)=>(n[a]=null,n),{}):e}let Sa=!0;function Pf(e){const n=il(e),a=e.proxy,s=e.ctx;Sa=!1,n.beforeCreate&&hu(n.beforeCreate,e,"bc");const{data:c,computed:i,methods:u,watch:d,provide:f,inject:m,created:_,beforeMount:v,mounted:M,beforeUpdate:A,updated:C,activated:S,deactivated:V,beforeDestroy:P,beforeUnmount:O,destroyed:j,unmounted:T,render:z,renderTracked:W,renderTriggered:ot,errorCaptured:Y,serverPrefetch:st,expose:ut,inheritAttrs:gt,components:at,directives:bt,filters:kt}=n;if(m&&Sf(m,s,null),u)for(const Ht in u){const wt=u[Ht];ae(wt)&&(s[Ht]=wt.bind(a))}if(c){const Ht=c.call(a,a);Oe(Ht)&&(e.data=yo(Ht))}if(Sa=!0,i)for(const Ht in i){const wt=i[Ht],pe=ae(wt)?wt.bind(a,a):ae(wt.get)?wt.get.bind(a,a):On,Dt=!ae(wt)&&ae(wt.set)?wt.set.bind(a):On,Rt=se({get:pe,set:Dt});Object.defineProperty(s,Ht,{enumerable:!0,configurable:!0,get:()=>Rt.value,set:Vt=>Rt.value=Vt})}if(d)for(const Ht in d)lh(d[Ht],s,a,Ht);if(f){const Ht=ae(f)?f.call(a):f;Reflect.ownKeys(Ht).forEach(wt=>{Yo(wt,Ht[wt])})}_&&hu(_,e,"c");function Ct(Ht,wt){Wt(wt)?wt.forEach(pe=>Ht(pe.bind(a))):wt&&Ht(wt.bind(a))}if(Ct(ih,v),Ct(en,M),Ct(vf,A),Ct(bf,C),Ct(gf,S),Ct(_f,V),Ct(Lf,Y),Ct(xf,W),Ct(wf,ot),Ct(or,O),Ct(Zr,T),Ct(nl,st),Wt(ut))if(ut.length){const Ht=e.exposed||(e.exposed={});ut.forEach(wt=>{Object.defineProperty(Ht,wt,{get:()=>a[wt],set:pe=>a[wt]=pe})})}else e.exposed||(e.exposed={});z&&e.render===On&&(e.render=z),gt!=null&&(e.inheritAttrs=gt),at&&(e.components=at),bt&&(e.directives=bt)}function Sf(e,n,a=On){Wt(e)&&(e=Ea(e));for(const s in e){const c=e[s];let i;Oe(c)?"default"in c?i=xn(c.from||s,c.default,!0):i=xn(c.from||s):i=xn(c),Ie(i)?Object.defineProperty(n,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:u=>i.value=u}):n[s]=i}}function hu(e,n,a){wn(Wt(e)?e.map(s=>s.bind(n.proxy)):e.bind(n.proxy),n,a)}function lh(e,n,a,s){const c=s.includes(".")?Xc(a,s):()=>a[s];if(De(e)){const i=n[e];ae(i)&&He(c,i)}else if(ae(e))He(c,e.bind(a));else if(Oe(e))if(Wt(e))e.forEach(i=>lh(i,n,a,s));else{const i=ae(e.handler)?e.handler.bind(a):n[e.handler];ae(i)&&He(c,i,e)}}function il(e){const n=e.type,{mixins:a,extends:s}=n,{mixins:c,optionsCache:i,config:{optionMergeStrategies:u}}=e.appContext,d=i.get(n);let f;return d?f=d:!c.length&&!a&&!s?f=n:(f={},c.length&&c.forEach(m=>ls(f,m,u,!0)),ls(f,n,u)),Oe(n)&&i.set(n,f),f}function ls(e,n,a,s=!1){const{mixins:c,extends:i}=n;i&&ls(e,i,a,!0),c&&c.forEach(u=>ls(e,u,a,!0));for(const u in n)if(!(s&&u==="expose")){const d=Ef[u]||a&&a[u];e[u]=d?d(e[u],n[u]):n[u]}return e}const Ef={data:du,props:pu,emits:pu,methods:Xi,computed:Xi,beforeCreate:tn,created:tn,beforeMount:tn,mounted:tn,beforeUpdate:tn,updated:tn,beforeDestroy:tn,beforeUnmount:tn,destroyed:tn,unmounted:tn,activated:tn,deactivated:tn,errorCaptured:tn,serverPrefetch:tn,components:Xi,directives:Xi,watch:Of,provide:du,inject:Tf};function du(e,n){return n?e?function(){return je(ae(e)?e.call(this,this):e,ae(n)?n.call(this,this):n)}:n:e}function Tf(e,n){return Xi(Ea(e),Ea(n))}function Ea(e){if(Wt(e)){const n={};for(let a=0;a<e.length;a++)n[e[a]]=e[a];return n}return e}function tn(e,n){return e?[...new Set([].concat(e,n))]:n}function Xi(e,n){return e?je(Object.create(null),e,n):n}function pu(e,n){return e?Wt(e)&&Wt(n)?[...new Set([...e,...n])]:je(Object.create(null),cu(e),cu(n??{})):n}function Of(e,n){if(!e)return n;if(!n)return e;const a=je(Object.create(null),e);for(const s in n)a[s]=tn(e[s],n[s]);return a}function uh(){return{app:null,config:{isNativeTag:ip,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Af=0;function Bf(e,n){return function(s,c=null){ae(s)||(s=je({},s)),c!=null&&!Oe(c)&&(c=null);const i=uh(),u=new Set;let d=!1;const f=i.app={_uid:Af++,_component:s,_props:c,_container:null,_context:i,_instance:null,version:sm,get config(){return i.config},set config(m){},use(m,..._){return u.has(m)||(m&&ae(m.install)?(u.add(m),m.install(f,..._)):ae(m)&&(u.add(m),m(f,..._))),f},mixin(m){return i.mixins.includes(m)||i.mixins.push(m),f},component(m,_){return _?(i.components[m]=_,f):i.components[m]},directive(m,_){return _?(i.directives[m]=_,f):i.directives[m]},mount(m,_,v){if(!d){const M=rt(s,c);return M.appContext=i,_&&n?n(M,m):e(M,m,v),d=!0,f._container=m,m.__vue_app__=f,Cs(M.component)||M.component.proxy}},unmount(){d&&(e(null,f._container),delete f._container.__vue_app__)},provide(m,_){return i.provides[m]=_,f},runWithContext(m){co=f;try{return m()}finally{co=null}}};return f}}let co=null;function Yo(e,n){if(Ge){let a=Ge.provides;const s=Ge.parent&&Ge.parent.provides;s===a&&(a=Ge.provides=Object.create(s)),a[e]=n}}function xn(e,n,a=!1){const s=Ge||$e;if(s||co){const c=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:co._context.provides;if(c&&e in c)return c[e];if(arguments.length>1)return a&&ae(n)?n.call(s&&s.proxy):n}}function Rf(){return!!(Ge||$e||co)}function If(e,n,a,s=!1){const c={},i={};rs(i,Ms,1),e.propsDefaults=Object.create(null),ch(e,n,c,i);for(const u in e.propsOptions[0])u in c||(c[u]=void 0);a?e.props=s?c:zc(c):e.type.props?e.props=c:e.props=i,e.attrs=i}function Df(e,n,a,s){const{props:c,attrs:i,vnode:{patchFlag:u}}=e,d=me(c),[f]=e.propsOptions;let m=!1;if((s||u>0)&&!(u&16)){if(u&8){const _=e.vnode.dynamicProps;for(let v=0;v<_.length;v++){let M=_[v];if(ws(e.emitsOptions,M))continue;const A=n[M];if(f)if(ge(i,M))A!==i[M]&&(i[M]=A,m=!0);else{const C=Hn(M);c[C]=Ta(f,d,C,A,e,!1)}else A!==i[M]&&(i[M]=A,m=!0)}}}else{ch(e,n,c,i)&&(m=!0);let _;for(const v in d)(!n||!ge(n,v)&&((_=xi(v))===v||!ge(n,_)))&&(f?a&&(a[v]!==void 0||a[_]!==void 0)&&(c[v]=Ta(f,d,v,void 0,e,!0)):delete c[v]);if(i!==d)for(const v in i)(!n||!ge(n,v))&&(delete i[v],m=!0)}m&&nr(e,"set","$attrs")}function ch(e,n,a,s){const[c,i]=e.propsOptions;let u=!1,d;if(n)for(let f in n){if(Qi(f))continue;const m=n[f];let _;c&&ge(c,_=Hn(f))?!i||!i.includes(_)?a[_]=m:(d||(d={}))[_]=m:ws(e.emitsOptions,f)||(!(f in s)||m!==s[f])&&(s[f]=m,u=!0)}if(i){const f=me(a),m=d||Te;for(let _=0;_<i.length;_++){const v=i[_];a[v]=Ta(c,f,v,m[v],e,!ge(m,v))}}return u}function Ta(e,n,a,s,c,i){const u=e[a];if(u!=null){const d=ge(u,"default");if(d&&s===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&ae(f)){const{propsDefaults:m}=c;a in m?s=m[a]:(yi(c),s=m[a]=f.call(null,n),$r())}else s=f}u[0]&&(i&&!d?s=!1:u[1]&&(s===""||s===xi(a))&&(s=!0))}return s}function hh(e,n,a=!1){const s=n.propsCache,c=s.get(e);if(c)return c;const i=e.props,u={},d=[];let f=!1;if(!ae(e)){const _=v=>{f=!0;const[M,A]=hh(v,n,!0);je(u,M),A&&d.push(...A)};!a&&n.mixins.length&&n.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!i&&!f)return Oe(e)&&s.set(e,di),di;if(Wt(i))for(let _=0;_<i.length;_++){const v=Hn(i[_]);fu(v)&&(u[v]=Te)}else if(i)for(const _ in i){const v=Hn(_);if(fu(v)){const M=i[_],A=u[v]=Wt(M)||ae(M)?{type:M}:je({},M);if(A){const C=_u(Boolean,A.type),S=_u(String,A.type);A[0]=C>-1,A[1]=S<0||C<S,(C>-1||ge(A,"default"))&&d.push(v)}}}const m=[u,d];return Oe(e)&&s.set(e,m),m}function fu(e){return e[0]!=="$"}function mu(e){const n=e&&e.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:e===null?"null":""}function gu(e,n){return mu(e)===mu(n)}function _u(e,n){return Wt(n)?n.findIndex(a=>gu(a,e)):ae(n)&&gu(n,e)?0:-1}const dh=e=>e[0]==="_"||e==="$stable",ol=e=>Wt(e)?e.map(Pn):[Pn(e)],zf=(e,n,a)=>{if(n._n)return n;const s=ft((...c)=>ol(n(...c)),a);return s._c=!1,s},ph=(e,n,a)=>{const s=e._ctx;for(const c in e){if(dh(c))continue;const i=e[c];if(ae(i))n[c]=zf(c,i,s);else if(i!=null){const u=ol(i);n[c]=()=>u}}},fh=(e,n)=>{const a=ol(n);e.slots.default=()=>a},jf=(e,n)=>{if(e.vnode.shapeFlag&32){const a=n._;a?(e.slots=me(n),rs(n,"_",a)):ph(n,e.slots={})}else e.slots={},n&&fh(e,n);rs(e.slots,Ms,1)},Nf=(e,n,a)=>{const{vnode:s,slots:c}=e;let i=!0,u=Te;if(s.shapeFlag&32){const d=n._;d?a&&d===1?i=!1:(je(c,n),!a&&d===1&&delete c._):(i=!n.$stable,ph(n,c)),u=n}else n&&(fh(e,n),u={default:1});if(i)for(const d in c)!dh(d)&&!(d in u)&&delete c[d]};function us(e,n,a,s,c=!1){if(Wt(e)){e.forEach((M,A)=>us(M,n&&(Wt(n)?n[A]:n),a,s,c));return}if(mi(s)&&!c)return;const i=s.shapeFlag&4?Cs(s.component)||s.component.proxy:s.el,u=c?null:i,{i:d,r:f}=e,m=n&&n.r,_=d.refs===Te?d.refs={}:d.refs,v=d.setupState;if(m!=null&&m!==f&&(De(m)?(_[m]=null,ge(v,m)&&(v[m]=null)):Ie(m)&&(m.value=null)),ae(f))Lr(f,d,12,[u,_]);else{const M=De(f),A=Ie(f);if(M||A){const C=()=>{if(e.f){const S=M?ge(v,f)?v[f]:_[f]:f.value;c?Wt(S)&&Ua(S,i):Wt(S)?S.includes(i)||S.push(i):M?(_[f]=[i],ge(v,f)&&(v[f]=_[f])):(f.value=[i],e.k&&(_[e.k]=f.value))}else M?(_[f]=u,ge(v,f)&&(v[f]=u)):A&&(f.value=u,e.k&&(_[e.k]=u))};u?(C.id=-1,an(C,a)):C()}}}let pr=!1;const Ko=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Wo=e=>e.nodeType===8;function Ff(e){const{mt:n,p:a,o:{patchProp:s,createText:c,nextSibling:i,parentNode:u,remove:d,insert:f,createComment:m}}=e,_=(P,O)=>{if(!O.hasChildNodes()){a(null,P,O),ss(),O._vnode=P;return}pr=!1,v(O.firstChild,P,null,null,null),ss(),O._vnode=P,pr&&console.error("Hydration completed but contains mismatches.")},v=(P,O,j,T,z,W=!1)=>{const ot=Wo(P)&&P.data==="[",Y=()=>S(P,O,j,T,z,ot),{type:st,ref:ut,shapeFlag:gt,patchFlag:at}=O;let bt=P.nodeType;O.el=P,at===-2&&(W=!1,O.dynamicChildren=null);let kt=null;switch(st){case _i:bt!==3?O.children===""?(f(O.el=c(""),u(P),P),kt=P):kt=Y():(P.data!==O.children&&(pr=!0,P.data=O.children),kt=i(P));break;case pn:bt!==8||ot?kt=Y():kt=i(P);break;case eo:if(ot&&(P=i(P),bt=P.nodeType),bt===1||bt===3){kt=P;const Et=!O.children.length;for(let Ct=0;Ct<O.staticCount;Ct++)Et&&(O.children+=kt.nodeType===1?kt.outerHTML:kt.data),Ct===O.staticCount-1&&(O.anchor=kt),kt=i(kt);return ot?i(kt):kt}else Y();break;case $t:ot?kt=C(P,O,j,T,z,W):kt=Y();break;default:if(gt&1)bt!==1||O.type.toLowerCase()!==P.tagName.toLowerCase()?kt=Y():kt=M(P,O,j,T,z,W);else if(gt&6){O.slotScopeIds=z;const Et=u(P);if(n(O,Et,null,j,T,Ko(Et),W),kt=ot?V(P):i(P),kt&&Wo(kt)&&kt.data==="teleport end"&&(kt=i(kt)),mi(O)){let Ct;ot?(Ct=rt($t),Ct.anchor=kt?kt.previousSibling:Et.lastChild):Ct=P.nodeType===3?ne(""):rt("div"),Ct.el=P,O.component.subTree=Ct}}else gt&64?bt!==8?kt=Y():kt=O.type.hydrate(P,O,j,T,z,W,e,A):gt&128&&(kt=O.type.hydrate(P,O,j,T,Ko(u(P)),z,W,e,v))}return ut!=null&&us(ut,null,T,O),kt},M=(P,O,j,T,z,W)=>{W=W||!!O.dynamicChildren;const{type:ot,props:Y,patchFlag:st,shapeFlag:ut,dirs:gt}=O,at=ot==="input"&&gt||ot==="option";if(at||st!==-1){if(gt&&Nn(O,null,j,"created"),Y)if(at||!W||st&48)for(const kt in Y)(at&&kt.endsWith("value")||_o(kt)&&!Qi(kt))&&s(P,kt,null,Y[kt],!1,void 0,j);else Y.onClick&&s(P,"onClick",null,Y.onClick,!1,void 0,j);let bt;if((bt=Y&&Y.onVnodeBeforeMount)&&bn(bt,j,O),gt&&Nn(O,null,j,"beforeMount"),((bt=Y&&Y.onVnodeMounted)||gt)&&Jc(()=>{bt&&bn(bt,j,O),gt&&Nn(O,null,j,"mounted")},T),ut&16&&!(Y&&(Y.innerHTML||Y.textContent))){let kt=A(P.firstChild,O,P,j,T,z,W);for(;kt;){pr=!0;const Et=kt;kt=kt.nextSibling,d(Et)}}else ut&8&&P.textContent!==O.children&&(pr=!0,P.textContent=O.children)}return P.nextSibling},A=(P,O,j,T,z,W,ot)=>{ot=ot||!!O.dynamicChildren;const Y=O.children,st=Y.length;for(let ut=0;ut<st;ut++){const gt=ot?Y[ut]:Y[ut]=Pn(Y[ut]);if(P)P=v(P,gt,T,z,W,ot);else{if(gt.type===_i&&!gt.children)continue;pr=!0,a(null,gt,j,null,T,z,Ko(j),W)}}return P},C=(P,O,j,T,z,W)=>{const{slotScopeIds:ot}=O;ot&&(z=z?z.concat(ot):ot);const Y=u(P),st=A(i(P),O,Y,j,T,z,W);return st&&Wo(st)&&st.data==="]"?i(O.anchor=st):(pr=!0,f(O.anchor=m("]"),Y,st),st)},S=(P,O,j,T,z,W)=>{if(pr=!0,O.el=null,W){const st=V(P);for(;;){const ut=i(P);if(ut&&ut!==st)d(ut);else break}}const ot=i(P),Y=u(P);return d(P),a(null,O,Y,ot,j,T,Ko(Y),z),ot},V=P=>{let O=0;for(;P;)if(P=i(P),P&&Wo(P)&&(P.data==="["&&O++,P.data==="]")){if(O===0)return i(P);O--}return P};return[_,v]}const an=Jc;function Gf(e){return Hf(e,Ff)}function Hf(e,n){const a=ba();a.__VUE__=!0;const{insert:s,remove:c,patchProp:i,createElement:u,createText:d,createComment:f,setText:m,setElementText:_,parentNode:v,nextSibling:M,setScopeId:A=On,insertStaticContent:C}=e,S=(G,K,J,ht=null,_t=null,xt=null,Ot=!1,I=null,w=!!K.dynamicChildren)=>{if(G===K)return;G&&!Gr(G,K)&&(ht=dt(G),Vt(G,_t,xt,!0),G=null),K.patchFlag===-2&&(w=!1,K.dynamicChildren=null);const{type:k,ref:B,shapeFlag:D}=K;switch(k){case _i:V(G,K,J,ht);break;case pn:P(G,K,J,ht);break;case eo:G==null&&O(K,J,ht,Ot);break;case $t:at(G,K,J,ht,_t,xt,Ot,I,w);break;default:D&1?z(G,K,J,ht,_t,xt,Ot,I,w):D&6?bt(G,K,J,ht,_t,xt,Ot,I,w):(D&64||D&128)&&k.process(G,K,J,ht,_t,xt,Ot,I,w,St)}B!=null&&_t&&us(B,G&&G.ref,xt,K||G,!K)},V=(G,K,J,ht)=>{if(G==null)s(K.el=d(K.children),J,ht);else{const _t=K.el=G.el;K.children!==G.children&&m(_t,K.children)}},P=(G,K,J,ht)=>{G==null?s(K.el=f(K.children||""),J,ht):K.el=G.el},O=(G,K,J,ht)=>{[G.el,G.anchor]=C(G.children,K,J,ht,G.el,G.anchor)},j=({el:G,anchor:K},J,ht)=>{let _t;for(;G&&G!==K;)_t=M(G),s(G,J,ht),G=_t;s(K,J,ht)},T=({el:G,anchor:K})=>{let J;for(;G&&G!==K;)J=M(G),c(G),G=J;c(K)},z=(G,K,J,ht,_t,xt,Ot,I,w)=>{Ot=Ot||K.type==="svg",G==null?W(K,J,ht,_t,xt,Ot,I,w):st(G,K,_t,xt,Ot,I,w)},W=(G,K,J,ht,_t,xt,Ot,I)=>{let w,k;const{type:B,props:D,shapeFlag:F,transition:Q,dirs:it}=G;if(w=G.el=u(G.type,xt,D&&D.is,D),F&8?_(w,G.children):F&16&&Y(G.children,w,null,ht,_t,xt&&B!=="foreignObject",Ot,I),it&&Nn(G,null,ht,"created"),ot(w,G,G.scopeId,Ot,ht),D){for(const Tt in D)Tt!=="value"&&!Qi(Tt)&&i(w,Tt,null,D[Tt],xt,G.children,ht,_t,Ft);"value"in D&&i(w,"value",null,D.value),(k=D.onVnodeBeforeMount)&&bn(k,ht,G)}it&&Nn(G,null,ht,"beforeMount");const vt=(!_t||_t&&!_t.pendingBranch)&&Q&&!Q.persisted;vt&&Q.beforeEnter(w),s(w,K,J),((k=D&&D.onVnodeMounted)||vt||it)&&an(()=>{k&&bn(k,ht,G),vt&&Q.enter(w),it&&Nn(G,null,ht,"mounted")},_t)},ot=(G,K,J,ht,_t)=>{if(J&&A(G,J),ht)for(let xt=0;xt<ht.length;xt++)A(G,ht[xt]);if(_t){let xt=_t.subTree;if(K===xt){const Ot=_t.vnode;ot(G,Ot,Ot.scopeId,Ot.slotScopeIds,_t.parent)}}},Y=(G,K,J,ht,_t,xt,Ot,I,w=0)=>{for(let k=w;k<G.length;k++){const B=G[k]=I?vr(G[k]):Pn(G[k]);S(null,B,K,J,ht,_t,xt,Ot,I)}},st=(G,K,J,ht,_t,xt,Ot)=>{const I=K.el=G.el;let{patchFlag:w,dynamicChildren:k,dirs:B}=K;w|=G.patchFlag&16;const D=G.props||Te,F=K.props||Te;let Q;J&&zr(J,!1),(Q=F.onVnodeBeforeUpdate)&&bn(Q,J,K,G),B&&Nn(K,G,J,"beforeUpdate"),J&&zr(J,!0);const it=_t&&K.type!=="foreignObject";if(k?ut(G.dynamicChildren,k,I,J,ht,it,xt):Ot||wt(G,K,I,null,J,ht,it,xt,!1),w>0){if(w&16)gt(I,K,D,F,J,ht,_t);else if(w&2&&D.class!==F.class&&i(I,"class",null,F.class,_t),w&4&&i(I,"style",D.style,F.style,_t),w&8){const vt=K.dynamicProps;for(let Tt=0;Tt<vt.length;Tt++){const jt=vt[Tt],Jt=D[jt],te=F[jt];(te!==Jt||jt==="value")&&i(I,jt,Jt,te,_t,G.children,J,ht,Ft)}}w&1&&G.children!==K.children&&_(I,K.children)}else!Ot&&k==null&&gt(I,K,D,F,J,ht,_t);((Q=F.onVnodeUpdated)||B)&&an(()=>{Q&&bn(Q,J,K,G),B&&Nn(K,G,J,"updated")},ht)},ut=(G,K,J,ht,_t,xt,Ot)=>{for(let I=0;I<K.length;I++){const w=G[I],k=K[I],B=w.el&&(w.type===$t||!Gr(w,k)||w.shapeFlag&70)?v(w.el):J;S(w,k,B,null,ht,_t,xt,Ot,!0)}},gt=(G,K,J,ht,_t,xt,Ot)=>{if(J!==ht){if(J!==Te)for(const I in J)!Qi(I)&&!(I in ht)&&i(G,I,J[I],null,Ot,K.children,_t,xt,Ft);for(const I in ht){if(Qi(I))continue;const w=ht[I],k=J[I];w!==k&&I!=="value"&&i(G,I,k,w,Ot,K.children,_t,xt,Ft)}"value"in ht&&i(G,"value",J.value,ht.value)}},at=(G,K,J,ht,_t,xt,Ot,I,w)=>{const k=K.el=G?G.el:d(""),B=K.anchor=G?G.anchor:d("");let{patchFlag:D,dynamicChildren:F,slotScopeIds:Q}=K;Q&&(I=I?I.concat(Q):Q),G==null?(s(k,J,ht),s(B,J,ht),Y(K.children,J,B,_t,xt,Ot,I,w)):D>0&&D&64&&F&&G.dynamicChildren?(ut(G.dynamicChildren,F,J,_t,xt,Ot,I),(K.key!=null||_t&&K===_t.subTree)&&mh(G,K,!0)):wt(G,K,J,B,_t,xt,Ot,I,w)},bt=(G,K,J,ht,_t,xt,Ot,I,w)=>{K.slotScopeIds=I,G==null?K.shapeFlag&512?_t.ctx.activate(K,J,ht,Ot,w):kt(K,J,ht,_t,xt,Ot,w):Et(G,K,w)},kt=(G,K,J,ht,_t,xt,Ot)=>{const I=G.component=Xf(G,ht,_t);if(Ls(G)&&(I.ctx.renderer=St),Qf(I),I.asyncDep){if(_t&&_t.registerDep(I,Ct),!G.el){const w=I.subTree=rt(pn);P(null,w,K,J)}return}Ct(I,G,K,J,_t,xt,Ot)},Et=(G,K,J)=>{const ht=K.component=G.component;if(uf(G,K,J))if(ht.asyncDep&&!ht.asyncResolved){Ht(ht,K,J);return}else ht.next=K,nf(ht.update),ht.update();else K.el=G.el,ht.vnode=K},Ct=(G,K,J,ht,_t,xt,Ot)=>{const I=()=>{if(G.isMounted){let{next:B,bu:D,u:F,parent:Q,vnode:it}=G,vt=B,Tt;zr(G,!1),B?(B.el=it.el,Ht(G,B,Ot)):B=it,D&&Jo(D),(Tt=B.props&&B.props.onVnodeBeforeUpdate)&&bn(Tt,Q,B,it),zr(G,!0);const jt=na(G),Jt=G.subTree;G.subTree=jt,S(Jt,jt,v(Jt.el),dt(Jt),G,_t,xt),B.el=jt.el,vt===null&&cf(G,jt.el),F&&an(F,_t),(Tt=B.props&&B.props.onVnodeUpdated)&&an(()=>bn(Tt,Q,B,it),_t)}else{let B;const{el:D,props:F}=K,{bm:Q,m:it,parent:vt}=G,Tt=mi(K);if(zr(G,!1),Q&&Jo(Q),!Tt&&(B=F&&F.onVnodeBeforeMount)&&bn(B,vt,K),zr(G,!0),D&&ue){const jt=()=>{G.subTree=na(G),ue(D,G.subTree,G,_t,null)};Tt?K.type.__asyncLoader().then(()=>!G.isUnmounted&&jt()):jt()}else{const jt=G.subTree=na(G);S(null,jt,J,ht,G,_t,xt),K.el=jt.el}if(it&&an(it,_t),!Tt&&(B=F&&F.onVnodeMounted)){const jt=K;an(()=>bn(B,vt,jt),_t)}(K.shapeFlag&256||vt&&mi(vt.vnode)&&vt.vnode.shapeFlag&256)&&G.a&&an(G.a,_t),G.isMounted=!0,K=J=ht=null}},w=G.effect=new Ka(I,()=>el(k),G.scope),k=G.update=()=>w.run();k.id=G.uid,zr(G,!0),k()},Ht=(G,K,J)=>{K.component=G;const ht=G.vnode.props;G.vnode=K,G.next=null,Df(G,K.props,ht,J),Nf(G,K.children,J),Li(),su(),ki()},wt=(G,K,J,ht,_t,xt,Ot,I,w=!1)=>{const k=G&&G.children,B=G?G.shapeFlag:0,D=K.children,{patchFlag:F,shapeFlag:Q}=K;if(F>0){if(F&128){Dt(k,D,J,ht,_t,xt,Ot,I,w);return}else if(F&256){pe(k,D,J,ht,_t,xt,Ot,I,w);return}}Q&8?(B&16&&Ft(k,_t,xt),D!==k&&_(J,D)):B&16?Q&16?Dt(k,D,J,ht,_t,xt,Ot,I,w):Ft(k,_t,xt,!0):(B&8&&_(J,""),Q&16&&Y(D,J,ht,_t,xt,Ot,I,w))},pe=(G,K,J,ht,_t,xt,Ot,I,w)=>{G=G||di,K=K||di;const k=G.length,B=K.length,D=Math.min(k,B);let F;for(F=0;F<D;F++){const Q=K[F]=w?vr(K[F]):Pn(K[F]);S(G[F],Q,J,null,_t,xt,Ot,I,w)}k>B?Ft(G,_t,xt,!0,!1,D):Y(K,J,ht,_t,xt,Ot,I,w,D)},Dt=(G,K,J,ht,_t,xt,Ot,I,w)=>{let k=0;const B=K.length;let D=G.length-1,F=B-1;for(;k<=D&&k<=F;){const Q=G[k],it=K[k]=w?vr(K[k]):Pn(K[k]);if(Gr(Q,it))S(Q,it,J,null,_t,xt,Ot,I,w);else break;k++}for(;k<=D&&k<=F;){const Q=G[D],it=K[F]=w?vr(K[F]):Pn(K[F]);if(Gr(Q,it))S(Q,it,J,null,_t,xt,Ot,I,w);else break;D--,F--}if(k>D){if(k<=F){const Q=F+1,it=Q<B?K[Q].el:ht;for(;k<=F;)S(null,K[k]=w?vr(K[k]):Pn(K[k]),J,it,_t,xt,Ot,I,w),k++}}else if(k>F)for(;k<=D;)Vt(G[k],_t,xt,!0),k++;else{const Q=k,it=k,vt=new Map;for(k=it;k<=F;k++){const he=K[k]=w?vr(K[k]):Pn(K[k]);he.key!=null&&vt.set(he.key,k)}let Tt,jt=0;const Jt=F-it+1;let te=!1,be=0;const Xt=new Array(Jt);for(k=0;k<Jt;k++)Xt[k]=0;for(k=Q;k<=D;k++){const he=G[k];if(jt>=Jt){Vt(he,_t,xt,!0);continue}let we;if(he.key!=null)we=vt.get(he.key);else for(Tt=it;Tt<=F;Tt++)if(Xt[Tt-it]===0&&Gr(he,K[Tt])){we=Tt;break}we===void 0?Vt(he,_t,xt,!0):(Xt[we-it]=k+1,we>=be?be=we:te=!0,S(he,K[we],J,null,_t,xt,Ot,I,w),jt++)}const ve=te?Vf(Xt):di;for(Tt=ve.length-1,k=Jt-1;k>=0;k--){const he=it+k,we=K[he],Ae=he+1<B?K[he+1].el:ht;Xt[k]===0?S(null,we,J,Ae,_t,xt,Ot,I,w):te&&(Tt<0||k!==ve[Tt]?Rt(we,J,Ae,2):Tt--)}}},Rt=(G,K,J,ht,_t=null)=>{const{el:xt,type:Ot,transition:I,children:w,shapeFlag:k}=G;if(k&6){Rt(G.component.subTree,K,J,ht);return}if(k&128){G.suspense.move(K,J,ht);return}if(k&64){Ot.move(G,K,J,St);return}if(Ot===$t){s(xt,K,J);for(let D=0;D<w.length;D++)Rt(w[D],K,J,ht);s(G.anchor,K,J);return}if(Ot===eo){j(G,K,J);return}if(ht!==2&&k&1&&I)if(ht===0)I.beforeEnter(xt),s(xt,K,J),an(()=>I.enter(xt),_t);else{const{leave:D,delayLeave:F,afterLeave:Q}=I,it=()=>s(xt,K,J),vt=()=>{D(xt,()=>{it(),Q&&Q()})};F?F(xt,it,vt):vt()}else s(xt,K,J)},Vt=(G,K,J,ht=!1,_t=!1)=>{const{type:xt,props:Ot,ref:I,children:w,dynamicChildren:k,shapeFlag:B,patchFlag:D,dirs:F}=G;if(I!=null&&us(I,null,J,G,!0),B&256){K.ctx.deactivate(G);return}const Q=B&1&&F,it=!mi(G);let vt;if(it&&(vt=Ot&&Ot.onVnodeBeforeUnmount)&&bn(vt,K,G),B&6)le(G.component,J,ht);else{if(B&128){G.suspense.unmount(J,ht);return}Q&&Nn(G,null,K,"beforeUnmount"),B&64?G.type.remove(G,K,J,_t,St,ht):k&&(xt!==$t||D>0&&D&64)?Ft(k,K,J,!1,!0):(xt===$t&&D&384||!_t&&B&16)&&Ft(w,K,J),ht&&Me(G)}(it&&(vt=Ot&&Ot.onVnodeUnmounted)||Q)&&an(()=>{vt&&bn(vt,K,G),Q&&Nn(G,null,K,"unmounted")},J)},Me=G=>{const{type:K,el:J,anchor:ht,transition:_t}=G;if(K===$t){fe(J,ht);return}if(K===eo){T(G);return}const xt=()=>{c(J),_t&&!_t.persisted&&_t.afterLeave&&_t.afterLeave()};if(G.shapeFlag&1&&_t&&!_t.persisted){const{leave:Ot,delayLeave:I}=_t,w=()=>Ot(J,xt);I?I(G.el,xt,w):w()}else xt()},fe=(G,K)=>{let J;for(;G!==K;)J=M(G),c(G),G=J;c(K)},le=(G,K,J)=>{const{bum:ht,scope:_t,update:xt,subTree:Ot,um:I}=G;ht&&Jo(ht),_t.stop(),xt&&(xt.active=!1,Vt(Ot,G,K,J)),I&&an(I,K),an(()=>{G.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},Ft=(G,K,J,ht=!1,_t=!1,xt=0)=>{for(let Ot=xt;Ot<G.length;Ot++)Vt(G[Ot],K,J,ht,_t)},dt=G=>G.shapeFlag&6?dt(G.component.subTree):G.shapeFlag&128?G.suspense.next():M(G.anchor||G.el),Pt=(G,K,J)=>{G==null?K._vnode&&Vt(K._vnode,null,null,!0):S(K._vnode||null,G,K,null,null,null,J),su(),ss(),K._vnode=G},St={p:S,um:Vt,m:Rt,r:Me,mt:kt,mc:Y,pc:wt,pbc:ut,n:dt,o:e};let zt,ue;return n&&([zt,ue]=n(St)),{render:Pt,hydrate:zt,createApp:Bf(Pt,zt)}}function zr({effect:e,update:n},a){e.allowRecurse=n.allowRecurse=a}function mh(e,n,a=!1){const s=e.children,c=n.children;if(Wt(s)&&Wt(c))for(let i=0;i<s.length;i++){const u=s[i];let d=c[i];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=c[i]=vr(c[i]),d.el=u.el),a||mh(u,d)),d.type===_i&&(d.el=u.el)}}function Vf(e){const n=e.slice(),a=[0];let s,c,i,u,d;const f=e.length;for(s=0;s<f;s++){const m=e[s];if(m!==0){if(c=a[a.length-1],e[c]<m){n[s]=c,a.push(s);continue}for(i=0,u=a.length-1;i<u;)d=i+u>>1,e[a[d]]<m?i=d+1:u=d;m<e[a[i]]&&(i>0&&(n[s]=a[i-1]),a[i]=s)}}for(i=a.length,u=a[i-1];i-- >0;)a[i]=u,u=n[u];return a}const Uf=e=>e.__isTeleport,$t=Symbol.for("v-fgt"),_i=Symbol.for("v-txt"),pn=Symbol.for("v-cmt"),eo=Symbol.for("v-stc"),no=[];let En=null;function U(e=!1){no.push(En=e?null:[])}function $f(){no.pop(),En=no[no.length-1]||null}let ho=1;function yu(e){ho+=e}function gh(e){return e.dynamicChildren=ho>0?En||di:null,$f(),ho>0&&En&&En.push(e),e}function nt(e,n,a,s,c,i){return gh(et(e,n,a,s,c,i,!0))}function At(e,n,a,s,c){return gh(rt(e,n,a,s,c,!0))}function cs(e){return e?e.__v_isVNode===!0:!1}function Gr(e,n){return e.type===n.type&&e.key===n.key}const Ms="__vInternal",_h=({key:e})=>e??null,Xo=({ref:e,ref_key:n,ref_for:a})=>(typeof e=="number"&&(e=""+e),e!=null?De(e)||Ie(e)||ae(e)?{i:$e,r:e,k:n,f:!!a}:e:null);function et(e,n=null,a=null,s=0,c=null,i=e===$t?0:1,u=!1,d=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&_h(n),ref:n&&Xo(n),scopeId:xs,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:$e};return d?(sl(f,a),i&128&&e.normalize(f)):a&&(f.shapeFlag|=De(a)?8:16),ho>0&&!u&&En&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&En.push(f),f}const rt=Zf;function Zf(e,n=null,a=null,s=0,c=null,i=!1){if((!e||e===oh)&&(e=pn),cs(e)){const d=Mr(e,n,!0);return a&&sl(d,a),ho>0&&!i&&En&&(d.shapeFlag&6?En[En.indexOf(e)]=d:En.push(d)),d.patchFlag|=-2,d}if(rm(e)&&(e=e.__vccOpts),n){n=qf(n);let{class:d,style:f}=n;d&&!De(d)&&(n.class=Xe(d)),Oe(f)&&(Nc(f)&&!Wt(f)&&(f=je({},f)),n.style=Gn(f))}const u=De(e)?1:hf(e)?128:Uf(e)?64:Oe(e)?4:ae(e)?2:0;return et(e,n,a,s,c,u,i,!0)}function qf(e){return e?Nc(e)||Ms in e?je({},e):e:null}function Mr(e,n,a=!1){const{props:s,ref:c,patchFlag:i,children:u}=e,d=n?Wf(s||{},n):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&_h(d),ref:n&&n.ref?a&&c?Wt(c)?c.concat(Xo(n)):[c,Xo(n)]:Xo(n):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==$t?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mr(e.ssContent),ssFallback:e.ssFallback&&Mr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ne(e=" ",n=0){return rt(_i,null,e,n)}function Kf(e,n){const a=rt(eo,null,e);return a.staticCount=n,a}function Nt(e="",n=!1){return n?(U(),At(pn,null,e)):rt(pn,null,e)}function Pn(e){return e==null||typeof e=="boolean"?rt(pn):Wt(e)?rt($t,null,e.slice()):typeof e=="object"?vr(e):rt(_i,null,String(e))}function vr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mr(e)}function sl(e,n){let a=0;const{shapeFlag:s}=e;if(n==null)n=null;else if(Wt(n))a=16;else if(typeof n=="object")if(s&65){const c=n.default;c&&(c._c&&(c._d=!1),sl(e,c()),c._c&&(c._d=!0));return}else{a=32;const c=n._;!c&&!(Ms in n)?n._ctx=$e:c===3&&$e&&($e.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else ae(n)?(n={default:n,_ctx:$e},a=32):(n=String(n),s&64?(a=16,n=[ne(n)]):a=8);e.children=n,e.shapeFlag|=a}function Wf(...e){const n={};for(let a=0;a<e.length;a++){const s=e[a];for(const c in s)if(c==="class")n.class!==s.class&&(n.class=Xe([n.class,s.class]));else if(c==="style")n.style=Gn([n.style,s.style]);else if(_o(c)){const i=n[c],u=s[c];u&&i!==u&&!(Wt(i)&&i.includes(u))&&(n[c]=i?[].concat(i,u):u)}else c!==""&&(n[c]=s[c])}return n}function bn(e,n,a,s=null){wn(e,n,7,[a,s])}const Jf=uh();let Yf=0;function Xf(e,n,a){const s=e.type,c=(n?n.appContext:e.appContext)||Jf,i={uid:Yf++,vnode:e,type:s,parent:n,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new kc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hh(s,c),emitsOptions:qc(s,c),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:s.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=n?n.root:i,i.emit=sf.bind(null,i),e.ce&&e.ce(i),i}let Ge=null;const yh=()=>Ge||$e;let al,li,vu="__VUE_INSTANCE_SETTERS__";(li=ba()[vu])||(li=ba()[vu]=[]),li.push(e=>Ge=e),al=e=>{li.length>1?li.forEach(n=>n(e)):li[0](e)};const yi=e=>{al(e),e.scope.on()},$r=()=>{Ge&&Ge.scope.off(),al(null)};function vh(e){return e.vnode.shapeFlag&4}let po=!1;function Qf(e,n=!1){po=n;const{props:a,children:s}=e.vnode,c=vh(e);If(e,a,c,n),jf(e,s);const i=c?tm(e,n):void 0;return po=!1,i}function tm(e,n){const a=e.type;e.accessCache=Object.create(null),e.proxy=ys(new Proxy(e.ctx,kf));const{setup:s}=a;if(s){const c=e.setupContext=s.length>1?wh(e):null;yi(e),Li();const i=Lr(s,e,0,[e.props,c]);if(ki(),$r(),vc(i)){if(i.then($r,$r),n)return i.then(u=>{bu(e,u,n)}).catch(u=>{vs(u,e,0)});e.asyncDep=i}else bu(e,i,n)}else bh(e,n)}function bu(e,n,a){ae(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:Oe(n)&&(e.setupState=Vc(n)),bh(e,a)}let wu;function bh(e,n,a){const s=e.type;if(!e.render){if(!n&&wu&&!s.render){const c=s.template||il(e).template;if(c){const{isCustomElement:i,compilerOptions:u}=e.appContext.config,{delimiters:d,compilerOptions:f}=s,m=je(je({isCustomElement:i,delimiters:d},u),f);s.render=wu(c,m)}}e.render=s.render||On}yi(e),Li(),Pf(e),ki(),$r()}function em(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(n,a){return un(e,"get","$attrs"),n[a]}}))}function wh(e){const n=a=>{e.exposed=a||{}};return{get attrs(){return em(e)},slots:e.slots,emit:e.emit,expose:n}}function Cs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Vc(ys(e.exposed)),{get(n,a){if(a in n)return n[a];if(a in to)return to[a](e)},has(n,a){return a in n||a in to}}))}function nm(e,n=!0){return ae(e)?e.displayName||e.name:e.name||n&&e.__name}function rm(e){return ae(e)&&"__vccOpts"in e}const se=(e,n)=>Qp(e,n,po);function ll(e,n,a){const s=arguments.length;return s===2?Oe(n)&&!Wt(n)?cs(n)?rt(e,null,[n]):rt(e,n):rt(e,null,n):(s>3?a=Array.prototype.slice.call(arguments,2):s===3&&cs(a)&&(a=[a]),rt(e,n,a))}const im=Symbol.for("v-scx"),om=()=>xn(im),sm="3.3.4",am="http://www.w3.org/2000/svg",Hr=typeof document<"u"?document:null,xu=Hr&&Hr.createElement("template"),lm={insert:(e,n,a)=>{n.insertBefore(e,a||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,a,s)=>{const c=n?Hr.createElementNS(am,e):Hr.createElement(e,a?{is:a}:void 0);return e==="select"&&s&&s.multiple!=null&&c.setAttribute("multiple",s.multiple),c},createText:e=>Hr.createTextNode(e),createComment:e=>Hr.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Hr.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,a,s,c,i){const u=a?a.previousSibling:n.lastChild;if(c&&(c===i||c.nextSibling))for(;n.insertBefore(c.cloneNode(!0),a),!(c===i||!(c=c.nextSibling)););else{xu.innerHTML=s?`<svg>${e}</svg>`:e;const d=xu.content;if(s){const f=d.firstChild;for(;f.firstChild;)d.appendChild(f.firstChild);d.removeChild(f)}n.insertBefore(d,a)}return[u?u.nextSibling:n.firstChild,a?a.previousSibling:n.lastChild]}};function um(e,n,a){const s=e._vtc;s&&(n=(n?[n,...s]:[...s]).join(" ")),n==null?e.removeAttribute("class"):a?e.setAttribute("class",n):e.className=n}function cm(e,n,a){const s=e.style,c=De(a);if(a&&!c){if(n&&!De(n))for(const i in n)a[i]==null&&Oa(s,i,"");for(const i in a)Oa(s,i,a[i])}else{const i=s.display;c?n!==a&&(s.cssText=a):n&&e.removeAttribute("style"),"_vod"in e&&(s.display=i)}}const Lu=/\s*!important$/;function Oa(e,n,a){if(Wt(a))a.forEach(s=>Oa(e,n,s));else if(a==null&&(a=""),n.startsWith("--"))e.setProperty(n,a);else{const s=hm(e,n);Lu.test(a)?e.setProperty(xi(s),a.replace(Lu,""),"important"):e[s]=a}}const ku=["Webkit","Moz","ms"],oa={};function hm(e,n){const a=oa[n];if(a)return a;let s=Hn(n);if(s!=="filter"&&s in e)return oa[n]=s;s=gs(s);for(let c=0;c<ku.length;c++){const i=ku[c]+s;if(i in e)return oa[n]=i}return n}const Mu="http://www.w3.org/1999/xlink";function dm(e,n,a,s,c){if(s&&n.startsWith("xlink:"))a==null?e.removeAttributeNS(Mu,n.slice(6,n.length)):e.setAttributeNS(Mu,n,a);else{const i=gp(n);a==null||i&&!xc(a)?e.removeAttribute(n):e.setAttribute(n,i?"":a)}}function pm(e,n,a,s,c,i,u){if(n==="innerHTML"||n==="textContent"){s&&u(s,c,i),e[n]=a??"";return}const d=e.tagName;if(n==="value"&&d!=="PROGRESS"&&!d.includes("-")){e._value=a;const m=d==="OPTION"?e.getAttribute("value"):e.value,_=a??"";m!==_&&(e.value=_),a==null&&e.removeAttribute(n);return}let f=!1;if(a===""||a==null){const m=typeof e[n];m==="boolean"?a=xc(a):a==null&&m==="string"?(a="",f=!0):m==="number"&&(a=0,f=!0)}try{e[n]=a}catch{}f&&e.removeAttribute(n)}function ci(e,n,a,s){e.addEventListener(n,a,s)}function fm(e,n,a,s){e.removeEventListener(n,a,s)}function mm(e,n,a,s,c=null){const i=e._vei||(e._vei={}),u=i[n];if(s&&u)u.value=s;else{const[d,f]=gm(n);if(s){const m=i[n]=vm(s,c);ci(e,d,m,f)}else u&&(fm(e,d,u,f),i[n]=void 0)}}const Cu=/(?:Once|Passive|Capture)$/;function gm(e){let n;if(Cu.test(e)){n={};let s;for(;s=e.match(Cu);)e=e.slice(0,e.length-s[0].length),n[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):xi(e.slice(2)),n]}let sa=0;const _m=Promise.resolve(),ym=()=>sa||(_m.then(()=>sa=0),sa=Date.now());function vm(e,n){const a=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=a.attached)return;wn(bm(s,a.value),n,5,[s])};return a.value=e,a.attached=ym(),a}function bm(e,n){if(Wt(n)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},n.map(s=>c=>!c._stopped&&s&&s(c))}else return n}const Pu=/^on[a-z]/,wm=(e,n,a,s,c=!1,i,u,d,f)=>{n==="class"?um(e,s,c):n==="style"?cm(e,a,s):_o(n)?Va(n)||mm(e,n,a,s,u):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):xm(e,n,s,c))?pm(e,n,s,i,u,d,f):(n==="true-value"?e._trueValue=s:n==="false-value"&&(e._falseValue=s),dm(e,n,s,c))};function xm(e,n,a,s){return s?!!(n==="innerHTML"||n==="textContent"||n in e&&Pu.test(n)&&ae(a)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||Pu.test(n)&&De(a)?!1:n in e}const fr="transition",qi="animation",Ps=(e,{slots:n})=>ll(mf,Lm(e),n);Ps.displayName="Transition";const xh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ps.props=je({},Qc,xh);const jr=(e,n=[])=>{Wt(e)?e.forEach(a=>a(...n)):e&&e(...n)},Su=e=>e?Wt(e)?e.some(n=>n.length>1):e.length>1:!1;function Lm(e){const n={};for(const at in e)at in xh||(n[at]=e[at]);if(e.css===!1)return n;const{name:a="v",type:s,duration:c,enterFromClass:i=`${a}-enter-from`,enterActiveClass:u=`${a}-enter-active`,enterToClass:d=`${a}-enter-to`,appearFromClass:f=i,appearActiveClass:m=u,appearToClass:_=d,leaveFromClass:v=`${a}-leave-from`,leaveActiveClass:M=`${a}-leave-active`,leaveToClass:A=`${a}-leave-to`}=e,C=km(c),S=C&&C[0],V=C&&C[1],{onBeforeEnter:P,onEnter:O,onEnterCancelled:j,onLeave:T,onLeaveCancelled:z,onBeforeAppear:W=P,onAppear:ot=O,onAppearCancelled:Y=j}=n,st=(at,bt,kt)=>{Nr(at,bt?_:d),Nr(at,bt?m:u),kt&&kt()},ut=(at,bt)=>{at._isLeaving=!1,Nr(at,v),Nr(at,A),Nr(at,M),bt&&bt()},gt=at=>(bt,kt)=>{const Et=at?ot:O,Ct=()=>st(bt,at,kt);jr(Et,[bt,Ct]),Eu(()=>{Nr(bt,at?f:i),mr(bt,at?_:d),Su(Et)||Tu(bt,s,S,Ct)})};return je(n,{onBeforeEnter(at){jr(P,[at]),mr(at,i),mr(at,u)},onBeforeAppear(at){jr(W,[at]),mr(at,f),mr(at,m)},onEnter:gt(!1),onAppear:gt(!0),onLeave(at,bt){at._isLeaving=!0;const kt=()=>ut(at,bt);mr(at,v),Pm(),mr(at,M),Eu(()=>{at._isLeaving&&(Nr(at,v),mr(at,A),Su(T)||Tu(at,s,V,kt))}),jr(T,[at,kt])},onEnterCancelled(at){st(at,!1),jr(j,[at])},onAppearCancelled(at){st(at,!0),jr(Y,[at])},onLeaveCancelled(at){ut(at),jr(z,[at])}})}function km(e){if(e==null)return null;if(Oe(e))return[aa(e.enter),aa(e.leave)];{const n=aa(e);return[n,n]}}function aa(e){return cp(e)}function mr(e,n){n.split(/\s+/).forEach(a=>a&&e.classList.add(a)),(e._vtc||(e._vtc=new Set)).add(n)}function Nr(e,n){n.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:a}=e;a&&(a.delete(n),a.size||(e._vtc=void 0))}function Eu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Mm=0;function Tu(e,n,a,s){const c=e._endId=++Mm,i=()=>{c===e._endId&&s()};if(a)return setTimeout(i,a);const{type:u,timeout:d,propCount:f}=Cm(e,n);if(!u)return s();const m=u+"end";let _=0;const v=()=>{e.removeEventListener(m,M),i()},M=A=>{A.target===e&&++_>=f&&v()};setTimeout(()=>{_<f&&v()},d+1),e.addEventListener(m,M)}function Cm(e,n){const a=window.getComputedStyle(e),s=C=>(a[C]||"").split(", "),c=s(`${fr}Delay`),i=s(`${fr}Duration`),u=Ou(c,i),d=s(`${qi}Delay`),f=s(`${qi}Duration`),m=Ou(d,f);let _=null,v=0,M=0;n===fr?u>0&&(_=fr,v=u,M=i.length):n===qi?m>0&&(_=qi,v=m,M=f.length):(v=Math.max(u,m),_=v>0?u>m?fr:qi:null,M=_?_===fr?i.length:f.length:0);const A=_===fr&&/\b(transform|all)(,|$)/.test(s(`${fr}Property`).toString());return{type:_,timeout:v,propCount:M,hasTransform:A}}function Ou(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((a,s)=>Au(a)+Au(e[s])))}function Au(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Pm(){return document.body.offsetHeight}const Bu=e=>{const n=e.props["onUpdate:modelValue"]||!1;return Wt(n)?a=>Jo(n,a):n};function Sm(e){e.target.composing=!0}function Ru(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Em={created(e,{modifiers:{lazy:n,trim:a,number:s}},c){e._assign=Bu(c);const i=s||c.props&&c.props.type==="number";ci(e,n?"change":"input",u=>{if(u.target.composing)return;let d=e.value;a&&(d=d.trim()),i&&(d=va(d)),e._assign(d)}),a&&ci(e,"change",()=>{e.value=e.value.trim()}),n||(ci(e,"compositionstart",Sm),ci(e,"compositionend",Ru),ci(e,"change",Ru))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,modifiers:{lazy:a,trim:s,number:c}},i){if(e._assign=Bu(i),e.composing||document.activeElement===e&&e.type!=="range"&&(a||s&&e.value.trim()===n||(c||e.type==="number")&&va(e.value)===n))return;const u=n??"";e.value!==u&&(e.value=u)}},Tm=["ctrl","shift","alt","meta"],Om={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>Tm.some(a=>e[`${a}Key`]&&!n.includes(a))},hs=(e,n)=>(a,...s)=>{for(let c=0;c<n.length;c++){const i=Om[n[c]];if(i&&i(a,n))return}return e(a,...s)},Ss={beforeMount(e,{value:n},{transition:a}){e._vod=e.style.display==="none"?"":e.style.display,a&&n?a.beforeEnter(e):Ki(e,n)},mounted(e,{value:n},{transition:a}){a&&n&&a.enter(e)},updated(e,{value:n,oldValue:a},{transition:s}){!n!=!a&&(s?n?(s.beforeEnter(e),Ki(e,!0),s.enter(e)):s.leave(e,()=>{Ki(e,!1)}):Ki(e,n))},beforeUnmount(e,{value:n}){Ki(e,n)}};function Ki(e,n){e.style.display=n?e._vod:"none"}const Am=je({patchProp:wm},lm);let la,Iu=!1;function Bm(){return la=Iu?la:Gf(Am),Iu=!0,la}const Rm=(...e)=>{const n=Bm().createApp(...e),{mount:a}=n;return n.mount=s=>{const c=Im(s);if(c)return a(c,!0,c instanceof SVGElement)},n};function Im(e){return De(e)?document.querySelector(e):e}let Dm;function zm(){return Dm}function ul(e,n={}){const a=n.head||zm();return a==null?void 0:a.push(e,n)}const jm=["title"],Nm={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Fm=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Gm=[Fm],Hm={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Vm=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Um=[Vm],Lh={__name:"SwitchTheme",setup(e){const n={dark:"dark",light:"light"},a=Zt(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?a.value="dark":a.value="light",He(a,(c,i)=>{document.documentElement.classList.add(c),document.documentElement.classList.remove(i),localStorage.setItem("theme",c)},{immediate:!0}));const s=()=>{a.value===n.dark?a.value=n.light:a.value=n.dark};return(c,i)=>(U(),nt("button",{type:"button",onClick:s,title:a.value===n.light?"Change to dark mode":"Change to light mode"},[a.value===n.dark?(U(),nt("svg",Nm,Gm)):(U(),nt("svg",Hm,Um))],8,jm))}},$m=["aria-expanded"],Zm=et("span",{class:"sr-only"},"Open main menu",-1),qm={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},Km={class:"font-normal container mx-auto"},Wm={class:"flex flex-col m-0 p-0 border-t border-base-border"},Jm={__name:"NavbarMobile",setup(e){const{header_links:n}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"},a=Zt(!1),s=()=>{a.value=!a.value};return(c,i)=>{const u=pt("IconClose"),d=pt("IconHamburger"),f=pt("router-link"),m=pt("ClientOnly"),_=pt("TrackerReport"),v=pt("AnimationOpacity");return U(),nt($t,null,[et("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":a.value,onClick:s},[Zm,a.value?(U(),At(u,{key:0})):(U(),At(d,{key:1,class:"w-6 h-6"}))],8,$m),rt(v,null,{default:ft(()=>[a.value?(U(),nt("div",qm,[et("nav",Km,[et("ul",Wm,[(U(!0),nt($t,null,ye(Kt(n),(M,A)=>(U(),nt("li",{key:A,class:"border-b border-base-border"},[rt(f,{to:M.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:ft(()=>[ne(Qt(M.label),1)]),_:2},1032,["to"])]))),128)),et("li",null,[rt(m,null,{default:ft(()=>[rt(Lh,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),et("li",null,[rt(_,{icon:"","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):Nt("",!0)]),_:1})],64)}}};function Ym(e){try{return new URL(e),!0}catch{return!1}}const Xm={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},Qm={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},tg=["src","alt"],eg={class:"relative hidden md:flex items-center ml-auto"},ng={class:"text-sm leading-6 font-normal"},rg={class:"flex space-x-8"},ig={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},og={class:"flex items-center ml-2 border-base-muted"},sg={__name:"LayoutHeader",setup(e){const{header_links:n,header_logo_text:a,header_logo_url:s,base_url:c,project_name:i}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"},u=Ym(s)?s:(c+s).replace("//","/");return(d,f)=>{const m=pt("RouterLink"),_=pt("router-link"),v=pt("ClientOnly"),M=pt("TrackerReport");return U(),nt("header",Xm,[et("div",Qm,[rt(m,{to:"/",class:"flex items-center text-primary-content"},{default:ft(()=>[Kt(s)?(U(),nt("img",{key:0,class:"mr-3 h-10",src:Kt(u),alt:Kt(a)},null,8,tg)):Nt("",!0),et("span",null,Qt(Kt(a)||Kt(i)),1)]),_:1}),rt(Jm),et("div",eg,[et("nav",ng,[et("ul",rg,[(U(!0),nt($t,null,ye(Kt(n),(A,C)=>(U(),nt("li",{key:C},[rt(_,{to:A.link,class:"hover:text-primary-content text-primary-content"},{default:ft(()=>[ne(Qt(A.label),1)]),_:2},1032,["to"])]))),128))])]),et("div",ig,[rt(v,null,{default:ft(()=>[rt(Lh,{class:"text-primary-content"})]),_:1})]),et("div",og,[rt(M,{icon:""})])])])])}}};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const hi=typeof window<"u";function ag(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ke=Object.assign;function ua(e,n){const a={};for(const s in n){const c=n[s];a[s]=An(c)?c.map(e):e(c)}return a}const ro=()=>{},An=Array.isArray,lg=/\/$/,ug=e=>e.replace(lg,"");function ca(e,n,a="/"){let s,c={},i="",u="";const d=n.indexOf("#");let f=n.indexOf("?");return d<f&&d>=0&&(f=-1),f>-1&&(s=n.slice(0,f),i=n.slice(f+1,d>-1?d:n.length),c=e(i)),d>-1&&(s=s||n.slice(0,d),u=n.slice(d,n.length)),s=pg(s??n,a),{fullPath:s+(i&&"?")+i+u,path:s,query:c,hash:u}}function cg(e,n){const a=n.query?e(n.query):"";return n.path+(a&&"?")+a+(n.hash||"")}function Du(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function hg(e,n,a){const s=n.matched.length-1,c=a.matched.length-1;return s>-1&&s===c&&vi(n.matched[s],a.matched[c])&&kh(n.params,a.params)&&e(n.query)===e(a.query)&&n.hash===a.hash}function vi(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function kh(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(!dg(e[a],n[a]))return!1;return!0}function dg(e,n){return An(e)?zu(e,n):An(n)?zu(n,e):e===n}function zu(e,n){return An(n)?e.length===n.length&&e.every((a,s)=>a===n[s]):e.length===1&&e[0]===n}function pg(e,n){if(e.startsWith("/"))return e;if(!e)return n;const a=n.split("/"),s=e.split("/"),c=s[s.length-1];(c===".."||c===".")&&s.push("");let i=a.length-1,u,d;for(u=0;u<s.length;u++)if(d=s[u],d!==".")if(d==="..")i>1&&i--;else break;return a.slice(0,i).join("/")+"/"+s.slice(u-(u===s.length?1:0)).join("/")}var fo;(function(e){e.pop="pop",e.push="push"})(fo||(fo={}));var io;(function(e){e.back="back",e.forward="forward",e.unknown=""})(io||(io={}));function fg(e){if(!e)if(hi){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ug(e)}const mg=/^[^#]+#/;function gg(e,n){return e.replace(mg,"#")+n}function _g(e,n){const a=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:n.behavior,left:s.left-a.left-(n.left||0),top:s.top-a.top-(n.top||0)}}const Es=()=>({left:window.pageXOffset,top:window.pageYOffset});function yg(e){let n;if("el"in e){const a=e.el,s=typeof a=="string"&&a.startsWith("#"),c=typeof a=="string"?s?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!c)return;n=_g(c,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function ju(e,n){return(history.state?history.state.position-n:-1)+e}const Aa=new Map;function vg(e,n){Aa.set(e,n)}function bg(e){const n=Aa.get(e);return Aa.delete(e),n}let wg=()=>location.protocol+"//"+location.host;function Mh(e,n){const{pathname:a,search:s,hash:c}=n,i=e.indexOf("#");if(i>-1){let d=c.includes(e.slice(i))?e.slice(i).length:1,f=c.slice(d);return f[0]!=="/"&&(f="/"+f),Du(f,"")}return Du(a,e)+s+c}function xg(e,n,a,s){let c=[],i=[],u=null;const d=({state:M})=>{const A=Mh(e,location),C=a.value,S=n.value;let V=0;if(M){if(a.value=A,n.value=M,u&&u===C){u=null;return}V=S?M.position-S.position:0}else s(A);c.forEach(P=>{P(a.value,C,{delta:V,type:fo.pop,direction:V?V>0?io.forward:io.back:io.unknown})})};function f(){u=a.value}function m(M){c.push(M);const A=()=>{const C=c.indexOf(M);C>-1&&c.splice(C,1)};return i.push(A),A}function _(){const{history:M}=window;M.state&&M.replaceState(ke({},M.state,{scroll:Es()}),"")}function v(){for(const M of i)M();i=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",_,{passive:!0}),{pauseListeners:f,listen:m,destroy:v}}function Nu(e,n,a,s=!1,c=!1){return{back:e,current:n,forward:a,replaced:s,position:window.history.length,scroll:c?Es():null}}function Lg(e){const{history:n,location:a}=window,s={value:Mh(e,a)},c={value:n.state};c.value||i(s.value,{back:null,current:s.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function i(f,m,_){const v=e.indexOf("#"),M=v>-1?(a.host&&document.querySelector("base")?e:e.slice(v))+f:wg()+e+f;try{n[_?"replaceState":"pushState"](m,"",M),c.value=m}catch(A){console.error(A),a[_?"replace":"assign"](M)}}function u(f,m){const _=ke({},n.state,Nu(c.value.back,f,c.value.forward,!0),m,{position:c.value.position});i(f,_,!0),s.value=f}function d(f,m){const _=ke({},c.value,n.state,{forward:f,scroll:Es()});i(_.current,_,!0);const v=ke({},Nu(s.value,f,null),{position:_.position+1},m);i(f,v,!1),s.value=f}return{location:s,state:c,push:d,replace:u}}function Ch(e){e=fg(e);const n=Lg(e),a=xg(e,n.state,n.location,n.replace);function s(i,u=!0){u||a.pauseListeners(),history.go(i)}const c=ke({location:"",base:e,go:s,createHref:gg.bind(null,e)},n,a);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>n.state.value}),c}function kg(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Ch(e)}function Mg(e){return typeof e=="string"||e&&typeof e=="object"}function Ph(e){return typeof e=="string"||typeof e=="symbol"}const gr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Sh=Symbol("");var Fu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Fu||(Fu={}));function bi(e,n){return ke(new Error,{type:e,[Sh]:!0},n)}function Qn(e,n){return e instanceof Error&&Sh in e&&(n==null||!!(e.type&n))}const Gu="[^/]+?",Cg={sensitive:!1,strict:!1,start:!0,end:!0},Pg=/[.+*?^${}()[\]/\\]/g;function Sg(e,n){const a=ke({},Cg,n),s=[];let c=a.start?"^":"";const i=[];for(const m of e){const _=m.length?[]:[90];a.strict&&!m.length&&(c+="/");for(let v=0;v<m.length;v++){const M=m[v];let A=40+(a.sensitive?.25:0);if(M.type===0)v||(c+="/"),c+=M.value.replace(Pg,"\\$&"),A+=40;else if(M.type===1){const{value:C,repeatable:S,optional:V,regexp:P}=M;i.push({name:C,repeatable:S,optional:V});const O=P||Gu;if(O!==Gu){A+=10;try{new RegExp(`(${O})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${C}" (${O}): `+T.message)}}let j=S?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;v||(j=V&&m.length<2?`(?:/${j})`:"/"+j),V&&(j+="?"),c+=j,A+=20,V&&(A+=-8),S&&(A+=-20),O===".*"&&(A+=-50)}_.push(A)}s.push(_)}if(a.strict&&a.end){const m=s.length-1;s[m][s[m].length-1]+=.7000000000000001}a.strict||(c+="/?"),a.end?c+="$":a.strict&&(c+="(?:/|$)");const u=new RegExp(c,a.sensitive?"":"i");function d(m){const _=m.match(u),v={};if(!_)return null;for(let M=1;M<_.length;M++){const A=_[M]||"",C=i[M-1];v[C.name]=A&&C.repeatable?A.split("/"):A}return v}function f(m){let _="",v=!1;for(const M of e){(!v||!_.endsWith("/"))&&(_+="/"),v=!1;for(const A of M)if(A.type===0)_+=A.value;else if(A.type===1){const{value:C,repeatable:S,optional:V}=A,P=C in m?m[C]:"";if(An(P)&&!S)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const O=An(P)?P.join("/"):P;if(!O)if(V)M.length<2&&(_.endsWith("/")?_=_.slice(0,-1):v=!0);else throw new Error(`Missing required param "${C}"`);_+=O}}return _||"/"}return{re:u,score:s,keys:i,parse:d,stringify:f}}function Eg(e,n){let a=0;for(;a<e.length&&a<n.length;){const s=n[a]-e[a];if(s)return s;a++}return e.length<n.length?e.length===1&&e[0]===40+40?-1:1:e.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function Tg(e,n){let a=0;const s=e.score,c=n.score;for(;a<s.length&&a<c.length;){const i=Eg(s[a],c[a]);if(i)return i;a++}if(Math.abs(c.length-s.length)===1){if(Hu(s))return 1;if(Hu(c))return-1}return c.length-s.length}function Hu(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const Og={type:0,value:""},Ag=/[a-zA-Z0-9_]/;function Bg(e){if(!e)return[[]];if(e==="/")return[[Og]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(A){throw new Error(`ERR (${a})/"${m}": ${A}`)}let a=0,s=a;const c=[];let i;function u(){i&&c.push(i),i=[]}let d=0,f,m="",_="";function v(){m&&(a===0?i.push({type:0,value:m}):a===1||a===2||a===3?(i.length>1&&(f==="*"||f==="+")&&n(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:m,regexp:_,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):n("Invalid state to consume buffer"),m="")}function M(){m+=f}for(;d<e.length;){if(f=e[d++],f==="\\"&&a!==2){s=a,a=4;continue}switch(a){case 0:f==="/"?(m&&v(),u()):f===":"?(v(),a=1):M();break;case 4:M(),a=s;break;case 1:f==="("?a=2:Ag.test(f)?M():(v(),a=0,f!=="*"&&f!=="?"&&f!=="+"&&d--);break;case 2:f===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+f:a=3:_+=f;break;case 3:v(),a=0,f!=="*"&&f!=="?"&&f!=="+"&&d--,_="";break;default:n("Unknown state");break}}return a===2&&n(`Unfinished custom RegExp for param "${m}"`),v(),u(),c}function Rg(e,n,a){const s=Sg(Bg(e.path),a),c=ke(s,{record:e,parent:n,children:[],alias:[]});return n&&!c.record.aliasOf==!n.record.aliasOf&&n.children.push(c),c}function Ig(e,n){const a=[],s=new Map;n=$u({strict:!1,end:!0,sensitive:!1},n);function c(_){return s.get(_)}function i(_,v,M){const A=!M,C=Dg(_);C.aliasOf=M&&M.record;const S=$u(n,_),V=[C];if("alias"in _){const j=typeof _.alias=="string"?[_.alias]:_.alias;for(const T of j)V.push(ke({},C,{components:M?M.record.components:C.components,path:T,aliasOf:M?M.record:C}))}let P,O;for(const j of V){const{path:T}=j;if(v&&T[0]!=="/"){const z=v.record.path,W=z[z.length-1]==="/"?"":"/";j.path=v.record.path+(T&&W+T)}if(P=Rg(j,v,S),M?M.alias.push(P):(O=O||P,O!==P&&O.alias.push(P),A&&_.name&&!Uu(P)&&u(_.name)),C.children){const z=C.children;for(let W=0;W<z.length;W++)i(z[W],P,M&&M.children[W])}M=M||P,(P.record.components&&Object.keys(P.record.components).length||P.record.name||P.record.redirect)&&f(P)}return O?()=>{u(O)}:ro}function u(_){if(Ph(_)){const v=s.get(_);v&&(s.delete(_),a.splice(a.indexOf(v),1),v.children.forEach(u),v.alias.forEach(u))}else{const v=a.indexOf(_);v>-1&&(a.splice(v,1),_.record.name&&s.delete(_.record.name),_.children.forEach(u),_.alias.forEach(u))}}function d(){return a}function f(_){let v=0;for(;v<a.length&&Tg(_,a[v])>=0&&(_.record.path!==a[v].record.path||!Eh(_,a[v]));)v++;a.splice(v,0,_),_.record.name&&!Uu(_)&&s.set(_.record.name,_)}function m(_,v){let M,A={},C,S;if("name"in _&&_.name){if(M=s.get(_.name),!M)throw bi(1,{location:_});S=M.record.name,A=ke(Vu(v.params,M.keys.filter(O=>!O.optional).map(O=>O.name)),_.params&&Vu(_.params,M.keys.map(O=>O.name))),C=M.stringify(A)}else if("path"in _)C=_.path,M=a.find(O=>O.re.test(C)),M&&(A=M.parse(C),S=M.record.name);else{if(M=v.name?s.get(v.name):a.find(O=>O.re.test(v.path)),!M)throw bi(1,{location:_,currentLocation:v});S=M.record.name,A=ke({},v.params,_.params),C=M.stringify(A)}const V=[];let P=M;for(;P;)V.unshift(P.record),P=P.parent;return{name:S,path:C,params:A,matched:V,meta:jg(V)}}return e.forEach(_=>i(_)),{addRoute:i,resolve:m,removeRoute:u,getRoutes:d,getRecordMatcher:c}}function Vu(e,n){const a={};for(const s of n)s in e&&(a[s]=e[s]);return a}function Dg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:zg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function zg(e){const n={},a=e.props||!1;if("component"in e)n.default=a;else for(const s in e.components)n[s]=typeof a=="object"?a[s]:a;return n}function Uu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function jg(e){return e.reduce((n,a)=>ke(n,a.meta),{})}function $u(e,n){const a={};for(const s in e)a[s]=s in n?n[s]:e[s];return a}function Eh(e,n){return n.children.some(a=>a===e||Eh(e,a))}const Th=/#/g,Ng=/&/g,Fg=/\//g,Gg=/=/g,Hg=/\?/g,Oh=/\+/g,Vg=/%5B/g,Ug=/%5D/g,Ah=/%5E/g,$g=/%60/g,Bh=/%7B/g,Zg=/%7C/g,Rh=/%7D/g,qg=/%20/g;function cl(e){return encodeURI(""+e).replace(Zg,"|").replace(Vg,"[").replace(Ug,"]")}function Kg(e){return cl(e).replace(Bh,"{").replace(Rh,"}").replace(Ah,"^")}function Ba(e){return cl(e).replace(Oh,"%2B").replace(qg,"+").replace(Th,"%23").replace(Ng,"%26").replace($g,"`").replace(Bh,"{").replace(Rh,"}").replace(Ah,"^")}function Wg(e){return Ba(e).replace(Gg,"%3D")}function Jg(e){return cl(e).replace(Th,"%23").replace(Hg,"%3F")}function Yg(e){return e==null?"":Jg(e).replace(Fg,"%2F")}function ds(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Xg(e){const n={};if(e===""||e==="?")return n;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let c=0;c<s.length;++c){const i=s[c].replace(Oh," "),u=i.indexOf("="),d=ds(u<0?i:i.slice(0,u)),f=u<0?null:ds(i.slice(u+1));if(d in n){let m=n[d];An(m)||(m=n[d]=[m]),m.push(f)}else n[d]=f}return n}function Zu(e){let n="";for(let a in e){const s=e[a];if(a=Wg(a),s==null){s!==void 0&&(n+=(n.length?"&":"")+a);continue}(An(s)?s.map(i=>i&&Ba(i)):[s&&Ba(s)]).forEach(i=>{i!==void 0&&(n+=(n.length?"&":"")+a,i!=null&&(n+="="+i))})}return n}function Qg(e){const n={};for(const a in e){const s=e[a];s!==void 0&&(n[a]=An(s)?s.map(c=>c==null?null:""+c):s==null?s:""+s)}return n}const t_=Symbol(""),qu=Symbol(""),Ts=Symbol(""),hl=Symbol(""),Ra=Symbol("");function Wi(){let e=[];function n(s){return e.push(s),()=>{const c=e.indexOf(s);c>-1&&e.splice(c,1)}}function a(){e=[]}return{add:n,list:()=>e.slice(),reset:a}}function br(e,n,a,s,c){const i=s&&(s.enterCallbacks[c]=s.enterCallbacks[c]||[]);return()=>new Promise((u,d)=>{const f=v=>{v===!1?d(bi(4,{from:a,to:n})):v instanceof Error?d(v):Mg(v)?d(bi(2,{from:n,to:v})):(i&&s.enterCallbacks[c]===i&&typeof v=="function"&&i.push(v),u())},m=e.call(s&&s.instances[c],n,a,f);let _=Promise.resolve(m);e.length<3&&(_=_.then(f)),_.catch(v=>d(v))})}function ha(e,n,a,s){const c=[];for(const i of e)for(const u in i.components){let d=i.components[u];if(!(n!=="beforeRouteEnter"&&!i.instances[u]))if(e_(d)){const m=(d.__vccOpts||d)[n];m&&c.push(br(m,a,s,i,u))}else{let f=d();c.push(()=>f.then(m=>{if(!m)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${i.path}"`));const _=ag(m)?m.default:m;i.components[u]=_;const M=(_.__vccOpts||_)[n];return M&&br(M,a,s,i,u)()}))}}return c}function e_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ku(e){const n=xn(Ts),a=xn(hl),s=se(()=>n.resolve(Kt(e.to))),c=se(()=>{const{matched:f}=s.value,{length:m}=f,_=f[m-1],v=a.matched;if(!_||!v.length)return-1;const M=v.findIndex(vi.bind(null,_));if(M>-1)return M;const A=Wu(f[m-2]);return m>1&&Wu(_)===A&&v[v.length-1].path!==A?v.findIndex(vi.bind(null,f[m-2])):M}),i=se(()=>c.value>-1&&o_(a.params,s.value.params)),u=se(()=>c.value>-1&&c.value===a.matched.length-1&&kh(a.params,s.value.params));function d(f={}){return i_(f)?n[Kt(e.replace)?"replace":"push"](Kt(e.to)).catch(ro):Promise.resolve()}return{route:s,href:se(()=>s.value.href),isActive:i,isExactActive:u,navigate:d}}const n_=nh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ku,setup(e,{slots:n}){const a=yo(Ku(e)),{options:s}=xn(Ts),c=se(()=>({[Ju(e.activeClass,s.linkActiveClass,"router-link-active")]:a.isActive,[Ju(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive}));return()=>{const i=n.default&&n.default(a);return e.custom?i:ll("a",{"aria-current":a.isExactActive?e.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:c.value},i)}}}),r_=n_;function i_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function o_(e,n){for(const a in n){const s=n[a],c=e[a];if(typeof s=="string"){if(s!==c)return!1}else if(!An(c)||c.length!==s.length||s.some((i,u)=>i!==c[u]))return!1}return!0}function Wu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ju=(e,n,a)=>e??n??a,s_=nh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:a}){const s=xn(Ra),c=se(()=>e.route||s.value),i=xn(qu,0),u=se(()=>{let m=Kt(i);const{matched:_}=c.value;let v;for(;(v=_[m])&&!v.components;)m++;return m}),d=se(()=>c.value.matched[u.value]);Yo(qu,se(()=>u.value+1)),Yo(t_,d),Yo(Ra,c);const f=Zt();return He(()=>[f.value,d.value,e.name],([m,_,v],[M,A,C])=>{_&&(_.instances[v]=m,A&&A!==_&&m&&m===M&&(_.leaveGuards.size||(_.leaveGuards=A.leaveGuards),_.updateGuards.size||(_.updateGuards=A.updateGuards))),m&&_&&(!A||!vi(_,A)||!M)&&(_.enterCallbacks[v]||[]).forEach(S=>S(m))},{flush:"post"}),()=>{const m=c.value,_=e.name,v=d.value,M=v&&v.components[_];if(!M)return Yu(a.default,{Component:M,route:m});const A=v.props[_],C=A?A===!0?m.params:typeof A=="function"?A(m):A:null,V=ll(M,ke({},C,n,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(v.instances[_]=null)},ref:f}));return Yu(a.default,{Component:V,route:m})||V}}});function Yu(e,n){if(!e)return null;const a=e(n);return a.length===1?a[0]:a}const a_=s_;function l_(e){const n=Ig(e.routes,e),a=e.parseQuery||Xg,s=e.stringifyQuery||Zu,c=e.history,i=Wi(),u=Wi(),d=Wi(),f=Zp(gr);let m=gr;hi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=ua.bind(null,dt=>""+dt),v=ua.bind(null,Yg),M=ua.bind(null,ds);function A(dt,Pt){let St,zt;return Ph(dt)?(St=n.getRecordMatcher(dt),zt=Pt):zt=dt,n.addRoute(zt,St)}function C(dt){const Pt=n.getRecordMatcher(dt);Pt&&n.removeRoute(Pt)}function S(){return n.getRoutes().map(dt=>dt.record)}function V(dt){return!!n.getRecordMatcher(dt)}function P(dt,Pt){if(Pt=ke({},Pt||f.value),typeof dt=="string"){const J=ca(a,dt,Pt.path),ht=n.resolve({path:J.path},Pt),_t=c.createHref(J.fullPath);return ke(J,ht,{params:M(ht.params),hash:ds(J.hash),redirectedFrom:void 0,href:_t})}let St;if("path"in dt)St=ke({},dt,{path:ca(a,dt.path,Pt.path).path});else{const J=ke({},dt.params);for(const ht in J)J[ht]==null&&delete J[ht];St=ke({},dt,{params:v(J)}),Pt.params=v(Pt.params)}const zt=n.resolve(St,Pt),ue=dt.hash||"";zt.params=_(M(zt.params));const G=cg(s,ke({},dt,{hash:Kg(ue),path:zt.path})),K=c.createHref(G);return ke({fullPath:G,hash:ue,query:s===Zu?Qg(dt.query):dt.query||{}},zt,{redirectedFrom:void 0,href:K})}function O(dt){return typeof dt=="string"?ca(a,dt,f.value.path):ke({},dt)}function j(dt,Pt){if(m!==dt)return bi(8,{from:Pt,to:dt})}function T(dt){return ot(dt)}function z(dt){return T(ke(O(dt),{replace:!0}))}function W(dt){const Pt=dt.matched[dt.matched.length-1];if(Pt&&Pt.redirect){const{redirect:St}=Pt;let zt=typeof St=="function"?St(dt):St;return typeof zt=="string"&&(zt=zt.includes("?")||zt.includes("#")?zt=O(zt):{path:zt},zt.params={}),ke({query:dt.query,hash:dt.hash,params:"path"in zt?{}:dt.params},zt)}}function ot(dt,Pt){const St=m=P(dt),zt=f.value,ue=dt.state,G=dt.force,K=dt.replace===!0,J=W(St);if(J)return ot(ke(O(J),{state:typeof J=="object"?ke({},ue,J.state):ue,force:G,replace:K}),Pt||St);const ht=St;ht.redirectedFrom=Pt;let _t;return!G&&hg(s,zt,St)&&(_t=bi(16,{to:ht,from:zt}),Rt(zt,zt,!0,!1)),(_t?Promise.resolve(_t):ut(ht,zt)).catch(xt=>Qn(xt)?Qn(xt,2)?xt:Dt(xt):wt(xt,ht,zt)).then(xt=>{if(xt){if(Qn(xt,2))return ot(ke({replace:K},O(xt.to),{state:typeof xt.to=="object"?ke({},ue,xt.to.state):ue,force:G}),Pt||ht)}else xt=at(ht,zt,!0,K,ue);return gt(ht,zt,xt),xt})}function Y(dt,Pt){const St=j(dt,Pt);return St?Promise.reject(St):Promise.resolve()}function st(dt){const Pt=fe.values().next().value;return Pt&&typeof Pt.runWithContext=="function"?Pt.runWithContext(dt):dt()}function ut(dt,Pt){let St;const[zt,ue,G]=u_(dt,Pt);St=ha(zt.reverse(),"beforeRouteLeave",dt,Pt);for(const J of zt)J.leaveGuards.forEach(ht=>{St.push(br(ht,dt,Pt))});const K=Y.bind(null,dt,Pt);return St.push(K),Ft(St).then(()=>{St=[];for(const J of i.list())St.push(br(J,dt,Pt));return St.push(K),Ft(St)}).then(()=>{St=ha(ue,"beforeRouteUpdate",dt,Pt);for(const J of ue)J.updateGuards.forEach(ht=>{St.push(br(ht,dt,Pt))});return St.push(K),Ft(St)}).then(()=>{St=[];for(const J of G)if(J.beforeEnter)if(An(J.beforeEnter))for(const ht of J.beforeEnter)St.push(br(ht,dt,Pt));else St.push(br(J.beforeEnter,dt,Pt));return St.push(K),Ft(St)}).then(()=>(dt.matched.forEach(J=>J.enterCallbacks={}),St=ha(G,"beforeRouteEnter",dt,Pt),St.push(K),Ft(St))).then(()=>{St=[];for(const J of u.list())St.push(br(J,dt,Pt));return St.push(K),Ft(St)}).catch(J=>Qn(J,8)?J:Promise.reject(J))}function gt(dt,Pt,St){d.list().forEach(zt=>st(()=>zt(dt,Pt,St)))}function at(dt,Pt,St,zt,ue){const G=j(dt,Pt);if(G)return G;const K=Pt===gr,J=hi?history.state:{};St&&(zt||K?c.replace(dt.fullPath,ke({scroll:K&&J&&J.scroll},ue)):c.push(dt.fullPath,ue)),f.value=dt,Rt(dt,Pt,St,K),Dt()}let bt;function kt(){bt||(bt=c.listen((dt,Pt,St)=>{if(!le.listening)return;const zt=P(dt),ue=W(zt);if(ue){ot(ke(ue,{replace:!0}),zt).catch(ro);return}m=zt;const G=f.value;hi&&vg(ju(G.fullPath,St.delta),Es()),ut(zt,G).catch(K=>Qn(K,12)?K:Qn(K,2)?(ot(K.to,zt).then(J=>{Qn(J,20)&&!St.delta&&St.type===fo.pop&&c.go(-1,!1)}).catch(ro),Promise.reject()):(St.delta&&c.go(-St.delta,!1),wt(K,zt,G))).then(K=>{K=K||at(zt,G,!1),K&&(St.delta&&!Qn(K,8)?c.go(-St.delta,!1):St.type===fo.pop&&Qn(K,20)&&c.go(-1,!1)),gt(zt,G,K)}).catch(ro)}))}let Et=Wi(),Ct=Wi(),Ht;function wt(dt,Pt,St){Dt(dt);const zt=Ct.list();return zt.length?zt.forEach(ue=>ue(dt,Pt,St)):console.error(dt),Promise.reject(dt)}function pe(){return Ht&&f.value!==gr?Promise.resolve():new Promise((dt,Pt)=>{Et.add([dt,Pt])})}function Dt(dt){return Ht||(Ht=!dt,kt(),Et.list().forEach(([Pt,St])=>dt?St(dt):Pt()),Et.reset()),dt}function Rt(dt,Pt,St,zt){const{scrollBehavior:ue}=e;if(!hi||!ue)return Promise.resolve();const G=!St&&bg(ju(dt.fullPath,0))||(zt||!St)&&history.state&&history.state.scroll||null;return bs().then(()=>ue(dt,Pt,G)).then(K=>K&&yg(K)).catch(K=>wt(K,dt,Pt))}const Vt=dt=>c.go(dt);let Me;const fe=new Set,le={currentRoute:f,listening:!0,addRoute:A,removeRoute:C,hasRoute:V,getRoutes:S,resolve:P,options:e,push:T,replace:z,go:Vt,back:()=>Vt(-1),forward:()=>Vt(1),beforeEach:i.add,beforeResolve:u.add,afterEach:d.add,onError:Ct.add,isReady:pe,install(dt){const Pt=this;dt.component("RouterLink",r_),dt.component("RouterView",a_),dt.config.globalProperties.$router=Pt,Object.defineProperty(dt.config.globalProperties,"$route",{enumerable:!0,get:()=>Kt(f)}),hi&&!Me&&f.value===gr&&(Me=!0,T(c.location).catch(ue=>{}));const St={};for(const ue in gr)Object.defineProperty(St,ue,{get:()=>f.value[ue],enumerable:!0});dt.provide(Ts,Pt),dt.provide(hl,zc(St)),dt.provide(Ra,f);const zt=dt.unmount;fe.add(dt),dt.unmount=function(){fe.delete(dt),fe.size<1&&(m=gr,bt&&bt(),bt=null,f.value=gr,Me=!1,Ht=!1),zt()}}};function Ft(dt){return dt.reduce((Pt,St)=>Pt.then(()=>st(St)),Promise.resolve())}return le}function u_(e,n){const a=[],s=[],c=[],i=Math.max(n.matched.length,e.matched.length);for(let u=0;u<i;u++){const d=n.matched[u];d&&(e.matched.find(m=>vi(m,d))?s.push(d):a.push(d));const f=e.matched[u];f&&(n.matched.find(m=>vi(m,f))||c.push(f))}return[a,s,c]}function Ih(){return xn(Ts)}function Dh(){return xn(hl)}const c_={key:0},h_={__name:"FooterAnalytics",setup(e){const n={analytics:"Google Analytics",gtm:"Google Tag Manager",pixel:"Facebook Pixel",retargeting:"VK Retargeting",linkedin:"Linkedin Insight",tongji:"Baidu Tongji",metrica:"Yandex Metrica",microsoft:"Microsoft Analytics",hotjar:"Hotjar Analytics",fullStory:"Full story Analytics",unbounce:"Unbounce conversion analytics",tiktok:"TikTok Pixel Analytics"},s=Object.keys({base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"}.analytics_services||{}).map(c=>n[c]).filter(Boolean).join("; ");return(c,i)=>Kt(s)?(U(),nt("span",c_,"This site uses "+Qt(Kt(s))+".",1)):Nt("",!0)}},d_={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},p_={class:"container mx-auto text-sm pt-2 pb-4"},f_={class:"pt-4 pb-2"},m_={key:0},g_=["href"],__={class:"flex items-center text-xs gap-2"},y_=["src"],v_=et("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1),b_={class:"flex flex-col sm:flex-row justify-between gap-4"},w_={class:"[&>*:not(:last-child)]:after:content-['|'] [&>*:not(:last-child)]:after:mx-1"},x_=et("span",null,[ne(" Data provided by "),et("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://taxonworks.org/"}," TaxonWorks ")],-1),L_=et("span",null,[ne(" Pages by "),et("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://github.com/SpeciesFileGroup/taxonpages"}," TaxonPages ")],-1),k_=et("span",null,[ne(" Support (Services) by "),et("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://speciesfilegroup.org"}," Species File Group ")],-1),M_={__name:"LayoutFooter",setup(e){const{project_authors:n,project_citation:a,project_url:s,copyright_text:c,copyright_image:i,copyright_image_link:u,hash_mode:d}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"},f=new Date().toISOString().split("T")[0],m=Dh(),_=se(()=>{const v=(s||"").replace(/\/$/,"");return v.length?d?v+"/#"+m.fullPath:v+m.fullPath:""});return(v,M)=>{const A=pt("ClientOnly"),C=pt("TrackerReport");return U(),nt("footer",d_,[et("div",p_,[et("div",f_,[ne(Qt(Kt(n))+" "+Qt(Kt(a))+". ",1),rt(A,null,{default:ft(()=>[et("span",null,"Retrieved on "+Qt(Kt(f)),1)]),_:1}),_.value?(U(),nt("span",m_,[ne(" at "),et("a",{class:"text-secondary-color",href:_.value},Qt(_.value),9,g_)])):Nt("",!0)]),et("div",__,[(U(),At(Mi(Kt(u)?"a":"span"),{href:Kt(u),class:"min-w-fit"},{default:ft(()=>[Kt(i)?(U(),nt("img",{key:0,src:Kt(i),alt:"copyright"},null,8,y_)):Nt("",!0)]),_:1},8,["href"])),et("span",null,Qt(Kt(c)),1)]),v_,et("div",b_,[et("div",w_,[x_,L_,k_,rt(h_,{class:"italic"})]),rt(C,{icon:"",label:"Report a problem","button-class":"flex gap-2 items-center pl-0 pr-0 pt-0 pb-0 self-end"})])])])}}},C_={class:"min-h-screen h-screen flex flex-col justify-between"},P_={class:"flex flex-col flex-grow"},S_={__name:"Application",setup(e){return(n,a)=>(U(),nt("div",C_,[et("div",P_,[rt(sg),Se(n.$slots,"default")]),rt(M_)]))}},E_={__name:"App",setup(e){return ul({title:"Small Beetle Groups Catalog",meta:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}]}),(n,a)=>{const s=pt("router-view");return U(),At(S_,null,{default:ft(()=>[rt(s)]),_:1})}}},re=(e,n)=>{const a=e.__vccOpts||e;for(const[s,c]of n)a[s]=c;return a},T_={},O_={class:"mx-auto"},A_=et("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[et("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),et("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1),B_=[A_];function R_(e,n){return U(),nt("div",O_,B_)}const I_=re(T_,[["render",R_]]);var D_=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let zh;const Os=e=>zh=e,jh=Symbol();function Ia(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var oo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(oo||(oo={}));function z_(){const e=Mc(!0),n=e.run(()=>Zt({}));let a=[],s=[];const c=ys({install(i){Os(c),c._a=i,i.provide(jh,c),i.config.globalProperties.$pinia=c,s.forEach(u=>a.push(u)),s=[]},use(i){return!this._a&&!D_?s.push(i):a.push(i),this},_p:a,_a:null,_e:e,_s:new Map,state:n});return c}const Nh=()=>{};function Xu(e,n,a,s=Nh){e.push(n);const c=()=>{const i=e.indexOf(n);i>-1&&(e.splice(i,1),s())};return!a&&Cc()&&yp(c),c}function ui(e,...n){e.slice().forEach(a=>{a(...n)})}const j_=e=>e();function Da(e,n){e instanceof Map&&n instanceof Map&&n.forEach((a,s)=>e.set(s,a)),e instanceof Set&&n instanceof Set&&n.forEach(e.add,e);for(const a in n){if(!n.hasOwnProperty(a))continue;const s=n[a],c=e[a];Ia(c)&&Ia(s)&&e.hasOwnProperty(a)&&!Ie(s)&&!xr(s)?e[a]=Da(c,s):e[a]=s}return e}const N_=Symbol();function F_(e){return!Ia(e)||!e.hasOwnProperty(N_)}const{assign:yr}=Object;function G_(e){return!!(Ie(e)&&e.effect)}function H_(e,n,a,s){const{state:c,actions:i,getters:u}=n,d=a.state.value[e];let f;function m(){d||(a.state.value[e]=c?c():{});const _=Wp(a.state.value[e]);return yr(_,i,Object.keys(u||{}).reduce((v,M)=>(v[M]=ys(se(()=>{Os(a);const A=a._s.get(e);return u[M].call(A,A)})),v),{}))}return f=Fh(e,m,n,a,s,!0),f}function Fh(e,n,a={},s,c,i){let u;const d=yr({actions:{}},a),f={deep:!0};let m,_,v=[],M=[],A;const C=s.state.value[e];!i&&!C&&(s.state.value[e]={}),Zt({});let S;function V(Y){let st;m=_=!1,typeof Y=="function"?(Y(s.state.value[e]),st={type:oo.patchFunction,storeId:e,events:A}):(Da(s.state.value[e],Y),st={type:oo.patchObject,payload:Y,storeId:e,events:A});const ut=S=Symbol();bs().then(()=>{S===ut&&(m=!0)}),_=!0,ui(v,st,s.state.value[e])}const P=i?function(){const{state:st}=a,ut=st?st():{};this.$patch(gt=>{yr(gt,ut)})}:Nh;function O(){u.stop(),v=[],M=[],s._s.delete(e)}function j(Y,st){return function(){Os(s);const ut=Array.from(arguments),gt=[],at=[];function bt(Ct){gt.push(Ct)}function kt(Ct){at.push(Ct)}ui(M,{args:ut,name:Y,store:z,after:bt,onError:kt});let Et;try{Et=st.apply(this&&this.$id===e?this:z,ut)}catch(Ct){throw ui(at,Ct),Ct}return Et instanceof Promise?Et.then(Ct=>(ui(gt,Ct),Ct)).catch(Ct=>(ui(at,Ct),Promise.reject(Ct))):(ui(gt,Et),Et)}}const T={_p:s,$id:e,$onAction:Xu.bind(null,M),$patch:V,$reset:P,$subscribe(Y,st={}){const ut=Xu(v,Y,st.detached,()=>gt()),gt=u.run(()=>He(()=>s.state.value[e],at=>{(st.flush==="sync"?_:m)&&Y({storeId:e,type:oo.direct,events:A},at)},yr({},f,st)));return ut},$dispose:O},z=yo(T);s._s.set(e,z);const W=s._a&&s._a.runWithContext||j_,ot=s._e.run(()=>(u=Mc(),W(()=>u.run(n))));for(const Y in ot){const st=ot[Y];if(Ie(st)&&!G_(st)||xr(st))i||(C&&F_(st)&&(Ie(st)?st.value=C[Y]:Da(st,C[Y])),s.state.value[e][Y]=st);else if(typeof st=="function"){const ut=j(Y,st);ot[Y]=ut,d.actions[Y]=st}}return yr(z,ot),yr(me(z),ot),Object.defineProperty(z,"$state",{get:()=>s.state.value[e],set:Y=>{V(st=>{yr(st,Y)})}}),s._p.forEach(Y=>{yr(z,u.run(()=>Y({store:z,app:s._a,pinia:s,options:d})))}),C&&i&&a.hydrate&&a.hydrate(z.$state,C),m=!0,_=!0,z}function As(e,n,a){let s,c;const i=typeof n=="function";typeof e=="string"?(s=e,c=i?a:n):(c=e,s=e.id);function u(d,f){const m=Rf();return d=d||(m?xn(jh,null):null),d&&Os(d),d=zh,d._s.has(s)||(i?Fh(s,n,c,d):H_(s,c,d)),d._s.get(s)}return u.$id=s,u}const V_={},U_={class:"container mx-auto text-center relative top-1/4"},$_=et("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),Z_=et("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1),q_=[$_,Z_];function K_(e,n){return U(),nt("div",U_,q_)}const W_=re(V_,[["render",K_]]),J_=[{name:"homepage",path:"/",alias:"/home",component:W_}],Y_={},X_={class:"container mx-auto text-center relative top-1/4"},Q_=et("h1",{class:"text-7xl text-base-lighter"},"500",-1),ty=et("p",null,"Internal Server Error.",-1),ey=et("p",{class:"m-4 my-10 text-xl"},[ne(" Uh oh, looks like something went wrong!"),et("br"),ne(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1),ny=[Q_,ty,ey];function ry(e,n){return U(),nt("div",X_,ny)}const iy=re(Y_,[["render",ry]]),oy={},sy={class:"container mx-auto text-center relative top-1/4"},ay=et("h1",{class:"text-7xl text-base-lighter"},"404",-1),ly=et("p",null,"Page not found.",-1),uy=et("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1),cy=[ay,ly,uy];function hy(e,n){return U(),nt("div",sy,cy)}const dy=re(oy,[["render",hy]]),py=[{path:"/500",name:"httpError500",component:iy},{path:"/:pathMatch(.*)*",name:"httpError400",component:dy}];function Gh(e,n){return function(){return e.apply(n,arguments)}}const{toString:fy}=Object.prototype,{getPrototypeOf:dl}=Object,Bs=(e=>n=>{const a=fy.call(n);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=e=>(e=e.toLowerCase(),n=>Bs(n)===e),Rs=e=>n=>typeof n===e,{isArray:Ci}=Array,mo=Rs("undefined");function my(e){return e!==null&&!mo(e)&&e.constructor!==null&&!mo(e.constructor)&&Ln(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Hh=Vn("ArrayBuffer");function gy(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&Hh(e.buffer),n}const _y=Rs("string"),Ln=Rs("function"),Vh=Rs("number"),Is=e=>e!==null&&typeof e=="object",yy=e=>e===!0||e===!1,Qo=e=>{if(Bs(e)!=="object")return!1;const n=dl(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vy=Vn("Date"),by=Vn("File"),wy=Vn("Blob"),xy=Vn("FileList"),Ly=e=>Is(e)&&Ln(e.pipe),ky=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Ln(e.append)&&((n=Bs(e))==="formdata"||n==="object"&&Ln(e.toString)&&e.toString()==="[object FormData]"))},My=Vn("URLSearchParams"),Cy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bo(e,n,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let s,c;if(typeof e!="object"&&(e=[e]),Ci(e))for(s=0,c=e.length;s<c;s++)n.call(null,e[s],s,e);else{const i=a?Object.getOwnPropertyNames(e):Object.keys(e),u=i.length;let d;for(s=0;s<u;s++)d=i[s],n.call(null,e[d],d,e)}}function Uh(e,n){n=n.toLowerCase();const a=Object.keys(e);let s=a.length,c;for(;s-- >0;)if(c=a[s],n===c.toLowerCase())return c;return null}const $h=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Zh=e=>!mo(e)&&e!==$h;function za(){const{caseless:e}=Zh(this)&&this||{},n={},a=(s,c)=>{const i=e&&Uh(n,c)||c;Qo(n[i])&&Qo(s)?n[i]=za(n[i],s):Qo(s)?n[i]=za({},s):Ci(s)?n[i]=s.slice():n[i]=s};for(let s=0,c=arguments.length;s<c;s++)arguments[s]&&bo(arguments[s],a);return n}const Py=(e,n,a,{allOwnKeys:s}={})=>(bo(n,(c,i)=>{a&&Ln(c)?e[i]=Gh(c,a):e[i]=c},{allOwnKeys:s}),e),Sy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ey=(e,n,a,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),a&&Object.assign(e.prototype,a)},Ty=(e,n,a,s)=>{let c,i,u;const d={};if(n=n||{},e==null)return n;do{for(c=Object.getOwnPropertyNames(e),i=c.length;i-- >0;)u=c[i],(!s||s(u,e,n))&&!d[u]&&(n[u]=e[u],d[u]=!0);e=a!==!1&&dl(e)}while(e&&(!a||a(e,n))&&e!==Object.prototype);return n},Oy=(e,n,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=n.length;const s=e.indexOf(n,a);return s!==-1&&s===a},Ay=e=>{if(!e)return null;if(Ci(e))return e;let n=e.length;if(!Vh(n))return null;const a=new Array(n);for(;n-- >0;)a[n]=e[n];return a},By=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&dl(Uint8Array)),Ry=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=s.next())&&!c.done;){const i=c.value;n.call(e,i[0],i[1])}},Iy=(e,n)=>{let a;const s=[];for(;(a=e.exec(n))!==null;)s.push(a);return s},Dy=Vn("HTMLFormElement"),zy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,c){return s.toUpperCase()+c}),Qu=(({hasOwnProperty:e})=>(n,a)=>e.call(n,a))(Object.prototype),jy=Vn("RegExp"),qh=(e,n)=>{const a=Object.getOwnPropertyDescriptors(e),s={};bo(a,(c,i)=>{let u;(u=n(c,i,e))!==!1&&(s[i]=u||c)}),Object.defineProperties(e,s)},Ny=e=>{qh(e,(n,a)=>{if(Ln(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=e[a];if(Ln(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Fy=(e,n)=>{const a={},s=c=>{c.forEach(i=>{a[i]=!0})};return Ci(e)?s(e):s(String(e).split(n)),a},Gy=()=>{},Hy=(e,n)=>(e=+e,Number.isFinite(e)?e:n),da="abcdefghijklmnopqrstuvwxyz",tc="0123456789",Kh={DIGIT:tc,ALPHA:da,ALPHA_DIGIT:da+da.toUpperCase()+tc},Vy=(e=16,n=Kh.ALPHA_DIGIT)=>{let a="";const{length:s}=n;for(;e--;)a+=n[Math.random()*s|0];return a};function Uy(e){return!!(e&&Ln(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const $y=e=>{const n=new Array(10),a=(s,c)=>{if(Is(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[c]=s;const i=Ci(s)?[]:{};return bo(s,(u,d)=>{const f=a(u,c+1);!mo(f)&&(i[d]=f)}),n[c]=void 0,i}}return s};return a(e,0)},Zy=Vn("AsyncFunction"),qy=e=>e&&(Is(e)||Ln(e))&&Ln(e.then)&&Ln(e.catch),yt={isArray:Ci,isArrayBuffer:Hh,isBuffer:my,isFormData:ky,isArrayBufferView:gy,isString:_y,isNumber:Vh,isBoolean:yy,isObject:Is,isPlainObject:Qo,isUndefined:mo,isDate:vy,isFile:by,isBlob:wy,isRegExp:jy,isFunction:Ln,isStream:Ly,isURLSearchParams:My,isTypedArray:By,isFileList:xy,forEach:bo,merge:za,extend:Py,trim:Cy,stripBOM:Sy,inherits:Ey,toFlatObject:Ty,kindOf:Bs,kindOfTest:Vn,endsWith:Oy,toArray:Ay,forEachEntry:Ry,matchAll:Iy,isHTMLForm:Dy,hasOwnProperty:Qu,hasOwnProp:Qu,reduceDescriptors:qh,freezeMethods:Ny,toObjectSet:Fy,toCamelCase:zy,noop:Gy,toFiniteNumber:Hy,findKey:Uh,global:$h,isContextDefined:Zh,ALPHABET:Kh,generateString:Vy,isSpecCompliantForm:Uy,toJSONObject:$y,isAsyncFn:Zy,isThenable:qy};function _e(e,n,a,s,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),a&&(this.config=a),s&&(this.request=s),c&&(this.response=c)}yt.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Wh=_e.prototype,Jh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Jh[e]={value:e}});Object.defineProperties(_e,Jh);Object.defineProperty(Wh,"isAxiosError",{value:!0});_e.from=(e,n,a,s,c,i)=>{const u=Object.create(Wh);return yt.toFlatObject(e,u,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),_e.call(u,e.message,n,a,s,c),u.cause=e,u.name=e.name,i&&Object.assign(u,i),u};const Ky=null;function ja(e){return yt.isPlainObject(e)||yt.isArray(e)}function Yh(e){return yt.endsWith(e,"[]")?e.slice(0,-2):e}function ec(e,n,a){return e?e.concat(n).map(function(c,i){return c=Yh(c),!a&&i?"["+c+"]":c}).join(a?".":""):n}function Wy(e){return yt.isArray(e)&&!e.some(ja)}const Jy=yt.toFlatObject(yt,{},null,function(n){return/^is[A-Z]/.test(n)});function Ds(e,n,a){if(!yt.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,a=yt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,V){return!yt.isUndefined(V[S])});const s=a.metaTokens,c=a.visitor||_,i=a.dots,u=a.indexes,f=(a.Blob||typeof Blob<"u"&&Blob)&&yt.isSpecCompliantForm(n);if(!yt.isFunction(c))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(yt.isDate(C))return C.toISOString();if(!f&&yt.isBlob(C))throw new _e("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(C)||yt.isTypedArray(C)?f&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function _(C,S,V){let P=C;if(C&&!V&&typeof C=="object"){if(yt.endsWith(S,"{}"))S=s?S:S.slice(0,-2),C=JSON.stringify(C);else if(yt.isArray(C)&&Wy(C)||(yt.isFileList(C)||yt.endsWith(S,"[]"))&&(P=yt.toArray(C)))return S=Yh(S),P.forEach(function(j,T){!(yt.isUndefined(j)||j===null)&&n.append(u===!0?ec([S],T,i):u===null?S:S+"[]",m(j))}),!1}return ja(C)?!0:(n.append(ec(V,S,i),m(C)),!1)}const v=[],M=Object.assign(Jy,{defaultVisitor:_,convertValue:m,isVisitable:ja});function A(C,S){if(!yt.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+S.join("."));v.push(C),yt.forEach(C,function(P,O){(!(yt.isUndefined(P)||P===null)&&c.call(n,P,yt.isString(O)?O.trim():O,S,M))===!0&&A(P,S?S.concat(O):[O])}),v.pop()}}if(!yt.isObject(e))throw new TypeError("data must be an object");return A(e),n}function nc(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function pl(e,n){this._pairs=[],e&&Ds(e,this,n)}const Xh=pl.prototype;Xh.append=function(n,a){this._pairs.push([n,a])};Xh.toString=function(n){const a=n?function(s){return n.call(this,s,nc)}:nc;return this._pairs.map(function(c){return a(c[0])+"="+a(c[1])},"").join("&")};function Yy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qh(e,n,a){if(!n)return e;const s=a&&a.encode||Yy,c=a&&a.serialize;let i;if(c?i=c(n,a):i=yt.isURLSearchParams(n)?n.toString():new pl(n,a).toString(s),i){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Xy{constructor(){this.handlers=[]}use(n,a,s){return this.handlers.push({fulfilled:n,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){yt.forEach(this.handlers,function(s){s!==null&&n(s)})}}const rc=Xy,td={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qy=typeof URLSearchParams<"u"?URLSearchParams:pl,tv=typeof FormData<"u"?FormData:null,ev=typeof Blob<"u"?Blob:null,nv=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),rv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Tn={isBrowser:!0,classes:{URLSearchParams:Qy,FormData:tv,Blob:ev},isStandardBrowserEnv:nv,isStandardBrowserWebWorkerEnv:rv,protocols:["http","https","file","blob","url","data"]};function iv(e,n){return Ds(e,new Tn.classes.URLSearchParams,Object.assign({visitor:function(a,s,c,i){return Tn.isNode&&yt.isBuffer(a)?(this.append(s,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function ov(e){return yt.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function sv(e){const n={},a=Object.keys(e);let s;const c=a.length;let i;for(s=0;s<c;s++)i=a[s],n[i]=e[i];return n}function ed(e){function n(a,s,c,i){let u=a[i++];const d=Number.isFinite(+u),f=i>=a.length;return u=!u&&yt.isArray(c)?c.length:u,f?(yt.hasOwnProp(c,u)?c[u]=[c[u],s]:c[u]=s,!d):((!c[u]||!yt.isObject(c[u]))&&(c[u]=[]),n(a,s,c[u],i)&&yt.isArray(c[u])&&(c[u]=sv(c[u])),!d)}if(yt.isFormData(e)&&yt.isFunction(e.entries)){const a={};return yt.forEachEntry(e,(s,c)=>{n(ov(s),c,a,0)}),a}return null}function av(e,n,a){if(yt.isString(e))try{return(n||JSON.parse)(e),yt.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(e)}const fl={transitional:td,adapter:Tn.isNode?"http":"xhr",transformRequest:[function(n,a){const s=a.getContentType()||"",c=s.indexOf("application/json")>-1,i=yt.isObject(n);if(i&&yt.isHTMLForm(n)&&(n=new FormData(n)),yt.isFormData(n))return c&&c?JSON.stringify(ed(n)):n;if(yt.isArrayBuffer(n)||yt.isBuffer(n)||yt.isStream(n)||yt.isFile(n)||yt.isBlob(n))return n;if(yt.isArrayBufferView(n))return n.buffer;if(yt.isURLSearchParams(n))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return iv(n,this.formSerializer).toString();if((d=yt.isFileList(n))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Ds(d?{"files[]":n}:n,f&&new f,this.formSerializer)}}return i||c?(a.setContentType("application/json",!1),av(n)):n}],transformResponse:[function(n){const a=this.transitional||fl.transitional,s=a&&a.forcedJSONParsing,c=this.responseType==="json";if(n&&yt.isString(n)&&(s&&!this.responseType||c)){const u=!(a&&a.silentJSONParsing)&&c;try{return JSON.parse(n)}catch(d){if(u)throw d.name==="SyntaxError"?_e.from(d,_e.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],e=>{fl.headers[e]={}});const ml=fl,lv=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uv=e=>{const n={};let a,s,c;return e&&e.split(`
`).forEach(function(u){c=u.indexOf(":"),a=u.substring(0,c).trim().toLowerCase(),s=u.substring(c+1).trim(),!(!a||n[a]&&lv[a])&&(a==="set-cookie"?n[a]?n[a].push(s):n[a]=[s]:n[a]=n[a]?n[a]+", "+s:s)}),n},ic=Symbol("internals");function Ji(e){return e&&String(e).trim().toLowerCase()}function ts(e){return e===!1||e==null?e:yt.isArray(e)?e.map(ts):String(e)}function cv(e){const n=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)n[s[1]]=s[2];return n}const hv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pa(e,n,a,s,c){if(yt.isFunction(s))return s.call(this,n,a);if(c&&(n=a),!!yt.isString(n)){if(yt.isString(s))return n.indexOf(s)!==-1;if(yt.isRegExp(s))return s.test(n)}}function dv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,a,s)=>a.toUpperCase()+s)}function pv(e,n){const a=yt.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(c,i,u){return this[s].call(this,n,c,i,u)},configurable:!0})})}class zs{constructor(n){n&&this.set(n)}set(n,a,s){const c=this;function i(d,f,m){const _=Ji(f);if(!_)throw new Error("header name must be a non-empty string");const v=yt.findKey(c,_);(!v||c[v]===void 0||m===!0||m===void 0&&c[v]!==!1)&&(c[v||f]=ts(d))}const u=(d,f)=>yt.forEach(d,(m,_)=>i(m,_,f));return yt.isPlainObject(n)||n instanceof this.constructor?u(n,a):yt.isString(n)&&(n=n.trim())&&!hv(n)?u(uv(n),a):n!=null&&i(a,n,s),this}get(n,a){if(n=Ji(n),n){const s=yt.findKey(this,n);if(s){const c=this[s];if(!a)return c;if(a===!0)return cv(c);if(yt.isFunction(a))return a.call(this,c,s);if(yt.isRegExp(a))return a.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,a){if(n=Ji(n),n){const s=yt.findKey(this,n);return!!(s&&this[s]!==void 0&&(!a||pa(this,this[s],s,a)))}return!1}delete(n,a){const s=this;let c=!1;function i(u){if(u=Ji(u),u){const d=yt.findKey(s,u);d&&(!a||pa(s,s[d],d,a))&&(delete s[d],c=!0)}}return yt.isArray(n)?n.forEach(i):i(n),c}clear(n){const a=Object.keys(this);let s=a.length,c=!1;for(;s--;){const i=a[s];(!n||pa(this,this[i],i,n,!0))&&(delete this[i],c=!0)}return c}normalize(n){const a=this,s={};return yt.forEach(this,(c,i)=>{const u=yt.findKey(s,i);if(u){a[u]=ts(c),delete a[i];return}const d=n?dv(i):String(i).trim();d!==i&&delete a[i],a[d]=ts(c),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const a=Object.create(null);return yt.forEach(this,(s,c)=>{s!=null&&s!==!1&&(a[c]=n&&yt.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,a])=>n+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...a){const s=new this(n);return a.forEach(c=>s.set(c)),s}static accessor(n){const s=(this[ic]=this[ic]={accessors:{}}).accessors,c=this.prototype;function i(u){const d=Ji(u);s[d]||(pv(c,u),s[d]=!0)}return yt.isArray(n)?n.forEach(i):i(n),this}}zs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);yt.reduceDescriptors(zs.prototype,({value:e},n)=>{let a=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[a]=s}}});yt.freezeMethods(zs);const er=zs;function fa(e,n){const a=this||ml,s=n||a,c=er.from(s.headers);let i=s.data;return yt.forEach(e,function(d){i=d.call(a,i,c.normalize(),n?n.status:void 0)}),c.normalize(),i}function nd(e){return!!(e&&e.__CANCEL__)}function wo(e,n,a){_e.call(this,e??"canceled",_e.ERR_CANCELED,n,a),this.name="CanceledError"}yt.inherits(wo,_e,{__CANCEL__:!0});function fv(e,n,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?e(a):n(new _e("Request failed with status code "+a.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}const mv=Tn.isStandardBrowserEnv?function(){return{write:function(a,s,c,i,u,d){const f=[];f.push(a+"="+encodeURIComponent(s)),yt.isNumber(c)&&f.push("expires="+new Date(c).toGMTString()),yt.isString(i)&&f.push("path="+i),yt.isString(u)&&f.push("domain="+u),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(a){const s=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function gv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _v(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}function rd(e,n){return e&&!gv(n)?_v(e,n):n}const yv=Tn.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");let s;function c(i){let u=i;return n&&(a.setAttribute("href",u),u=a.href),a.setAttribute("href",u),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return s=c(window.location.href),function(u){const d=yt.isString(u)?c(u):u;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}();function vv(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function bv(e,n){e=e||10;const a=new Array(e),s=new Array(e);let c=0,i=0,u;return n=n!==void 0?n:1e3,function(f){const m=Date.now(),_=s[i];u||(u=m),a[c]=f,s[c]=m;let v=i,M=0;for(;v!==c;)M+=a[v++],v=v%e;if(c=(c+1)%e,c===i&&(i=(i+1)%e),m-u<n)return;const A=_&&m-_;return A?Math.round(M*1e3/A):void 0}}function oc(e,n){let a=0;const s=bv(50,250);return c=>{const i=c.loaded,u=c.lengthComputable?c.total:void 0,d=i-a,f=s(d),m=i<=u;a=i;const _={loaded:i,total:u,progress:u?i/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-i)/f:void 0,event:c};_[n?"download":"upload"]=!0,e(_)}}const wv=typeof XMLHttpRequest<"u",xv=wv&&function(e){return new Promise(function(a,s){let c=e.data;const i=er.from(e.headers).normalize(),u=e.responseType;let d;function f(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}yt.isFormData(c)&&(Tn.isStandardBrowserEnv||Tn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let m=new XMLHttpRequest;if(e.auth){const A=e.auth.username||"",C=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(A+":"+C))}const _=rd(e.baseURL,e.url);m.open(e.method.toUpperCase(),Qh(_,e.params,e.paramsSerializer),!0),m.timeout=e.timeout;function v(){if(!m)return;const A=er.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),S={data:!u||u==="text"||u==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:A,config:e,request:m};fv(function(P){a(P),f()},function(P){s(P),f()},S),m=null}if("onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(s(new _e("Request aborted",_e.ECONNABORTED,e,m)),m=null)},m.onerror=function(){s(new _e("Network Error",_e.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let C=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const S=e.transitional||td;e.timeoutErrorMessage&&(C=e.timeoutErrorMessage),s(new _e(C,S.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,m)),m=null},Tn.isStandardBrowserEnv){const A=(e.withCredentials||yv(_))&&e.xsrfCookieName&&mv.read(e.xsrfCookieName);A&&i.set(e.xsrfHeaderName,A)}c===void 0&&i.setContentType(null),"setRequestHeader"in m&&yt.forEach(i.toJSON(),function(C,S){m.setRequestHeader(S,C)}),yt.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),u&&u!=="json"&&(m.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&m.addEventListener("progress",oc(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",oc(e.onUploadProgress)),(e.cancelToken||e.signal)&&(d=A=>{m&&(s(!A||A.type?new wo(null,e,m):A),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d)));const M=vv(_);if(M&&Tn.protocols.indexOf(M)===-1){s(new _e("Unsupported protocol "+M+":",_e.ERR_BAD_REQUEST,e));return}m.send(c||null)})},es={http:Ky,xhr:xv};yt.forEach(es,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const id={getAdapter:e=>{e=yt.isArray(e)?e:[e];const{length:n}=e;let a,s;for(let c=0;c<n&&(a=e[c],!(s=yt.isString(a)?es[a.toLowerCase()]:a));c++);if(!s)throw s===!1?new _e(`Adapter ${a} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(yt.hasOwnProp(es,a)?`Adapter '${a}' is not available in the build`:`Unknown adapter '${a}'`);if(!yt.isFunction(s))throw new TypeError("adapter is not a function");return s},adapters:es};function ma(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wo(null,e)}function sc(e){return ma(e),e.headers=er.from(e.headers),e.data=fa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),id.getAdapter(e.adapter||ml.adapter)(e).then(function(s){return ma(e),s.data=fa.call(e,e.transformResponse,s),s.headers=er.from(s.headers),s},function(s){return nd(s)||(ma(e),s&&s.response&&(s.response.data=fa.call(e,e.transformResponse,s.response),s.response.headers=er.from(s.response.headers))),Promise.reject(s)})}const ac=e=>e instanceof er?e.toJSON():e;function wi(e,n){n=n||{};const a={};function s(m,_,v){return yt.isPlainObject(m)&&yt.isPlainObject(_)?yt.merge.call({caseless:v},m,_):yt.isPlainObject(_)?yt.merge({},_):yt.isArray(_)?_.slice():_}function c(m,_,v){if(yt.isUndefined(_)){if(!yt.isUndefined(m))return s(void 0,m,v)}else return s(m,_,v)}function i(m,_){if(!yt.isUndefined(_))return s(void 0,_)}function u(m,_){if(yt.isUndefined(_)){if(!yt.isUndefined(m))return s(void 0,m)}else return s(void 0,_)}function d(m,_,v){if(v in n)return s(m,_);if(v in e)return s(void 0,m)}const f={url:i,method:i,data:i,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,_)=>c(ac(m),ac(_),!0)};return yt.forEach(Object.keys(Object.assign({},e,n)),function(_){const v=f[_]||c,M=v(e[_],n[_],_);yt.isUndefined(M)&&v!==d||(a[_]=M)}),a}const od="1.5.0",gl={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{gl[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const lc={};gl.transitional=function(n,a,s){function c(i,u){return"[Axios v"+od+"] Transitional option '"+i+"'"+u+(s?". "+s:"")}return(i,u,d)=>{if(n===!1)throw new _e(c(u," has been removed"+(a?" in "+a:"")),_e.ERR_DEPRECATED);return a&&!lc[u]&&(lc[u]=!0,console.warn(c(u," has been deprecated since v"+a+" and will be removed in the near future"))),n?n(i,u,d):!0}};function Lv(e,n,a){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let c=s.length;for(;c-- >0;){const i=s[c],u=n[i];if(u){const d=e[i],f=d===void 0||u(d,i,e);if(f!==!0)throw new _e("option "+i+" must be "+f,_e.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new _e("Unknown option "+i,_e.ERR_BAD_OPTION)}}const Na={assertOptions:Lv,validators:gl},_r=Na.validators;class ps{constructor(n){this.defaults=n,this.interceptors={request:new rc,response:new rc}}request(n,a){typeof n=="string"?(a=a||{},a.url=n):a=n||{},a=wi(this.defaults,a);const{transitional:s,paramsSerializer:c,headers:i}=a;s!==void 0&&Na.assertOptions(s,{silentJSONParsing:_r.transitional(_r.boolean),forcedJSONParsing:_r.transitional(_r.boolean),clarifyTimeoutError:_r.transitional(_r.boolean)},!1),c!=null&&(yt.isFunction(c)?a.paramsSerializer={serialize:c}:Na.assertOptions(c,{encode:_r.function,serialize:_r.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let u=i&&yt.merge(i.common,i[a.method]);i&&yt.forEach(["delete","get","head","post","put","patch","common"],C=>{delete i[C]}),a.headers=er.concat(u,i);const d=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(a)===!1||(f=f&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let _,v=0,M;if(!f){const C=[sc.bind(this),void 0];for(C.unshift.apply(C,d),C.push.apply(C,m),M=C.length,_=Promise.resolve(a);v<M;)_=_.then(C[v++],C[v++]);return _}M=d.length;let A=a;for(v=0;v<M;){const C=d[v++],S=d[v++];try{A=C(A)}catch(V){S.call(this,V);break}}try{_=sc.call(this,A)}catch(C){return Promise.reject(C)}for(v=0,M=m.length;v<M;)_=_.then(m[v++],m[v++]);return _}getUri(n){n=wi(this.defaults,n);const a=rd(n.baseURL,n.url);return Qh(a,n.params,n.paramsSerializer)}}yt.forEach(["delete","get","head","options"],function(n){ps.prototype[n]=function(a,s){return this.request(wi(s||{},{method:n,url:a,data:(s||{}).data}))}});yt.forEach(["post","put","patch"],function(n){function a(s){return function(i,u,d){return this.request(wi(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:u}))}}ps.prototype[n]=a(),ps.prototype[n+"Form"]=a(!0)});const ns=ps;class _l{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const s=this;this.promise.then(c=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](c);s._listeners=null}),this.promise.then=c=>{let i;const u=new Promise(d=>{s.subscribe(d),i=d}).then(c);return u.cancel=function(){s.unsubscribe(i)},u},n(function(i,u,d){s.reason||(s.reason=new wo(i,u,d),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}static source(){let n;return{token:new _l(function(c){n=c}),cancel:n}}}const kv=_l;function Mv(e){return function(a){return e.apply(null,a)}}function Cv(e){return yt.isObject(e)&&e.isAxiosError===!0}const Fa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fa).forEach(([e,n])=>{Fa[n]=e});const Pv=Fa;function sd(e){const n=new ns(e),a=Gh(ns.prototype.request,n);return yt.extend(a,ns.prototype,n,{allOwnKeys:!0}),yt.extend(a,n,null,{allOwnKeys:!0}),a.create=function(c){return sd(wi(e,c))},a}const Ne=sd(ml);Ne.Axios=ns;Ne.CanceledError=wo;Ne.CancelToken=kv;Ne.isCancel=nd;Ne.VERSION=od;Ne.toFormData=Ds;Ne.AxiosError=_e;Ne.Cancel=Ne.CanceledError;Ne.all=function(n){return Promise.all(n)};Ne.spread=Mv;Ne.isAxiosError=Cv;Ne.mergeConfig=wi;Ne.AxiosHeaders=er;Ne.formToJSON=e=>ed(yt.isHTMLForm(e)?new FormData(e):e);Ne.getAdapter=id.getAdapter;Ne.HttpStatusCode=Pv;Ne.default=Ne;const Sv=Ne,{url:Ev,project_token:Tv}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"},We=Sv.create({baseURL:Ev,params:{project_token:Tv}});class ln{static getTaxonNameCitations(n,a){return We.get(`/taxon_names/${n}/inventory/catalog`,a)}static getOtu(n){return We.get(`/otus/${n}`,{params:{extend:["parents"]}})}static getOtus(n){return We.get("/otus.json",{params:n})}static getTaxon(n,a){return We.get(`/taxon_names/${n}`,a)}static summary(n,a){return We.get(`/taxon_names/${n}/inventory/summary`,a)}static getTaxonTypeDesignation(n){return We.get(`/taxon_names/${n}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(n,a){return We.get(`/otus/${n}/inventory/images.json`,a)}static getTaxonomy(n,a){return We.get(`/otus/${n}/inventory/taxonomy.json`,a)}static getOtuTypeMaterial(n){return We.get(`/otus/${n}/inventory/type_material.json`)}static getOtuDistribution(n,a={}){return We.get(`/otus/${n}/inventory/distribution.json`,a)}static getOtuGeoJSONDistribution(n){return We.get(`/otus/${n}/inventory/distribution.geojson`)}static getCachedMap(n,a){return We.get(`/cached_maps/${n}`,a)}static getOtuContent(n,a){return We.get(`/otus/${n}/inventory/content`,a)}static getCachedMap(n){return We.get(`/cached_maps/${n}`)}}const js=As("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:e=>n=>e.requests[n],sitemap:e=>{const n=Object.keys(e.requests).sort();return Object.fromEntries(n.map(a=>[a,e.requests[a].url]))}},actions:{setRequest(e,{data:n,request:a}){var c;const s=((c=a.res)==null?void 0:c.responseUrl)||a.responseURL;this.requests[e]={url:s,data:n}}}}),Ov="FamilyGroup",Av="GenusGroup",ad="SpeciesGroup",go={CanceledError:"CanceledError"},uc=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype","paratypes"];function rr(e,n){const a=js(),s=n();return s.then(c=>{a.setRequest(e,c)}).catch(c=>{c.name!==go.CanceledError&&a.setRequest(e,c.response)}),s}const Pi=As("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(e,{signal:n}){const a=await rr("summary",()=>ln.summary(e,{signal:n}));this.taxon=a.data},async loadOtu(e,{signal:n}){const a=await ln.getOtu(e,{signal:n});this.otu=a.data},async loadTaxonomy(e,{signal:n}){const{data:a}=await ln.getTaxonomy(e,{params:{max_descendants_depth:0,extend:["common_names"]},signal:n});this.taxonomy={commonNames:a.common_names,synonyms:a.nomenclatural_synonyms}},async loadCatalog(e,{signal:n}){this.catalog.isLoading=!0;const a=await rr("taxonomy",()=>ln.getTaxonNameCitations(e,{signal:n}));this.catalog={...a.data,sources:a.data.sources.map(({cached:s,url:c})=>s.replace(c,`<a href="${c}">${c}</a>`)),isLoading:!1}},async loadInit({otuId:e,controller:n}){js().$reset();try{await this.loadOtu(e,n),await this.loadTaxon(this.otu.taxon_name_id,n),await this.loadCatalog(this.otu.taxon_name_id,n),await this.loadTaxonomy(e,n)}catch(s){return Promise.reject(s)}}}});function Bv(e,n){return e||(e={}),e._resolver=n,e}function Rv(e){return Bv(e,"taxon")}function Iv(e){return ul({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:e}]})}const Dv=et("h3",{class:"font-medium"},"Sitemap",-1),zv={class:"p-4 pt-0"},jv=et("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1),Nv=["href"],Fv={__name:"SiteMap",setup(e){const n=Zt(!1),a=js();return(s,c)=>{const i=pt("IconJson"),u=pt("VButton"),d=pt("VTableHeaderCell"),f=pt("VTableHeaderRow"),m=pt("VTableHeader"),_=pt("VTableBodyCell"),v=pt("VTableBodyRow"),M=pt("VTableBody"),A=pt("VTable"),C=pt("VModal");return U(),nt("div",null,[rt(u,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:c[0]||(c[0]=S=>n.value=!0)},{default:ft(()=>[rt(i,{class:"w-4 h-4"}),ne(" Sitemap ")]),_:1}),n.value?(U(),At(C,{key:0,onClose:c[1]||(c[1]=S=>n.value=!1)},{header:ft(()=>[Dv]),default:ft(()=>[et("div",zv,[jv,rt(A,null,{default:ft(()=>[rt(m,null,{default:ft(()=>[rt(f,null,{default:ft(()=>[rt(d,null,{default:ft(()=>[ne(" Request Key ")]),_:1}),rt(d,null,{default:ft(()=>[ne(" URL ")]),_:1})]),_:1})]),_:1}),rt(M,null,{default:ft(()=>[(U(!0),nt($t,null,ye(Kt(a).sitemap,(S,V)=>(U(),At(v,{key:V},{default:ft(()=>[rt(_,{class:"capitalize"},{default:ft(()=>[ne(Qt(V.replaceAll(":"," ")),1)]),_:2},1024),rt(_,null,{default:ft(()=>[et("a",{href:S},Qt(S),9,Nv)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Nt("",!0)])}}},Gv={class:"relative"},Hv=et("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[et("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Vv={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},Uv={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(e){const n=Zt(!1);return(a,s)=>{const c=pt("router-link");return U(),nt("div",Gv,[et("div",null,[et("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:s[0]||(s[0]=i=>n.value=!n.value)},[Se(a.$slots,"default"),Hv]),n.value?(U(),nt("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:s[1]||(s[1]=i=>n.value=!1)})):Nt("",!0),n.value?(U(),nt("div",Vv,[(U(!0),nt($t,null,ye(e.list,i=>(U(),At(c,{key:i.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:i.id}}},{default:ft(()=>[ne(Qt(i.name||a.key),1)]),_:2},1032,["to"]))),128))])):Nt("",!0)])])}}},$v={class:"inline-flex items-center flex-wrap"},Zv={class:"inline-flex items-center ml-0 text-sm"},qv=["innerHTML"],Kv={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(e){return(n,a)=>{const s=pt("IconArrowRight"),c=pt("router-link");return U(),nt("ul",$v,[(U(!0),nt($t,null,ye(e.list,(i,u,d)=>(U(),nt("li",{key:i.id,class:"inline-flex items-center"},[d?(U(),At(s,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Nt("",!0),i.length===1?(U(),At(c,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:i[0].id}}},{default:ft(()=>[ne(Qt(u),1)]),_:2},1032,["to"])):(U(),At(Uv,{key:2,list:i.map(f=>({...f,name:f.name||u}))},{default:ft(()=>[ne(Qt(u),1)]),_:2},1032,["list"]))]))),128)),et("li",Zv,[rt(s,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),et("span",{innerHTML:e.current.full_name_tag},null,8,qv)])])}}},Wv={__name:"CommonNames",setup(e){const n=Pi(),a=se(()=>n.taxonomy.commonNames.map(s=>s.name).join("; "));return(s,c)=>(U(),nt("span",null,Qt(a.value),1))}},Jv={class:"text-1xl capitalize"},Yv={class:"text-xl dark:text-gray-100"},Xv=["title","innerHTML"],Qv={key:0,class:"ml-1 text-red-600",title:"Invalid"},tb={class:"text-1xl"},eb={__name:"TaxaInfo",setup(e){const n=Pi();return(a,s)=>(U(),nt("div",null,[et("h2",Jv,Qt(Kt(n).taxon.rank||"Combination"),1),et("h1",Yv,[et("span",null,[et("span",{title:Kt(n).taxon.short_status,innerHTML:Kt(n).taxon.full_name_tag},null,8,Xv),Kt(n).taxon.is_valid?Nt("",!0):(U(),nt("span",Qv," ✕ "))])]),et("h2",tb,[rt(Wv)])]))}},nb={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(e){const n=e,{url:a,project_token:s}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"};function c(){window.open(`${a}/otus/${n.otu.id}/inventory/dwc?project_token=${s}`,"_self")}return(i,u)=>{const d=pt("IconDownload"),f=pt("VButton");return U(),At(f,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:u[0]||(u[0]=()=>{c()})},{default:ft(()=>[rt(d,{class:"w-4 h-4 mr-1"}),ne(" DwC ")]),_:1})}}},rb={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},ib={class:"container mx-auto pt-6 pb-6"},ob={class:"flex flex-col-reverse md:flex-row justify-between items-start"},sb={class:"mt-8 flex justify-between items-end"},ab={class:"flex flex-row gap-2"},lb={class:"pt-3 pb-4"},ub={class:"container mx-auto box-border"},cb={__name:"Index",setup(e){const n=Dh(),a=Ih(),s=Zt(n.params),c=[],i=Pi();let u=new AbortController;a.afterEach(C=>{s.value=C.params});const d=se(()=>i.otu),f=se(()=>i.taxon),m=se(()=>{var C,S;return((C=d.value)==null?void 0:C.id)&&((S=f.value)==null?void 0:S.id)});nl(async()=>{await _()}),He(()=>n.fullPath,async()=>{u.abort(),u=new AbortController,_()}),en(async()=>{var C,S;((C=d.value)==null?void 0:C.id)!==Number(n.params.id)||!((S=f.value)!=null&&S.id)?await _():M()}),or(()=>{i.$reset()});async function _(){i.$reset();try{await i.loadInit({otuId:n.params.id,controller:u}),M()}catch(C){C.name!==go.CanceledError&&v(C)}}function v(C){var S;switch((S=C==null?void 0:C.response)==null?void 0:S.status){case 404:a.replace({name:"httpError400"});break;case 500:a.replace({name:"httpError500"});break}}function M(){ul({title:`Small Beetle Groups Catalog - ${f.value.full_name}`}),Iv([Rv({id:n.fullPath,name:f.value.full_name,scientificName:{name:f.value.full_name,author:f.value.author,taxonRank:f.value.rank},parentTaxon:{name:f.value.parent.full_name,taxonRank:f.value.parent.rank},commonNames:i.taxonomy.commonNames,alternateName:i.taxonomy.synonyms})])}function A({id:C,otu_valid_id:S}){a.push({name:"otus-id-overview",params:{id:S||C}})}return(C,S)=>{const V=pt("VSkeleton"),P=pt("Autocomplete"),O=pt("ClientOnly"),j=pt("TabItem"),T=pt("TabMenu"),z=pt("router-view");return U(),nt("main",null,[et("div",rb,[et("div",ib,[et("div",ob,[rt(V,{class:"w-full md:w-3/4"},{default:ft(()=>{var W;return[m.value?(U(),At(Kv,{key:0,class:"w-full md:w-3/4",list:((W=d.value)==null?void 0:W.parents)||{},current:f.value},null,8,["list","current"])):Nt("",!0)]}),_:1}),rt(P,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:A})]),et("div",sb,[rt(V,{lines:2,class:"w-96"},{default:ft(()=>[m.value?(U(),At(eb,{key:0})):Nt("",!0)]),_:1}),et("div",ab,[rt(O,null,{default:ft(()=>[rt(Fv)]),_:1}),m.value?(U(),At(nb,{key:0,otu:d.value},null,8,["otu"])):Nt("",!0)])]),c.length?(U(),At(T,{key:0,class:"m-[-1px] print:hidden"},{default:ft(()=>[(U(),nt($t,null,ye(c,({name:W,label:ot})=>rt(j,{key:W,to:{name:W}},{default:ft(()=>[ne(Qt(ot),1)]),_:2},1032,["to"])),64))]),_:1})):Nt("",!0)])]),et("div",lb,[et("div",ub,[m.value?(U(),At(z,{key:Kt(n).fullPath,"taxon-id":f.value.id,taxon:f.value,"taxon-rank":f.value.rank_string,"otu-id":d.value.id,otu:d.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Nt("",!0)])])])}}},hb=["innerHTML"],db={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(e){return(n,a)=>{const s=pt("VCardHeader"),c=pt("VCardContent");return U(),nt($t,null,[rt(s,{class:"border-t border-base-muted first:border-t-0"},{default:ft(()=>[ne(Qt(e.title),1)]),_:1}),rt(c,null,{default:ft(()=>[(U(!0),nt($t,null,ye(e.textList,(i,u)=>(U(),nt("ul",{key:u,class:"pt-1 text-sm"},[et("li",{innerHTML:i},null,8,hb)]))),128))]),_:1})],64)}}},pb={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(e){const n=e,a=Zt([]),s=new AbortController,c=se(()=>a.value.reduce((i,u)=>(i[u.name]?i[u.name].push(u.text):i[u.name]=[u.text],i),{}));return ih(()=>{rr("panel:content",()=>ln.getOtuContent(n.otuId,{params:{extend:["depiction"]},signal:s.signal})).then(({data:i})=>{a.value=i}).catch(i=>{})}),or(()=>{s.abort()}),(i,u)=>{const d=pt("VCard");return a.value.length?(U(),At(d,{key:0},{default:ft(()=>[(U(!0),nt($t,null,ye(c.value,(f,m)=>(U(),At(db,{key:m,title:m,"text-list":f},null,8,["title","text-list"]))),128))]),_:1})):Nt("",!0)}}},fb={id:"panel:content",component:pb},mb={class:"synonyms"},gb=et("span",{class:"text-orange-500 mr-1"},"=",-1),_b=["innerHTML"],yb={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(e){const n=e;return(a,s)=>(U(),nt("ul",mb,[(U(!0),nt($t,null,ye(n.list,c=>(U(),nt("li",{key:c},[gb,et("span",{innerHTML:c},null,8,_b)]))),128))]))}};const vb={key:0,class:"tree"},bb={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(e){const n=e,a=Zt(!!n.taxonomy.descendants.length),s=Zt([...n.taxonomy.descendants]);He(a,i=>{i&&c()});const c=()=>{s.value.length||ln.getTaxonomy(n.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:i})=>{s.value=i.descendants})};return(i,u)=>{const d=pt("button-expand"),f=pt("router-link"),m=pt("AnimationOpacity");return Object.keys(e.taxonomy).length?(U(),nt("li",{key:e.taxonomy.otu_id},[e.taxonomy.leaf_node?Nt("",!0):(U(),At(d,{key:0,modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=_=>a.value=_),class:"absolute -left-2.5"},null,8,["modelValue"])),rt(f,{class:"text-primary-500",to:{name:"otus-id",params:{id:e.taxonomy.otu_id}},innerHTML:e.taxonomy.name},null,8,["to","innerHTML"]),e.taxonomy.nomenclatural_synonyms.length?(U(),At(yb,{key:1,class:"pb-4",list:e.taxonomy.nomenclatural_synonyms},null,8,["list"])):Nt("",!0),rt(m,null,{default:ft(()=>[s.value.length?(U(),nt("ul",vb,[(U(!0),nt($t,null,ye(s.value,_=>(U(),At(m,{key:_.otu_id},{default:ft(()=>[a.value?(U(),At(ld,{key:0,taxonomy:_},null,8,["taxonomy"])):Nt("",!0)]),_:2},1024))),128))])):Nt("",!0)]),_:1})])):Nt("",!0)}}},ld=re(bb,[["__scopeId","data-v-b79ba271"]]),wb=et("h3",null,"JSON Data",-1),xb={key:0,class:"p-5 font-normal"},Lb={class:"pb-2 text-sm"},kb=["href"],Mb={class:"relative"},Cb=["innerHTML"],Si={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(e){const n=e,a=se(()=>s.getRequest(n.panelKey)),s=js(),c=Zt(!1),i=se(()=>[...n.menuOptions,{label:"JSON Data",action:()=>c.value=!0}]);return(u,d)=>{const f=pt("IconHamburger"),m=pt("Dropdown"),_=pt("VClipboard"),v=pt("VModal");return U(),nt($t,null,[rt(m,{items:i.value},{button:ft(()=>[rt(f,{class:"text-base-soft h-4"})]),_:1},8,["items"]),c.value?(U(),At(v,{key:0,onClose:d[0]||(d[0]=M=>c.value=!1)},{header:ft(()=>[wb]),default:ft(()=>[a.value?(U(),nt("div",xb,[et("h3",Lb,[ne(" URL: "),et("a",{href:a.value.url},Qt(a.value.url),9,kb)]),et("div",Mb,[et("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(a.value.data,null,4)},null,8,Cb),rt(_,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(a.value.data,null,2)},null,8,["text"])])])):Nt("",!0)]),_:1})):Nt("",!0)],64)}}};const Pb=e=>(Kc("data-v-91511d41"),e=e(),Wc(),e),Sb=Pb(()=>et("h2",{class:"text-md"},"Descendants and synonyms",-1)),Eb={class:"tree ml-2"},Tb={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(e){const n=e,a=Zt(null),s=Zt(!1);return He(()=>n.otuId,async()=>{n.otuId&&(s.value=!0,rr("panel:descendants",()=>ln.getTaxonomy(n.otuId,{params:{max_descendants_depth:1}})).then(({data:c})=>{a.value=c}).finally(()=>s.value=!1))},{immediate:!0}),(c,i)=>{const u=pt("VSpinner"),d=pt("ClientOnly"),f=pt("VCardHeader"),m=pt("AnimationOpacity"),_=pt("VCardContent"),v=pt("VCard");return U(),At(v,null,{default:ft(()=>[rt(d,null,{default:ft(()=>[s.value?(U(),At(u,{key:0,"logo-class":"w-8 h-8",legend:""})):Nt("",!0)]),_:1}),rt(f,{class:"flex justify-between"},{default:ft(()=>[Sb,rt(Si,{"panel-key":"panel:descendants"})]),_:1}),rt(_,{class:"text-sm"},{default:ft(()=>[et("ul",Eb,[rt(m,null,{default:ft(()=>[a.value&&(a.value.nomenclatural_synonyms.length||a.value.descendants.length)?(U(),At(ld,{key:0,taxonomy:a.value},null,8,["taxonomy"])):Nt("",!0)]),_:1})])]),_:1})]),_:1})}}},Ob=re(Tb,[["__scopeId","data-v-91511d41"]]),Ab={id:"panel:descendants",component:Ob},Bb=As("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){var e;(e=this.controller)==null||e.abort()},async loadImages(e){const n={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.controller=new AbortController;try{const a=await rr("panel:images",()=>ln.getOtuImages(e,{params:n,signal:this.controller.signal}));this.images=a.data,this.controller=null}catch(a){a.name!==go.CanceledError&&(this.controller=null)}}}}),Rb={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0}},setup(e){const n=e,a=Bb(),s=se(()=>a.images||[]);return nl(async()=>{await a.loadImages(n.otuId)}),en(()=>{a.images||a.loadImages(n.otuId)}),or(()=>{a.resetRequest(),a.$reset()}),(c,i)=>{const u=pt("GalleryImage"),d=pt("VCardContent"),f=pt("VCard");return s.value.length?(U(),At(f,{key:0},{default:ft(()=>[rt(d,null,{default:ft(()=>[rt(u,{images:s.value},null,8,["images"])]),_:1})]),_:1})):Nt("",!0)}}},Ib={id:"panel:gallery",component:Rb,available:[ad]};function Db(e,n){return n.split("::").at(2)===e}function zb(e,n){return{type:"Feature",geometry:e,properties:{base:[{type:n}]}}}function jb(e){const n=[],a=[];return e.features.forEach(s=>{const c=s.properties.shape.id,i=s.properties.shape.type;a.includes(s.properties.base.type)||a.push(s.properties.base.type);const u=n.findIndex(d=>d.properties.shape.id===c&&d.properties.shape.type===i);if(u>-1){const d=n[u];d.properties.base.push(s.properties.base),d.properties.target.push(s.properties.target)}else{const d=structuredClone(s);d.properties.base=[d.properties.base],d.properties.target=[d.properties.target],n.push(d)}}),a.sort(),{shapeTypes:a,features:n}}const Nb=As("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){var e;(e=this.controller)==null||e.abort()},loadCachedMap(e){ln.getCachedMap(e,{signal:this.controller.signal}).then(n=>{this.distribution.cachedMap=n.data})},async getAggregateShape(e){rr("panel:map",()=>ln.getOtuDistribution(e,{signal:this.controller.signal})).then(({data:n})=>{const a=JSON.parse(n.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[zb(a,"Aggregate")]},this.loadCachedMap(n.cached_map.id)}).catch(n=>{n.name!=go.CanceledError&&(this.distribution.errorMessage=n.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:e,rankString:n}){const a=n&&Db("SpeciesGroup",n);this.controller=new AbortController,a?rr("panel:map",()=>ln.getOtuGeoJSONDistribution(e,{signal:this.controller.signal})).then(({data:s})=>{if(s.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=s.message;else{const{features:c,shapeTypes:i}=jb(s);this.distribution.currentShapeTypes=i,this.distribution.geojson={features:c}}}).catch(s=>{s.name!==go.CanceledError&&this.getAggregateShape(e)}):this.getAggregateShape(e)}}});function ud(e){return{html:`<div class="bg-map-collection-object"><span>${e.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive bg-map-collection-object bg-opacity-60 marker-cluster text-white",iconSize:[40,40]}}function cd(e){return{html:`
    <div class="relative flex w-[40px] h-[40px]">
      <div class="rounded-l-full bg-map-collection-object bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-l-full bg-map-collection-object ml-[5px] mt-[5px]"></div>
      </div>
      <div class="rounded-r-full bg-map-type-material bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-r-full bg-map-type-material mr-[5px] mt-[5px]"></div>
      </div>
      <span class="absolute text-xs top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white">
        ${e.getChildCount()}
      </span>
    </div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive",iconSize:[40,40]}}function Fb(e){return{html:`<div class="bg-map-type-material"><span>${e.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive marker-cluster bg-map-type-material bg-opacity-60 text-white",iconSize:[40,40]}}const Gb=Object.freeze(Object.defineProperty({__proto__:null,CollectionObject:ud,Mixed:cd,TypeMaterial:Fb},Symbol.toStringTag,{value:"Module"}));function Hb({L:e,cluster:n}){const a=n.getAllChildMarkers().map(u=>u.feature.properties.base.map(d=>d.type)).flat(),s=[...new Set(a)],c=s.pop(),i=s.length?cd:Gb[c]||ud;return e.divIcon(i(n))}const Vb=et("h3",{class:"font-medium"},"Cached map",-1),Ub={class:"p-4 pt-0"},$b={key:0,class:"text-success flex text-sm items-center"},Zb=et("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1),qb={key:1,class:"text-warning flex text-sm items-center"},Kb=et("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1),Wb=et("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1),Jb={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(e){const n=Zt(!1);return(a,s)=>{const c=pt("IconCheck"),i=pt("IconWarning"),u=pt("VButton"),d=pt("VTableHeaderCell"),f=pt("VTableHeaderRow"),m=pt("VTableHeader"),_=pt("VTableBodyCell"),v=pt("VTableBodyRow"),M=pt("VTableBody"),A=pt("VTable"),C=pt("VModal");return U(),nt($t,null,[rt(u,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Cached map",onClick:s[0]||(s[0]=S=>n.value=!0)},{default:ft(()=>[e.cachedMap.synced?(U(),At(c,{key:0,class:"w-4 h-4"})):(U(),At(i,{key:1,class:"w-4 h-4"}))]),_:1}),n.value?(U(),At(C,{key:0,onClose:s[1]||(s[1]=()=>n.value=!1)},{header:ft(()=>[Vb]),default:ft(()=>[et("div",Ub,[rt(A,null,{default:ft(()=>[rt(m,null,{default:ft(()=>[rt(f,null,{default:ft(()=>[rt(d,null,{default:ft(()=>[ne("Data")]),_:1}),rt(d)]),_:1})]),_:1}),rt(M,null,{default:ft(()=>[rt(v,null,{default:ft(()=>[rt(_,null,{default:ft(()=>[ne(" Is synced ")]),_:1}),rt(_,null,{default:ft(()=>[e.cachedMap.synced?(U(),nt("p",$b,[rt(c,{class:"w-4 h-4"}),Zb])):(U(),nt("p",qb,[rt(i,{class:"w-4 h-4"}),Kb]))]),_:1})]),_:1}),rt(v,null,{default:ft(()=>[rt(_,null,{default:ft(()=>[ne(" Last update ")]),_:1}),rt(_,null,{default:ft(()=>[ne(Qt(new Date(e.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),rt(m,null,{default:ft(()=>[rt(f,null,{default:ft(()=>[rt(d,null,{default:ft(()=>[ne("Source")]),_:1}),rt(d,null,{default:ft(()=>[ne("Total")]),_:1})]),_:1})]),_:1}),rt(M,null,{default:ft(()=>[(U(!0),nt($t,null,ye(e.cachedMap.source_scope,(S,V)=>(U(),At(v,{key:V},{default:ft(()=>[rt(_,{class:"capitalize"},{default:ft(()=>[ne(Qt(V.replaceAll("_"," ")),1)]),_:2},1024),rt(_,null,{default:ft(()=>[ne(Qt(S),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),Wb])]),_:1})):Nt("",!0)],64)}}},Yb={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},Xb=["innerHTML"],Qb={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(e,{emit:n}){return(a,s)=>{const c=pt("IconClose");return U(),nt("div",Yb,[et("div",null,[et("span",{class:"ml-2",innerHTML:e.label},null,8,Xb)]),rt(c,{class:"cursor-pointer",onClick:s[0]||(s[0]=()=>n("close"))})])}}},t0={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},e0={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(e,{emit:n}){return(a,s)=>{const c=pt("IconArrowRight"),i=pt("VTableHeaderCell"),u=pt("VTableHeaderRow"),d=pt("VTableHeader"),f=pt("RouterLink"),m=pt("VTableBodyCell"),_=pt("VTableBodyRow"),v=pt("VTableBody"),M=pt("VTable");return e.list.length?(U(),At(M,{key:0,class:"shadow-md"},{default:ft(()=>[rt(d,null,{default:ft(()=>[rt(u,null,{default:ft(()=>[rt(i,{class:"w-full flex justify-between box-border items-center"},{default:ft(()=>[et("span",null,"OTU ("+Qt(e.list.length)+")",1),rt(c,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:s[0]||(s[0]=A=>n("close:table"))})]),_:1})]),_:1})]),_:1}),rt(v,null,{default:ft(()=>[(U(!0),nt($t,null,ye(e.list,A=>(U(),At(_,{key:A.id},{default:ft(()=>[rt(m,null,{default:ft(()=>[rt(f,{innerHTML:A.object_tag,to:{name:"otus-id",params:{id:A.id}},onClick:s[1]||(s[1]=()=>n("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(U(),nt("div",t0," No OTUs found in this area "))}}};const n0={__name:"OtuSearch",props:{otu:{type:Array,default:()=>[]},shapes:{type:Object,default:void 0}},emits:["close"],setup(e,{emit:n}){const a=e,s=Zt(),c=Zt(null),i=Zt([]),u=Zt(!1),d=Zt(),f=Zt(6),m=Zt(6),_=se(()=>!!a.shapes&&m.value<=f.value);en(()=>{document.addEventListener("keyup",v),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keyup",v),document.body.classList.remove("overflow-hidden")});const v=({key:V})=>{switch(V){case"Escape":n("close");break}};function M(V){const P={geo_json:V,taxon_name_id:[a.otu.taxon_name_id],descendants:!0,per:5e3};d.value=!0,ln.getOtus(P).then(({data:O})=>{i.value=O,u.value=!0}).finally(O=>{d.value=!1})}function A(V){C(),_.value&&c.value.resizeMap()}function C(){m.value=c.value.getMapObject().getZoom()}function S(){f.value=c.value.getMapObject().getZoom(),C()}return(V,P)=>{const O=pt("VSpinner"),j=pt("VMap");return U(),nt("div",{ref_key:"root",ref:s,class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},[d.value?(U(),At(O,{key:0})):Nt("",!0),rt(Qb,{label:e.otu.object_tag,onClose:P[0]||(P[0]=()=>n("close"))},null,8,["label"]),et("div",{class:Xe(["w-full h-full relative",{"disable-zoom-out":_.value}])},[rt(j,{ref_key:"mapRef",ref:c,class:"w-full h-full",controls:"",dragging:!_.value,"zoom-bounds":f.value,geojson:e.shapes,"onGeojson:ready":S,"onAdd:layer":P[1]||(P[1]=T=>M(JSON.stringify(T.geometry))),"onEdit:layer":P[2]||(P[2]=T=>M(JSON.stringify(T.geometry))),"onDrag:layer":P[3]||(P[3]=T=>M(JSON.stringify(T.geometry))),"onZoom:change":A,zoom:4},null,8,["dragging","zoom-bounds","geojson"]),et("div",{class:Xe(["h-full md:w-96 absolute top-0 bg-base-background z-[2000] overflow-auto ease-in-out duration-300 w-full",{"md:-right-96 -right-full":!u.value,"right-0":u.value}])},[u.value?(U(),At(e0,{key:0,list:i.value,onClose:P[4]||(P[4]=()=>n("close")),"onClose:table":P[5]||(P[5]=()=>u.value=!1)},null,8,["list"])):Nt("",!0)],2)],2)],512)}}},r0=re(n0,[["__scopeId","data-v-d0d71188"]]),i0={class:"relative"},o0={key:0,class:"flex flex-row p-2 text-xs italic"},s0={key:1,class:"flex flex-row p-2 gap-2 text-xs"},a0=2,l0={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(e){const n=e,a=Zt(!0),s=Zt(!1),c=Nb(),i={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return en(()=>{a.value=!0,c.loadDistribution({otuId:n.otuId,rankString:n.taxon.rank_string})}),or(()=>{c.resetRequest(),c.$reset()}),(u,d)=>{const f=pt("VSpinner"),m=pt("VMap"),_=pt("VButton"),v=pt("ClientOnly"),M=pt("VCard");return U(),At(M,null,{default:ft(()=>[et("div",i0,[rt(v,null,{default:ft(()=>[a.value?(U(),At(f,{key:0})):Nt("",!0),rt(m,{class:"h-96 max-h-96",dragging:"",cluster:"",zoom:a0,geojson:Kt(c).distribution.geojson,"cluster-icon-create-function":Kt(Hb),"onGeojson:ready":d[0]||(d[0]=()=>a.value=!1)},null,8,["geojson","cluster-icon-create-function"]),rt(_,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:d[1]||(d[1]=()=>s.value=!0)},{default:ft(()=>[ne(" Search ")]),_:1}),s.value?(U(),At(r0,{key:1,otu:e.otu,shapes:Kt(c).distribution.geojson,onClose:d[2]||(d[2]=()=>s.value=!1)},null,8,["otu","shapes"])):Nt("",!0),Kt(c).distribution.cachedMap?(U(),At(Jb,{key:2,"cached-map":Kt(c).distribution.cachedMap},null,8,["cached-map"])):Nt("",!0)]),_:1})]),Kt(c).distribution.errorMessage?(U(),nt("div",o0," * "+Qt(Kt(c).distribution.errorMessage),1)):Nt("",!0),Kt(c).distribution.currentShapeTypes.length?(U(),nt("div",s0,[(U(!0),nt($t,null,ye(Kt(c).distribution.currentShapeTypes,A=>(U(),nt("div",{key:A,class:"flex flex-row items-center"},[et("div",{class:Xe(["w-3 h-3 m-1 rounded-sm",i[A].background])},null,2),et("span",null,Qt(i[A].label),1)]))),128))])):Nt("",!0)]),_:1})}}},u0={id:"panel:map",component:l0};function hd(e,n){const a=e.slice(),s=a.splice(0,n),c=a.splice(-n);return{first:s,middle:a,last:c}}const c0={class:"border-b border-base-muted p-3 px-5"},h0=["title","innerHTML"],d0=["innerHTML"],ga={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(e){return(n,a)=>(U(),nt("li",c0,[et("span",{class:"break-all block",title:e.citation.label,innerHTML:e.citation.label},null,8,h0),e.citation.type_label?(U(),nt("span",{key:0,class:"ml-4 text-base-soft",innerHTML:e.citation.type_label},null,8,d0)):Nt("",!0)]))}},p0={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},dd={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(e){return(n,a)=>{const s=pt("IconPlusCircle");return U(),nt("li",p0,[et("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:a[0]||(a[0]=()=>n.isExpanded=!n.isExpanded)},[rt(s,{class:"h-5 w-5"})]),et("span",null,"... Show all ... ("+Qt(e.count)+")",1)])}}},f0={class:"text-md"},m0={class:"text-sm"},g0={class:"text-sm"},_0={class:"text-sm"},y0=2,v0={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(e){const n=Pi(),a=Zt(!1),s=se(()=>hd(n.catalog.timeline,y0)),c=se(()=>[{label:a.value?"Show less":"Show all",action:()=>a.value=!a.value}]);return(i,u)=>{const d=pt("VSpinner"),f=pt("VCardHeader"),m=pt("AnimationOpacity"),_=pt("VCard");return U(),At(_,null,{default:ft(()=>[Kt(n).catalog.isLoading?(U(),At(d,{key:0,"logo-class":"w-8 h-8",legend:""})):Nt("",!0),rt(f,{class:"flex justify-between"},{default:ft(()=>[et("h2",f0," Nomenclature ("+Qt(Kt(n).catalog.timeline.length)+") ",1),rt(Si,{"menu-options":c.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),et("ul",m0,[(U(!0),nt($t,null,ye(s.value.first,v=>(U(),At(ga,{key:v.label,citation:v},null,8,["citation"]))),128)),!a.value&&s.value.middle.length?(U(),At(dd,{key:0,count:s.value.middle.length,onClick:u[0]||(u[0]=v=>a.value=!0)},null,8,["count"])):Nt("",!0)]),rt(m,null,{default:ft(()=>[vo(et("ul",g0,[(U(!0),nt($t,null,ye(s.value.middle,v=>(U(),At(ga,{key:v.label,citation:v},null,8,["citation"]))),128))],512),[[Ss,a.value]])]),_:1}),et("ul",_0,[(U(!0),nt($t,null,ye(s.value.last,v=>(U(),At(ga,{key:v.label,citation:v},null,8,["citation"]))),128))])]),_:1})}}},b0={id:"panel:nomenclature",component:v0},w0={class:"border-b border-base-muted p-3 px-5"},x0=["title","innerHTML"],_a={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(e){return(n,a)=>(U(),nt("li",w0,[et("span",{class:"break-all block",title:e.reference,innerHTML:e.reference},null,8,x0)]))}},L0={class:"text-md"},k0={class:"text-sm"},M0=2,C0={__name:"PanelNomenclatureReferences",setup(e){const n=Pi(),a=Zt(!1),s=se(()=>hd(n.catalog.sources,M0)),c=se(()=>[{label:a.value?"Show less":"Show all",action:()=>a.value=!a.value}]);return(i,u)=>{const d=pt("VSpinner"),f=pt("VCardHeader"),m=pt("AnimationOpacity"),_=pt("VCard");return U(),At(_,null,{default:ft(()=>[Kt(n).catalog.isLoading?(U(),At(d,{key:0,"logo-class":"w-8 h-8",legend:""})):Nt("",!0),rt(f,{class:"flex justify-between"},{default:ft(()=>[et("h2",L0," Nomenclature references ("+Qt(Kt(n).catalog.sources.length)+") ",1),rt(Si,{"menu-options":c.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),et("ul",k0,[(U(!0),nt($t,null,ye(s.value.first,v=>(U(),At(_a,{key:v,reference:v},null,8,["reference"]))),128)),!a.value&&s.value.middle.length?(U(),At(dd,{key:0,count:s.value.middle.length,onClick:u[0]||(u[0]=v=>a.value=!0)},null,8,["count"])):Nt("",!0),rt(m,null,{default:ft(()=>[vo(et("div",null,[(U(!0),nt($t,null,ye(s.value.middle,v=>(U(),At(_a,{key:v,reference:v},null,8,["reference"]))),128))],512),[[Ss,a.value]])]),_:1}),(U(!0),nt($t,null,ye(s.value.last,v=>(U(),At(_a,{key:v,reference:v},null,8,["reference"]))),128))])]),_:1})}}},P0={id:"panel:nomenclature-references",component:C0},S0=et("h2",{class:"text-md"},"Stats",-1),E0={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(e){const n=Pi();return(a,s)=>{const c=pt("VSpinner"),i=pt("VCardHeader"),u=pt("VTableHeaderCell"),d=pt("VTableHeaderRow"),f=pt("VTableHeader"),m=pt("VTableBodyCell"),_=pt("VTableBodyRow"),v=pt("VTableBody"),M=pt("VTable"),A=pt("VCardContent"),C=pt("VCard");return U(),At(C,null,{default:ft(()=>[Kt(n).catalog.isLoading?(U(),At(c,{key:0,"logo-class":"w-8 h-8",legend:""})):Nt("",!0),rt(i,{class:"flex justify-between"},{default:ft(()=>[S0,rt(Si,{"panel-key":"taxonomy"})]),_:1}),rt(A,{class:"text-sm"},{default:ft(()=>[rt(M,null,{default:ft(()=>[rt(f,null,{default:ft(()=>[rt(d,null,{default:ft(()=>[rt(u,{class:"bg-base-foreground"}),rt(u,{title:"OTUs linked to valid protonyms"},{default:ft(()=>[ne(" Taxa ")]),_:1}),rt(u,{title:"Taxon names",class:"border-l border-base-border"},{default:ft(()=>[ne(" Names ")]),_:1}),rt(u,{colspan:"2",class:"bg-base-foreground"})]),_:1}),rt(d,null,{default:ft(()=>[rt(u,null,{default:ft(()=>[ne("Rank")]),_:1}),rt(u,{title:"OTUs linked to valid protonyms"},{default:ft(()=>[ne("Total")]),_:1}),rt(u,{title:"Taxon names",class:"border-l border-base-border"},{default:ft(()=>[ne(" Total ")]),_:1}),rt(u,null,{default:ft(()=>[ne(" Valid ")]),_:1}),rt(u,null,{default:ft(()=>[ne(" Invalid ")]),_:1})]),_:1})]),_:1}),rt(v,null,{default:ft(()=>[(U(!0),nt($t,null,ye(Kt(n).catalog.stats.taxa,(S,V)=>(U(),At(_,{key:V},{default:ft(()=>[rt(m,{class:"capitalize"},{default:ft(()=>[ne(Qt(V),1)]),_:2},1024),rt(m,null,{default:ft(()=>[ne(Qt(S),1)]),_:2},1024),rt(m,{class:"border-l border-base-border"},{default:ft(()=>[ne(Qt(Kt(n).catalog.stats.names[V].invalid+Kt(n).catalog.stats.names[V].valid),1)]),_:2},1024),rt(m,null,{default:ft(()=>[ne(Qt(Kt(n).catalog.stats.names[V].valid),1)]),_:2},1024),rt(m,null,{default:ft(()=>[ne(Qt(Kt(n).catalog.stats.names[V].invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},T0={id:"panel:statistics",component:E0},O0=et("h2",{class:"text-md"},"Type",-1),A0=["innerHTML"],B0={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(e){const n=e,a=Zt({}),s=se(()=>[a.value.subject_object_tag||"",a.value.subject_status_tag||"",a.value.object_object_tag||""].join(" "));return He(()=>n.taxonId,async()=>{n.taxonId&&rr("panel:type",()=>ln.getTaxonTypeDesignation(n.taxonId)).then(({data:c})=>{a.value=c.type_taxon_name_relationship||{}})},{immediate:!0}),(c,i)=>{const u=pt("VCardHeader"),d=pt("VCardContent"),f=pt("VCard");return U(),At(f,null,{default:ft(()=>[rt(u,{class:"flex justify-between"},{default:ft(()=>[O0,rt(Si,{"panel-key":"panel:type"})]),_:1}),rt(d,{class:"text-sm"},{default:ft(()=>[et("p",{innerHTML:s.value},null,8,A0)]),_:1})]),_:1})}}},R0={id:"panel:type",component:B0,available:[Ov,Av]},I0=et("h2",{class:"text-md"},"Type specimen",-1),D0={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(e){const n=e,a=Zt([]);return He(()=>n.otuId,()=>{n.otuId&&rr("panel:typeMaterial",()=>ln.getOtuTypeMaterial(n.otuId)).then(({data:s})=>{a.value=s.type_materials_catalog_labels.sort((c,i)=>uc.indexOf(c.type_type)-uc.indexOf(i.type_type))})},{immediate:!0}),(s,c)=>{const i=pt("VCardHeader"),u=pt("VCardContent"),d=pt("VCard");return a.value.length?(U(),At(d,{key:0},{default:ft(()=>[rt(i,{class:"flex justify-between"},{default:ft(()=>[I0,rt(Si,{"panel-key":"panel:typeMaterial"})]),_:1}),rt(u,{class:"text-sm"},{default:ft(()=>[et("p",null,Qt(a.value[0].label),1)]),_:1})]),_:1})):Nt("",!0)}}},z0={id:"panel:type-specimen",component:D0,available:[ad]},j0=Object.values(Object.assign({"/src/modules/otus/components/Panel/PanelContent/main.js":fb,"/src/modules/otus/components/Panel/PanelDescendants/main.js":Ab,"/src/modules/otus/components/Panel/PanelGallery/main.js":Ib,"/src/modules/otus/components/Panel/PanelMap/main.js":u0,"/src/modules/otus/components/Panel/PanelNomenclature/main.js":b0,"/src/modules/otus/components/Panel/PanelNomenclatureReferences/main.js":P0,"/src/modules/otus/components/Panel/PanelStats/main.js":T0,"/src/modules/otus/components/Panel/PanelTypeDesignation/main.js":R0,"/src/modules/otus/components/Panel/PanelTypeSpecimen/main.js":z0})),{taxa_page_overview:ya}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"},N0=[[["panel:gallery","panel:type","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:content","panel:statistics"]]];function F0(e){return e.map(n=>n.map(a=>a.map(s=>{const i=typeof s=="string"?{id:s}:{...s};return{...j0.find(d=>d.id===i.id),...i}})))}const G0=F0((ya==null?void 0:ya.panels)||N0),H0={class:"grid gap-3"},V0={__name:"Overview",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(e){const n={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};function a(s,c){return s.some(i=>c==null?void 0:c.includes(i))}return(s,c)=>(U(),nt("div",H0,[(U(!0),nt($t,null,ye(Kt(G0),(i,u)=>(U(),nt("div",{class:Xe(["grid grid-cols-1 gap-3",[n[i.length]]])},[(U(!0),nt($t,null,ye(i,(d,f)=>(U(),nt("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:f},[(U(!0),nt($t,null,ye(d,({component:m,available:_,id:v})=>(U(),nt($t,{key:v},[!_||a(_,e.taxonRank)?(U(),At(Mi(m),{key:0,"otu-id":e.otuId,otu:e.otu,"taxon-id":e.taxonId,taxon:e.taxon},null,8,["otu-id","otu","taxon-id","taxon"])):Nt("",!0)],64))),128))]))),128))],2))),256))]))}},U0=[{name:"otus-id",path:"/otus/:id",component:cb,redirect:{name:"otus-id-overview"},children:[{path:"overview",name:"otus-id-overview",component:V0}]}],$0="modulepreload",Z0=function(e){return"/small_beetle_groups/"+e},cc={},pd=function(n,a,s){if(!a||a.length===0)return n();const c=document.getElementsByTagName("link");return Promise.all(a.map(i=>{if(i=Z0(i),i in cc)return;cc[i]=!0;const u=i.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!s)for(let _=c.length-1;_>=0;_--){const v=c[_];if(v.href===i&&(!u||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":$0,u||(m.as="script",m.crossOrigin=""),m.href=i,document.head.appendChild(m),u)return new Promise((_,v)=>{m.addEventListener("load",_),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>n()).catch(i=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i})},q0=()=>pd(()=>import("./home-45b3facb.js"),[]),K0=()=>pd(()=>import("./about-0f9fc289.js"),[]),W0=[{name:"home",path:"/",component:q0,props:!0,alias:"/home"},{name:"about",path:"/about",component:K0,props:!0}],J0=Object.assign({"/src/modules/home/router/index.js":J_,"/src/modules/httpErrorPages/router/index.js":py,"/src/modules/otus/router/index.js":U0}),Y0=Object.assign({}),{base_url:hc,hash_mode:X0}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"},Q0=[].concat(...Object.values(J0),...Object.values(Y0)),tw=[...W0,...Q0];function ew(){return X0?kg(hc):Ch(hc)}function nw(){return l_({history:ew(),routes:tw,scrollBehavior(e,n,a){return e.hash?{el:e.hash}:{top:0}}})}function rw({originUrl:e}){const{url:n,project_token:a}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"},c=Rm(n&&a?E_:I_),i=nw(),u=z_();return c.use(i),c.use(u),{app:c,router:i,store:u}}var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ga={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(a,s){s(n)})(fd,function(a){var s="1.9.4";function c(t){var o,h,g,b;for(h=1,g=arguments.length;h<g;h++){b=arguments[h];for(o in b)t[o]=b[o]}return t}var i=Object.create||function(){function t(){}return function(o){return t.prototype=o,new t}}();function u(t,o){var h=Array.prototype.slice;if(t.bind)return t.bind.apply(t,h.call(arguments,1));var g=h.call(arguments,2);return function(){return t.apply(o,g.length?g.concat(h.call(arguments)):arguments)}}var d=0;function f(t){return"_leaflet_id"in t||(t._leaflet_id=++d),t._leaflet_id}function m(t,o,h){var g,b,E,q;return q=function(){g=!1,b&&(E.apply(h,b),b=!1)},E=function(){g?b=arguments:(t.apply(h,arguments),setTimeout(q,o),g=!0)},E}function _(t,o,h){var g=o[1],b=o[0],E=g-b;return t===g&&h?t:((t-b)%E+E)%E+b}function v(){return!1}function M(t,o){if(o===!1)return t;var h=Math.pow(10,o===void 0?6:o);return Math.round(t*h)/h}function A(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(t){return A(t).split(/\s+/)}function S(t,o){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{});for(var h in o)t.options[h]=o[h];return t.options}function V(t,o,h){var g=[];for(var b in t)g.push(encodeURIComponent(h?b.toUpperCase():b)+"="+encodeURIComponent(t[b]));return(!o||o.indexOf("?")===-1?"?":"&")+g.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function O(t,o){return t.replace(P,function(h,g){var b=o[g];if(b===void 0)throw new Error("No value provided for variable "+h);return typeof b=="function"&&(b=b(o)),b})}var j=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function T(t,o){for(var h=0;h<t.length;h++)if(t[h]===o)return h;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ot=0;function Y(t){var o=+new Date,h=Math.max(0,16-(o-ot));return ot=o+h,window.setTimeout(t,h)}var st=window.requestAnimationFrame||W("RequestAnimationFrame")||Y,ut=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function gt(t,o,h){if(h&&st===Y)t.call(o);else return st.call(window,u(t,o))}function at(t){t&&ut.call(window,t)}var bt={__proto__:null,extend:c,create:i,bind:u,get lastId(){return d},stamp:f,throttle:m,wrapNum:_,falseFn:v,formatNum:M,trim:A,splitWords:C,setOptions:S,getParamString:V,template:O,isArray:j,indexOf:T,emptyImageUrl:z,requestFn:st,cancelFn:ut,requestAnimFrame:gt,cancelAnimFrame:at};function kt(){}kt.extend=function(t){var o=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=o.__super__=this.prototype,g=i(h);g.constructor=o,o.prototype=g;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(o[b]=this[b]);return t.statics&&c(o,t.statics),t.includes&&(Et(t.includes),c.apply(null,[g].concat(t.includes))),c(g,t),delete g.statics,delete g.includes,g.options&&(g.options=h.options?i(h.options):{},c(g.options,t.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,q=g._initHooks.length;E<q;E++)g._initHooks[E].call(this)}},o},kt.include=function(t){var o=this.prototype.options;return c(this.prototype,t),t.options&&(this.prototype.options=o,this.mergeOptions(t.options)),this},kt.mergeOptions=function(t){return c(this.prototype.options,t),this},kt.addInitHook=function(t){var o=Array.prototype.slice.call(arguments,1),h=typeof t=="function"?t:function(){this[t].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Et(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=j(t)?t:[t];for(var o=0;o<t.length;o++)t[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ct={on:function(t,o,h){if(typeof t=="object")for(var g in t)this._on(g,t[g],o);else{t=C(t);for(var b=0,E=t.length;b<E;b++)this._on(t[b],o,h)}return this},off:function(t,o,h){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var g in t)this._off(g,t[g],o);else{t=C(t);for(var b=arguments.length===1,E=0,q=t.length;E<q;E++)b?this._off(t[E]):this._off(t[E],o,h)}return this},_on:function(t,o,h,g){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(t,o,h)===!1){h===this&&(h=void 0);var b={fn:o,ctx:h};g&&(b.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(b)}},_off:function(t,o,h){var g,b,E;if(this._events&&(g=this._events[t],!!g)){if(arguments.length===1){if(this._firingCount)for(b=0,E=g.length;b<E;b++)g[b].fn=v;delete this._events[t];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var q=this._listens(t,o,h);if(q!==!1){var tt=g[q];this._firingCount&&(tt.fn=v,this._events[t]=g=g.slice()),g.splice(q,1)}}},fire:function(t,o,h){if(!this.listens(t,h))return this;var g=c({},o,{type:t,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var b=this._events[t];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,q=b.length;E<q;E++){var tt=b[E],lt=tt.fn;tt.once&&this.off(t,lt,tt.ctx),lt.call(tt.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(t,o,h,g){typeof t!="string"&&console.warn('"string" type argument expected');var b=o;typeof o!="function"&&(g=!!o,b=void 0,h=void 0);var E=this._events&&this._events[t];if(E&&E.length&&this._listens(t,b,h)!==!1)return!0;if(g){for(var q in this._eventParents)if(this._eventParents[q].listens(t,o,h,g))return!0}return!1},_listens:function(t,o,h){if(!this._events)return!1;var g=this._events[t]||[];if(!o)return!!g.length;h===this&&(h=void 0);for(var b=0,E=g.length;b<E;b++)if(g[b].fn===o&&g[b].ctx===h)return b;return!1},once:function(t,o,h){if(typeof t=="object")for(var g in t)this._on(g,t[g],o,!0);else{t=C(t);for(var b=0,E=t.length;b<E;b++)this._on(t[b],o,h,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[f(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[f(t)],this},_propagateEvent:function(t){for(var o in this._eventParents)this._eventParents[o].fire(t.type,c({layer:t.target,propagatedFrom:t.target},t),!0)}};Ct.addEventListener=Ct.on,Ct.removeEventListener=Ct.clearAllEventListeners=Ct.off,Ct.addOneTimeEventListener=Ct.once,Ct.fireEvent=Ct.fire,Ct.hasEventListeners=Ct.listens;var Ht=kt.extend(Ct);function wt(t,o,h){this.x=h?Math.round(t):t,this.y=h?Math.round(o):o}var pe=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};wt.prototype={clone:function(){return new wt(this.x,this.y)},add:function(t){return this.clone()._add(Dt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Dt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new wt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new wt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(t){t=Dt(t);var o=t.x-this.x,h=t.y-this.y;return Math.sqrt(o*o+h*h)},equals:function(t){return t=Dt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Dt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function Dt(t,o,h){return t instanceof wt?t:j(t)?new wt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new wt(t.x,t.y):new wt(t,o,h)}function Rt(t,o){if(t)for(var h=o?[t,o]:t,g=0,b=h.length;g<b;g++)this.extend(h[g])}Rt.prototype={extend:function(t){var o,h;if(!t)return this;if(t instanceof wt||typeof t[0]=="number"||"x"in t)o=h=Dt(t);else if(t=Vt(t),o=t.min,h=t.max,!o||!h)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=h.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(t){return Dt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Dt(this.min.x,this.max.y)},getTopRight:function(){return Dt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var o,h;return typeof t[0]=="number"||t instanceof wt?t=Dt(t):t=Vt(t),t instanceof Rt?(o=t.min,h=t.max):o=h=t,o.x>=this.min.x&&h.x<=this.max.x&&o.y>=this.min.y&&h.y<=this.max.y},intersects:function(t){t=Vt(t);var o=this.min,h=this.max,g=t.min,b=t.max,E=b.x>=o.x&&g.x<=h.x,q=b.y>=o.y&&g.y<=h.y;return E&&q},overlaps:function(t){t=Vt(t);var o=this.min,h=this.max,g=t.min,b=t.max,E=b.x>o.x&&g.x<h.x,q=b.y>o.y&&g.y<h.y;return E&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var o=this.min,h=this.max,g=Math.abs(o.x-h.x)*t,b=Math.abs(o.y-h.y)*t;return Vt(Dt(o.x-g,o.y-b),Dt(h.x+g,h.y+b))},equals:function(t){return t?(t=Vt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Vt(t,o){return!t||t instanceof Rt?t:new Rt(t,o)}function Me(t,o){if(t)for(var h=o?[t,o]:t,g=0,b=h.length;g<b;g++)this.extend(h[g])}Me.prototype={extend:function(t){var o=this._southWest,h=this._northEast,g,b;if(t instanceof le)g=t,b=t;else if(t instanceof Me){if(g=t._southWest,b=t._northEast,!g||!b)return this}else return t?this.extend(Ft(t)||fe(t)):this;return!o&&!h?(this._southWest=new le(g.lat,g.lng),this._northEast=new le(b.lat,b.lng)):(o.lat=Math.min(g.lat,o.lat),o.lng=Math.min(g.lng,o.lng),h.lat=Math.max(b.lat,h.lat),h.lng=Math.max(b.lng,h.lng)),this},pad:function(t){var o=this._southWest,h=this._northEast,g=Math.abs(o.lat-h.lat)*t,b=Math.abs(o.lng-h.lng)*t;return new Me(new le(o.lat-g,o.lng-b),new le(h.lat+g,h.lng+b))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof le||"lat"in t?t=Ft(t):t=fe(t);var o=this._southWest,h=this._northEast,g,b;return t instanceof Me?(g=t.getSouthWest(),b=t.getNorthEast()):g=b=t,g.lat>=o.lat&&b.lat<=h.lat&&g.lng>=o.lng&&b.lng<=h.lng},intersects:function(t){t=fe(t);var o=this._southWest,h=this._northEast,g=t.getSouthWest(),b=t.getNorthEast(),E=b.lat>=o.lat&&g.lat<=h.lat,q=b.lng>=o.lng&&g.lng<=h.lng;return E&&q},overlaps:function(t){t=fe(t);var o=this._southWest,h=this._northEast,g=t.getSouthWest(),b=t.getNorthEast(),E=b.lat>o.lat&&g.lat<h.lat,q=b.lng>o.lng&&g.lng<h.lng;return E&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,o){return t?(t=fe(t),this._southWest.equals(t.getSouthWest(),o)&&this._northEast.equals(t.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(t,o){return t instanceof Me?t:new Me(t,o)}function le(t,o,h){if(isNaN(t)||isNaN(o))throw new Error("Invalid LatLng object: ("+t+", "+o+")");this.lat=+t,this.lng=+o,h!==void 0&&(this.alt=+h)}le.prototype={equals:function(t,o){if(!t)return!1;t=Ft(t);var h=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return h<=(o===void 0?1e-9:o)},toString:function(t){return"LatLng("+M(this.lat,t)+", "+M(this.lng,t)+")"},distanceTo:function(t){return Pt.distance(this,Ft(t))},wrap:function(){return Pt.wrapLatLng(this)},toBounds:function(t){var o=180*t/40075017,h=o/Math.cos(Math.PI/180*this.lat);return fe([this.lat-o,this.lng-h],[this.lat+o,this.lng+h])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function Ft(t,o,h){return t instanceof le?t:j(t)&&typeof t[0]!="object"?t.length===3?new le(t[0],t[1],t[2]):t.length===2?new le(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new le(t.lat,"lng"in t?t.lng:t.lon,t.alt):o===void 0?null:new le(t,o,h)}var dt={latLngToPoint:function(t,o){var h=this.projection.project(t),g=this.scale(o);return this.transformation._transform(h,g)},pointToLatLng:function(t,o){var h=this.scale(o),g=this.transformation.untransform(t,h);return this.projection.unproject(g)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var o=this.projection.bounds,h=this.scale(t),g=this.transformation.transform(o.min,h),b=this.transformation.transform(o.max,h);return new Rt(g,b)},infinite:!1,wrapLatLng:function(t){var o=this.wrapLng?_(t.lng,this.wrapLng,!0):t.lng,h=this.wrapLat?_(t.lat,this.wrapLat,!0):t.lat,g=t.alt;return new le(h,o,g)},wrapLatLngBounds:function(t){var o=t.getCenter(),h=this.wrapLatLng(o),g=o.lat-h.lat,b=o.lng-h.lng;if(g===0&&b===0)return t;var E=t.getSouthWest(),q=t.getNorthEast(),tt=new le(E.lat-g,E.lng-b),lt=new le(q.lat-g,q.lng-b);return new Me(tt,lt)}},Pt=c({},dt,{wrapLng:[-180,180],R:6371e3,distance:function(t,o){var h=Math.PI/180,g=t.lat*h,b=o.lat*h,E=Math.sin((o.lat-t.lat)*h/2),q=Math.sin((o.lng-t.lng)*h/2),tt=E*E+Math.cos(g)*Math.cos(b)*q*q,lt=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*lt}}),St=6378137,zt={R:St,MAX_LATITUDE:85.0511287798,project:function(t){var o=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,t.lat),-h),b=Math.sin(g*o);return new wt(this.R*t.lng*o,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(t){var o=180/Math.PI;return new le((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*o,t.x*o/this.R)},bounds:function(){var t=St*Math.PI;return new Rt([-t,-t],[t,t])}()};function ue(t,o,h,g){if(j(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=o,this._c=h,this._d=g}ue.prototype={transform:function(t,o){return this._transform(t.clone(),o)},_transform:function(t,o){return o=o||1,t.x=o*(this._a*t.x+this._b),t.y=o*(this._c*t.y+this._d),t},untransform:function(t,o){return o=o||1,new wt((t.x/o-this._b)/this._a,(t.y/o-this._d)/this._c)}};function G(t,o,h,g){return new ue(t,o,h,g)}var K=c({},Pt,{code:"EPSG:3857",projection:zt,transformation:function(){var t=.5/(Math.PI*zt.R);return G(t,.5,-t,.5)}()}),J=c({},K,{code:"EPSG:900913"});function ht(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _t(t,o){var h="",g,b,E,q,tt,lt;for(g=0,E=t.length;g<E;g++){for(tt=t[g],b=0,q=tt.length;b<q;b++)lt=tt[b],h+=(b?"L":"M")+lt.x+" "+lt.y;h+=o?Gt.svg?"z":"x":""}return h||"M0 0"}var xt=document.documentElement.style,Ot="ActiveXObject"in window,I=Ot&&!document.addEventListener,w="msLaunchUri"in navigator&&!("documentMode"in document),k=nn("webkit"),B=nn("android"),D=nn("android 2")||nn("android 3"),F=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Q=B&&nn("Google")&&F<537&&!("AudioNode"in window),it=!!window.opera,vt=!w&&nn("chrome"),Tt=nn("gecko")&&!k&&!it&&!Ot,jt=!vt&&nn("safari"),Jt=nn("phantom"),te="OTransition"in xt,be=navigator.platform.indexOf("Win")===0,Xt=Ot&&"transition"in xt,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!D,he="MozPerspective"in xt,we=!window.L_DISABLE_3D&&(Xt||ve||he)&&!te&&!Jt,Ae=typeof orientation<"u"||nn("mobile"),Ze=Ae&&k,qe=Ae&&ve,fn=!window.PointerEvent&&window.MSPointerEvent,cn=!!(window.PointerEvent||fn),Je="ontouchstart"in window||!!window.TouchEvent,hn=!window.L_NO_TOUCH&&(Je||cn),kn=Ae&&it,Un=Ae&&Tt,Ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fe=function(){var t=!1;try{var o=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",v,o),window.removeEventListener("testPassiveEventSupport",v,o)}catch{}return t}(),Bn=function(){return!!document.createElement("canvas").getContext}(),qr=!!(document.createElementNS&&ht("svg").createSVGRect),Ei=!!qr&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Cr=!qr&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var o=t.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),Ns=navigator.platform.indexOf("Mac")===0,Ti=navigator.platform.indexOf("Linux")===0;function nn(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Gt={ie:Ot,ielt9:I,edge:w,webkit:k,android:B,android23:D,androidStock:Q,opera:it,chrome:vt,gecko:Tt,safari:jt,phantom:Jt,opera12:te,win:be,ie3d:Xt,webkit3d:ve,gecko3d:he,any3d:we,mobile:Ae,mobileWebkit:Ze,mobileWebkit3d:qe,msPointer:fn,pointer:cn,touch:hn,touchNative:Je,mobileOpera:kn,mobileGecko:Un,retina:Ke,passiveEvents:Fe,canvas:Bn,svg:qr,vml:Cr,inlineSvg:Ei,mac:Ns,linux:Ti},Oi=Gt.msPointer?"MSPointerDown":"pointerdown",Rn=Gt.msPointer?"MSPointerMove":"pointermove",In=Gt.msPointer?"MSPointerUp":"pointerup",xo=Gt.msPointer?"MSPointerCancel":"pointercancel",Pr={touchstart:Oi,touchmove:Rn,touchend:In,touchcancel:xo},sr={touchstart:Wr,touchmove:Kr,touchend:Kr,touchcancel:Kr},ar={},Ai=!1;function Lo(t,o,h){return o==="touchstart"&&Ii(),sr[o]?(h=sr[o].bind(this,h),t.addEventListener(Pr[o],h,!1),h):(console.warn("wrong event specified:",o),v)}function Fs(t,o,h){if(!Pr[o]){console.warn("wrong event specified:",o);return}t.removeEventListener(Pr[o],h,!1)}function ko(t){ar[t.pointerId]=t}function Bi(t){ar[t.pointerId]&&(ar[t.pointerId]=t)}function Ri(t){delete ar[t.pointerId]}function Ii(){Ai||(document.addEventListener(Oi,ko,!0),document.addEventListener(Rn,Bi,!0),document.addEventListener(In,Ri,!0),document.addEventListener(xo,Ri,!0),Ai=!0)}function Kr(t,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var h in ar)o.touches.push(ar[h]);o.changedTouches=[o],t(o)}}function Wr(t,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Z(o),Kr(t,o)}function Mo(t){var o={},h,g;for(g in t)h=t[g],o[g]=h&&h.bind?h.bind(t):h;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Gs=200;function Sr(t,o){t.addEventListener("dblclick",o);var h=0,g;function b(E){if(E.detail!==1){g=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var q=mt(E);if(!(q.some(function(lt){return lt instanceof HTMLLabelElement&&lt.attributes.for})&&!q.some(function(lt){return lt instanceof HTMLInputElement||lt instanceof HTMLSelectElement}))){var tt=Date.now();tt-h<=Gs?(g++,g===2&&o(Mo(E))):g=1,h=tt}}}return t.addEventListener("click",b),{dblclick:o,simDblclick:b}}function Hs(t,o){t.removeEventListener("dblclick",o.dblclick),t.removeEventListener("click",o.simDblclick)}var Jr=Xr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$n=Xr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Co=$n==="webkitTransition"||$n==="OTransition"?$n+"End":"transitionend";function Po(t){return typeof t=="string"?document.getElementById(t):t}function lr(t,o){var h=t.style[o]||t.currentStyle&&t.currentStyle[o];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(t,null);h=g?g[o]:null}return h==="auto"?null:h}function de(t,o,h){var g=document.createElement(t);return g.className=o||"",h&&h.appendChild(g),g}function Ce(t){var o=t.parentNode;o&&o.removeChild(t)}function Er(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Zn(t){var o=t.parentNode;o&&o.lastChild!==t&&o.appendChild(t)}function qn(t){var o=t.parentNode;o&&o.firstChild!==t&&o.insertBefore(t,o.firstChild)}function Yr(t,o){if(t.classList!==void 0)return t.classList.contains(o);var h=Tr(t);return h.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(h)}function ie(t,o){if(t.classList!==void 0)for(var h=C(o),g=0,b=h.length;g<b;g++)t.classList.add(h[g]);else if(!Yr(t,o)){var E=Tr(t);Di(t,(E?E+" ":"")+o)}}function Be(t,o){t.classList!==void 0?t.classList.remove(o):Di(t,A((" "+Tr(t)+" ").replace(" "+o+" "," ")))}function Di(t,o){t.className.baseVal===void 0?t.className=o:t.className.baseVal=o}function Tr(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function rn(t,o){"opacity"in t.style?t.style.opacity=o:"filter"in t.style&&zi(t,o)}function zi(t,o){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=t.filters.item(g)}catch{if(o===1)return}o=Math.round(o*100),h?(h.Enabled=o!==100,h.Opacity=o):t.style.filter+=" progid:"+g+"(opacity="+o+")"}function Xr(t){for(var o=document.documentElement.style,h=0;h<t.length;h++)if(t[h]in o)return t[h];return!1}function Dn(t,o,h){var g=o||new wt(0,0);t.style[Jr]=(Gt.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Ee(t,o){t._leaflet_pos=o,Gt.any3d?Dn(t,o):(t.style.left=o.x+"px",t.style.top=o.y+"px")}function mn(t){return t._leaflet_pos||new wt(0,0)}var Or,Ar,Re;if("onselectstart"in document)Or=function(){ee(window,"selectstart",Z)},Ar=function(){l(window,"selectstart",Z)};else{var zn=Xr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Or=function(){if(zn){var t=document.documentElement.style;Re=t[zn],t[zn]="none"}},Ar=function(){zn&&(document.documentElement.style[zn]=Re,Re=void 0)}}function Br(){ee(window,"dragstart",Z)}function ji(){l(window,"dragstart",Z)}var Qr,ti;function Ni(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(ur(),Qr=t,ti=t.style.outlineStyle,t.style.outlineStyle="none",ee(window,"keydown",ur))}function ur(){Qr&&(Qr.style.outlineStyle=ti,Qr=void 0,ti=void 0,l(window,"keydown",ur))}function ei(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Fi(t){var o=t.getBoundingClientRect();return{x:o.width/t.offsetWidth||1,y:o.height/t.offsetHeight||1,boundingClientRect:o}}var Vs={__proto__:null,TRANSFORM:Jr,TRANSITION:$n,TRANSITION_END:Co,get:Po,getStyle:lr,create:de,remove:Ce,empty:Er,toFront:Zn,toBack:qn,hasClass:Yr,addClass:ie,removeClass:Be,setClass:Di,getClass:Tr,setOpacity:rn,testProp:Xr,setTransform:Dn,setPosition:Ee,getPosition:mn,get disableTextSelection(){return Or},get enableTextSelection(){return Ar},disableImageDrag:Br,enableImageDrag:ji,preventOutline:Ni,restoreOutline:ur,getSizedParentNode:ei,getScale:Fi};function ee(t,o,h,g){if(o&&typeof o=="object")for(var b in o)x(t,b,o[b],h);else{o=C(o);for(var E=0,q=o.length;E<q;E++)x(t,o[E],h,g)}return this}var r="_leaflet_events";function l(t,o,h,g){if(arguments.length===1)p(t),delete t[r];else if(o&&typeof o=="object")for(var b in o)R(t,b,o[b],h);else if(o=C(o),arguments.length===2)p(t,function(tt){return T(o,tt)!==-1});else for(var E=0,q=o.length;E<q;E++)R(t,o[E],h,g);return this}function p(t,o){for(var h in t[r]){var g=h.split(/\d/)[0];(!o||o(g))&&R(t,g,null,null,h)}}var y={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function x(t,o,h,g){var b=o+f(h)+(g?"_"+f(g):"");if(t[r]&&t[r][b])return this;var E=function(tt){return h.call(g||t,tt||window.event)},q=E;!Gt.touchNative&&Gt.pointer&&o.indexOf("touch")===0?E=Lo(t,o,E):Gt.touch&&o==="dblclick"?E=Sr(t,E):"addEventListener"in t?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?t.addEventListener(y[o]||o,E,Gt.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(E=function(tt){tt=tt||window.event,qt(t,tt)&&q(tt)},t.addEventListener(y[o],E,!1)):t.addEventListener(o,q,!1):t.attachEvent("on"+o,E),t[r]=t[r]||{},t[r][b]=E}function R(t,o,h,g,b){b=b||o+f(h)+(g?"_"+f(g):"");var E=t[r]&&t[r][b];if(!E)return this;!Gt.touchNative&&Gt.pointer&&o.indexOf("touch")===0?Fs(t,o,E):Gt.touch&&o==="dblclick"?Hs(t,E):"removeEventListener"in t?t.removeEventListener(y[o]||o,E,!1):t.detachEvent("on"+o,E),t[r][b]=null}function N(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function $(t){return x(t,"wheel",N),this}function H(t){return ee(t,"mousedown touchstart dblclick contextmenu",N),t._leaflet_disable_click=!0,this}function Z(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function X(t){return Z(t),N(t),this}function mt(t){if(t.composedPath)return t.composedPath();for(var o=[],h=t.target;h;)o.push(h),h=h.parentNode;return o}function ct(t,o){if(!o)return new wt(t.clientX,t.clientY);var h=Fi(o),g=h.boundingClientRect;return new wt((t.clientX-g.left)/h.x-o.clientLeft,(t.clientY-g.top)/h.y-o.clientTop)}var Mt=Gt.linux&&Gt.chrome?window.devicePixelRatio:Gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Bt(t){return Gt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Mt:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function qt(t,o){var h=o.relatedTarget;if(!h)return!0;try{for(;h&&h!==t;)h=h.parentNode}catch{return!1}return h!==t}var oe={__proto__:null,on:ee,off:l,stopPropagation:N,disableScrollPropagation:$,disableClickPropagation:H,preventDefault:Z,stop:X,getPropagationPath:mt,getMousePosition:ct,getWheelDelta:Bt,isExternalTarget:qt,addListener:ee,removeListener:l},xe=Ht.extend({run:function(t,o,h,g){this.stop(),this._el=t,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=mn(t),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=gt(this._animate,this),this._step()},_step:function(t){var o=+new Date-this._startTime,h=this._duration*1e3;o<h?this._runFrame(this._easeOut(o/h),t):(this._runFrame(1),this._complete())},_runFrame:function(t,o){var h=this._startPos.add(this._offset.multiplyBy(t));o&&h._round(),Ee(this._el,h),this.fire("step")},_complete:function(){at(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ut=Ht.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,o){o=S(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(Ft(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$n&&Gt.any3d&&!Gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,Co,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,o,h){if(o=o===void 0?this._zoom:this._limitZoom(o),t=this._limitCenter(Ft(t),o,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,o,h.zoom):this._tryAnimatedPan(t,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(t,o,h.pan&&h.pan.noMoveStart),this},setZoom:function(t,o){return this._loaded?this.setView(this.getCenter(),t,{zoom:o}):(this._zoom=t,this)},zoomIn:function(t,o){return t=t||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,o)},zoomOut:function(t,o){return t=t||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,o)},setZoomAround:function(t,o,h){var g=this.getZoomScale(o),b=this.getSize().divideBy(2),E=t instanceof wt?t:this.latLngToContainerPoint(t),q=E.subtract(b).multiplyBy(1-1/g),tt=this.containerPointToLatLng(b.add(q));return this.setView(tt,o,{zoom:h})},_getBoundsCenterZoom:function(t,o){o=o||{},t=t.getBounds?t.getBounds():fe(t);var h=Dt(o.paddingTopLeft||o.padding||[0,0]),g=Dt(o.paddingBottomRight||o.padding||[0,0]),b=this.getBoundsZoom(t,!1,h.add(g));if(b=typeof o.maxZoom=="number"?Math.min(o.maxZoom,b):b,b===1/0)return{center:t.getCenter(),zoom:b};var E=g.subtract(h).divideBy(2),q=this.project(t.getSouthWest(),b),tt=this.project(t.getNorthEast(),b),lt=this.unproject(q.add(tt).divideBy(2).add(E),b);return{center:lt,zoom:b}},fitBounds:function(t,o){if(t=fe(t),!t.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(t,o);return this.setView(h.center,h.zoom,o)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,o){return this.setView(t,this._zoom,{pan:o})},panBy:function(t,o){if(t=Dt(t).round(),o=o||{},!t.x&&!t.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){ie(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,h,o.duration||.25,o.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,o,h){if(h=h||{},h.animate===!1||!Gt.any3d)return this.setView(t,o,h);this._stop();var g=this.project(this.getCenter()),b=this.project(t),E=this.getSize(),q=this._zoom;t=Ft(t),o=o===void 0?q:o;var tt=Math.max(E.x,E.y),lt=tt*this.getZoomScale(q,o),Lt=b.distanceTo(g)||1,It=1.42,Yt=It*It;function ce(ze){var Go=ze?-1:1,tp=ze?lt:tt,ep=lt*lt-tt*tt+Go*Yt*Yt*Lt*Lt,np=2*tp*Yt*Lt,ta=ep/np,Yl=Math.sqrt(ta*ta+1)-ta,rp=Yl<1e-9?-18:Math.log(Yl);return rp}function Qe(ze){return(Math.exp(ze)-Math.exp(-ze))/2}function Ue(ze){return(Math.exp(ze)+Math.exp(-ze))/2}function yn(ze){return Qe(ze)/Ue(ze)}var on=ce(0);function ai(ze){return tt*(Ue(on)/Ue(on+It*ze))}function Jd(ze){return tt*(Ue(on)*yn(on+It*ze)-Qe(on))/Yt}function Yd(ze){return 1-Math.pow(1-ze,1.5)}var Xd=Date.now(),Wl=(ce(1)-on)/It,Qd=h.duration?1e3*h.duration:1e3*Wl*.8;function Jl(){var ze=(Date.now()-Xd)/Qd,Go=Yd(ze)*Wl;ze<=1?(this._flyToFrame=gt(Jl,this),this._move(this.unproject(g.add(b.subtract(g).multiplyBy(Jd(Go)/Lt)),q),this.getScaleZoom(tt/ai(Go),q),{flyTo:!0})):this._move(t,o)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Jl.call(this),this},flyToBounds:function(t,o){var h=this._getBoundsCenterZoom(t,o);return this.flyTo(h.center,h.zoom,o)},setMaxBounds:function(t){return t=fe(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var o=this.options.minZoom;return this.options.minZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var o=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,o){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,fe(t));return h.equals(g)||this.panTo(g,o),this._enforcingBounds=!1,this},panInside:function(t,o){o=o||{};var h=Dt(o.paddingTopLeft||o.padding||[0,0]),g=Dt(o.paddingBottomRight||o.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(t),q=this.getPixelBounds(),tt=Vt([q.min.add(h),q.max.subtract(g)]),lt=tt.getSize();if(!tt.contains(E)){this._enforcingBounds=!0;var Lt=E.subtract(tt.getCenter()),It=tt.extend(E).getSize().subtract(lt);b.x+=Lt.x<0?-It.x:It.x,b.y+=Lt.y<0?-It.y:It.y,this.panTo(this.unproject(b),o),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=c({animate:!1,pan:!0},t===!0?{animate:!0}:t);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=o.divideBy(2).round(),b=h.divideBy(2).round(),E=g.subtract(b);return!E.x&&!E.y?this:(t.animate&&t.pan?this.panBy(E):(t.pan&&this._rawPanBy(E),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=c({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=u(this._handleGeolocationResponse,this),h=u(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,h,t):navigator.geolocation.getCurrentPosition(o,h,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var o=t.code,h=t.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var o=t.coords.latitude,h=t.coords.longitude,g=new le(o,h),b=g.toBounds(t.coords.accuracy*2),E=this._locateOptions;if(E.setView){var q=this.getBoundsZoom(b);this.setView(g,E.maxZoom?Math.min(q,E.maxZoom):q)}var tt={latlng:g,bounds:b,timestamp:t.timestamp};for(var lt in t.coords)typeof t.coords[lt]=="number"&&(tt[lt]=t.coords[lt]);this.fire("locationfound",tt)}},addHandler:function(t,o){if(!o)return this;var h=this[t]=new o(this);return this._handlers.push(h),this.options[t]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(at(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Ce(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,o){var h="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),g=de("div",h,o||this._mapPane);return t&&(this._panes[t]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),o=this.unproject(t.getBottomLeft()),h=this.unproject(t.getTopRight());return new Me(o,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,o,h){t=fe(t),h=Dt(h||[0,0]);var g=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),q=t.getNorthWest(),tt=t.getSouthEast(),lt=this.getSize().subtract(h),Lt=Vt(this.project(tt,g),this.project(q,g)).getSize(),It=Gt.any3d?this.options.zoomSnap:1,Yt=lt.x/Lt.x,ce=lt.y/Lt.y,Qe=o?Math.max(Yt,ce):Math.min(Yt,ce);return g=this.getScaleZoom(Qe,g),It&&(g=Math.round(g/(It/100))*(It/100),g=o?Math.ceil(g/It)*It:Math.floor(g/It)*It),Math.max(b,Math.min(E,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new wt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,o){var h=this._getTopLeftPoint(t,o);return new Rt(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,o){var h=this.options.crs;return o=o===void 0?this._zoom:o,h.scale(t)/h.scale(o)},getScaleZoom:function(t,o){var h=this.options.crs;o=o===void 0?this._zoom:o;var g=h.zoom(t*h.scale(o));return isNaN(g)?1/0:g},project:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(Ft(t),o)},unproject:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(Dt(t),o)},layerPointToLatLng:function(t){var o=Dt(t).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(t){var o=this.project(Ft(t))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Ft(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(fe(t))},distance:function(t,o){return this.options.crs.distance(Ft(t),Ft(o))},containerPointToLayerPoint:function(t){return Dt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Dt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var o=this.containerPointToLayerPoint(Dt(t));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ft(t)))},mouseEventToContainerPoint:function(t){return ct(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var o=this._container=Po(t);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(o,"scroll",this._onScroll,this),this._containerId=f(o)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Gt.any3d,ie(t,"leaflet-container"+(Gt.touch?" leaflet-touch":"")+(Gt.retina?" leaflet-retina":"")+(Gt.ielt9?" leaflet-oldie":"")+(Gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=lr(t,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new wt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ie(t.markerPane,"leaflet-zoom-hide"),ie(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,o,h){Ee(this._mapPane,new wt(0,0));var g=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var b=this._zoom!==o;this._moveStart(b,h)._move(t,o)._moveEnd(b),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(t,o){return t&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(t,o,h,g){o===void 0&&(o=this._zoom);var b=this._zoom!==o;return this._zoom=o,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),g?h&&h.pinch&&this.fire("zoom",h):((b||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return at(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ee(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[f(this._container)]=this;var o=t?l:ee;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),Gt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){at(this._resizeRequest),this._resizeRequest=gt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,o){for(var h=[],g,b=o==="mouseout"||o==="mouseover",E=t.target||t.srcElement,q=!1;E;){if(g=this._targets[f(E)],g&&(o==="click"||o==="preclick")&&this._draggableMoved(g)){q=!0;break}if(g&&g.listens(o,!0)&&(b&&!qt(E,t)||(h.push(g),b))||E===this._container)break;E=E.parentNode}return!h.length&&!q&&!b&&this.listens(o,!0)&&(h=[this]),h},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var o=t.target||t.srcElement;if(!(!this._loaded||o._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(o))){var h=t.type;h==="mousedown"&&Ni(o),this._fireDOMEvent(t,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,o,h){if(t.type==="click"){var g=c({},t);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var b=this._findEventTargets(t,o);if(h){for(var E=[],q=0;q<h.length;q++)h[q].listens(o,!0)&&E.push(h[q]);b=E.concat(b)}if(b.length){o==="contextmenu"&&Z(t);var tt=b[0],lt={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Lt=tt.getLatLng&&(!tt._radius||tt._radius<=10);lt.containerPoint=Lt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(t),lt.layerPoint=this.containerPointToLayerPoint(lt.containerPoint),lt.latlng=Lt?tt.getLatLng():this.layerPointToLatLng(lt.layerPoint)}for(q=0;q<b.length;q++)if(b[q].fire(o,lt,!0),lt.originalEvent._stopped||b[q].options.bubblingMouseEvents===!1&&T(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,o=this._handlers.length;t<o;t++)this._handlers[t].disable()},whenReady:function(t,o){return this._loaded?t.call(o||this,{target:this}):this.on("load",t,o),this},_getMapPanePos:function(){return mn(this._mapPane)||new wt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,o){var h=t&&o!==void 0?this._getNewPixelOrigin(t,o):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,o){var h=this.getSize()._divideBy(2);return this.project(t,o)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,o,h){var g=this._getNewPixelOrigin(h,o);return this.project(t,o)._subtract(g)},_latLngBoundsToNewLayerBounds:function(t,o,h){var g=this._getNewPixelOrigin(h,o);return Vt([this.project(t.getSouthWest(),o)._subtract(g),this.project(t.getNorthWest(),o)._subtract(g),this.project(t.getSouthEast(),o)._subtract(g),this.project(t.getNorthEast(),o)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,o,h){if(!h)return t;var g=this.project(t,o),b=this.getSize().divideBy(2),E=new Rt(g.subtract(b),g.add(b)),q=this._getBoundsOffset(E,h,o);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?t:this.unproject(g.add(q),o)},_limitOffset:function(t,o){if(!o)return t;var h=this.getPixelBounds(),g=new Rt(h.min.add(t),h.max.add(t));return t.add(this._getBoundsOffset(g,o))},_getBoundsOffset:function(t,o,h){var g=Vt(this.project(o.getNorthEast(),h),this.project(o.getSouthWest(),h)),b=g.min.subtract(t.min),E=g.max.subtract(t.max),q=this._rebound(b.x,-E.x),tt=this._rebound(b.y,-E.y);return new wt(q,tt)},_rebound:function(t,o){return t+o>0?Math.round(t-o)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(o))},_limitZoom:function(t){var o=this.getMinZoom(),h=this.getMaxZoom(),g=Gt.any3d?this.options.zoomSnap:1;return g&&(t=Math.round(t/g)*g),Math.max(o,Math.min(h,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,o){var h=this._getCenterOffset(t)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,o),!0)},_createAnimProxy:function(){var t=this._proxy=de("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(o){var h=Jr,g=this._proxy.style[h];Dn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),o=this.getZoom();Dn(this._proxy,this.project(t,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,o,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(o),b=this._getCenterOffset(t)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(b)?!1:(gt(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(t,o,!0)},this),!0)},_animateZoom:function(t,o,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=o,ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:o,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Le(t,o){return new Ut(t,o)}var Pe=kt.extend({options:{position:"topright"},initialize:function(t){S(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var o=this._map;return o&&o.removeControl(this),this.options.position=t,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var o=this._container=this.onAdd(t),h=this.getPosition(),g=t._controlCorners[h];return ie(o,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(o,g.firstChild):g.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ve=function(t){return new Pe(t)};Ut.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},o="leaflet-",h=this._controlContainer=de("div",o+"control-container",this._container);function g(b,E){var q=o+b+" "+o+E;t[b+E]=de("div",q,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Ce(this._controlCorners[t]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mn=Pe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,o,h,g){return h<g?-1:g<h?1:0}},initialize:function(t,o,h){S(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in t)this._addLayer(t[g],g);for(g in o)this._addLayer(o[g],g,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Pe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,o){return this._addLayer(t,o),this._map?this._update():this},addOverlay:function(t,o){return this._addLayer(t,o,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var o=this._getLayer(f(t));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",o=this._container=de("div",t),h=this.options.collapsed;o.setAttribute("aria-haspopup",!0),H(o),$(o);var g=this._section=de("section",t+"-list");h&&(this._map.on("click",this.collapse,this),ee(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=de("a",t+"-toggle",o);b.href="#",b.title="Layers",b.setAttribute("role","button"),ee(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Z(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=de("div",t+"-base",g),this._separator=de("div",t+"-separator",g),this._overlaysList=de("div",t+"-overlays",g),o.appendChild(g)},_getLayer:function(t){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&f(this._layers[o].layer)===t)return this._layers[o]},_addLayer:function(t,o,h){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:o,overlay:h}),this.options.sortLayers&&this._layers.sort(u(function(g,b){return this.options.sortFunction(g.layer,b.layer,g.name,b.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Er(this._baseLayersList),Er(this._overlaysList),this._layerControlInputs=[];var t,o,h,g,b=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),o=o||g.overlay,t=t||!g.overlay,b+=g.overlay?0:1;return this.options.hideSingleBase&&(t=t&&b>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=o&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var o=this._getLayer(f(t.target)),h=o.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;h&&this._map.fire(h,o)},_createRadioElement:function(t,o){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(o?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(t){var o=document.createElement("label"),h=this._map.hasLayer(t.layer),g;t.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+f(this),h),this._layerControlInputs.push(g),g.layerId=f(t.layer),ee(g,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+t.name;var E=document.createElement("span");o.appendChild(E),E.appendChild(g),E.appendChild(b);var q=t.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,o,h,g=[],b=[];this._handlingClick=!0;for(var E=t.length-1;E>=0;E--)o=t[E],h=this._getLayer(o.layerId).layer,o.checked?g.push(h):o.checked||b.push(h);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<g.length;E++)this._map.hasLayer(g[E])||this._map.addLayer(g[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,o,h,g=this._map.getZoom(),b=t.length-1;b>=0;b--)o=t[b],h=this._getLayer(o.layerId).layer,o.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ee(t,"click",Z),this.expand();var o=this;setTimeout(function(){l(t,"click",Z),o._preventClick=!1})}}),So=function(t,o,h){return new Mn(t,o,h)},Rr=Pe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var o="leaflet-control-zoom",h=de("div",o+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,o+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,o+"-out",h,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,o,h,g,b){var E=de("a",h,g);return E.innerHTML=t,E.href="#",E.title=o,E.setAttribute("role","button"),E.setAttribute("aria-label",o),H(E),ee(E,"click",X),ee(E,"click",b,this),ee(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var t=this._map,o="leaflet-disabled";Be(this._zoomInButton,o),Be(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ie(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ie(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rr,this.addControl(this.zoomControl))});var Kn=function(t){return new Rr(t)},Gi=Pe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var o="leaflet-control-scale",h=de("div",o),g=this.options;return this._addScales(g,o+"-line",h),t.on(g.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),h},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,o,h){t.metric&&(this._mScale=de("div",o,h)),t.imperial&&(this._iScale=de("div",o,h))},_update:function(){var t=this._map,o=t.getSize().y/2,h=t.distance(t.containerPointToLatLng([0,o]),t.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(h)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var o=this._getRoundNum(t),h=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,h,o/t)},_updateImperial:function(t){var o=t*3.2808399,h,g,b;o>5280?(h=o/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(b=this._getRoundNum(o),this._updateScale(this._iScale,b+" ft",b/o))},_updateScale:function(t,o,h){t.style.width=Math.round(this.options.maxWidth*h)+"px",t.innerHTML=o},_getRoundNum:function(t){var o=Math.pow(10,(Math.floor(t)+"").length-1),h=t/o;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,o*h}}),Eo=function(t){return new Gi(t)},Us='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ir=Pe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Gt.inlineSvg?Us+" ":"")+"Leaflet</a>"},initialize:function(t){S(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=de("div","leaflet-control-attribution"),H(this._container);for(var o in t._layers)t._layers[o].getAttribution&&this.addAttribution(t._layers[o].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var o in this._attributions)this._attributions[o]&&t.push(o);var h=[];this.options.prefix&&h.push(this.options.prefix),t.length&&h.push(t.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&new Ir().addTo(this)});var $s=function(t){return new Ir(t)};Pe.Layers=Mn,Pe.Zoom=Rr,Pe.Scale=Gi,Pe.Attribution=Ir,Ve.layers=So,Ve.zoom=Kn,Ve.scale=Eo,Ve.attribution=$s;var gn=kt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(t,o){return t.addHandler(o,this),this};var vd={Events:Ct},bl=Gt.touch?"touchstart mousedown":"mousedown",cr=Ht.extend({options:{clickTolerance:3},initialize:function(t,o,h,g){S(this,g),this._element=t,this._dragStartTarget=o||t,this._preventOutline=h},enable:function(){this._enabled||(ee(this._dragStartTarget,bl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cr._dragging===this&&this.finishDrag(!0),l(this._dragStartTarget,bl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Yr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){cr._dragging===this&&this.finishDrag();return}if(!(cr._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(cr._dragging=this,this._preventOutline&&Ni(this._element),Br(),Or(),!this._moving)){this.fire("down");var o=t.touches?t.touches[0]:t,h=ei(this._element);this._startPoint=new wt(o.clientX,o.clientY),this._startPos=mn(this._element),this._parentScale=Fi(h);var g=t.type==="mousedown";ee(document,g?"mousemove":"touchmove",this._onMove,this),ee(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var o=t.touches&&t.touches.length===1?t.touches[0]:t,h=new wt(o.clientX,o.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Z(t),this._moved||(this.fire("dragstart"),this._moved=!0,ie(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ee(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Be(document.body,"leaflet-dragging"),this._lastTarget&&(Be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),l(document,"mousemove touchmove",this._onMove,this),l(document,"mouseup touchend touchcancel",this._onUp,this),ji(),Ar();var o=this._moved&&this._moving;this._moving=!1,cr._dragging=!1,o&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function wl(t,o,h){var g,b=[1,4,2,8],E,q,tt,lt,Lt,It,Yt,ce;for(E=0,It=t.length;E<It;E++)t[E]._code=Dr(t[E],o);for(tt=0;tt<4;tt++){for(Yt=b[tt],g=[],E=0,It=t.length,q=It-1;E<It;q=E++)lt=t[E],Lt=t[q],lt._code&Yt?Lt._code&Yt||(ce=To(Lt,lt,Yt,o,h),ce._code=Dr(ce,o),g.push(ce)):(Lt._code&Yt&&(ce=To(Lt,lt,Yt,o,h),ce._code=Dr(ce,o),g.push(ce)),g.push(lt));t=g}return t}function xl(t,o){var h,g,b,E,q,tt,lt,Lt,It;if(!t||t.length===0)throw new Error("latlngs not passed");_n(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Yt=Ft([0,0]),ce=fe(t),Qe=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());Qe<1700&&(Yt=Zs(t));var Ue=t.length,yn=[];for(h=0;h<Ue;h++){var on=Ft(t[h]);yn.push(o.project(Ft([on.lat-Yt.lat,on.lng-Yt.lng])))}for(tt=lt=Lt=0,h=0,g=Ue-1;h<Ue;g=h++)b=yn[h],E=yn[g],q=b.y*E.x-E.y*b.x,lt+=(b.x+E.x)*q,Lt+=(b.y+E.y)*q,tt+=q*3;tt===0?It=yn[0]:It=[lt/tt,Lt/tt];var ai=o.unproject(Dt(It));return Ft([ai.lat+Yt.lat,ai.lng+Yt.lng])}function Zs(t){for(var o=0,h=0,g=0,b=0;b<t.length;b++){var E=Ft(t[b]);o+=E.lat,h+=E.lng,g++}return Ft([o/g,h/g])}var bd={__proto__:null,clipPolygon:wl,polygonCenter:xl,centroid:Zs};function Ll(t,o){if(!o||!t.length)return t.slice();var h=o*o;return t=Ld(t,h),t=xd(t,h),t}function kl(t,o,h){return Math.sqrt(Hi(t,o,h,!0))}function wd(t,o,h){return Hi(t,o,h)}function xd(t,o){var h=t.length,g=typeof Uint8Array!=void 0+""?Uint8Array:Array,b=new g(h);b[0]=b[h-1]=1,qs(t,b,o,0,h-1);var E,q=[];for(E=0;E<h;E++)b[E]&&q.push(t[E]);return q}function qs(t,o,h,g,b){var E=0,q,tt,lt;for(tt=g+1;tt<=b-1;tt++)lt=Hi(t[tt],t[g],t[b],!0),lt>E&&(q=tt,E=lt);E>h&&(o[q]=1,qs(t,o,h,g,q),qs(t,o,h,q,b))}function Ld(t,o){for(var h=[t[0]],g=1,b=0,E=t.length;g<E;g++)kd(t[g],t[b])>o&&(h.push(t[g]),b=g);return b<E-1&&h.push(t[E-1]),h}var Ml;function Cl(t,o,h,g,b){var E=g?Ml:Dr(t,h),q=Dr(o,h),tt,lt,Lt;for(Ml=q;;){if(!(E|q))return[t,o];if(E&q)return!1;tt=E||q,lt=To(t,o,tt,h,b),Lt=Dr(lt,h),tt===E?(t=lt,E=Lt):(o=lt,q=Lt)}}function To(t,o,h,g,b){var E=o.x-t.x,q=o.y-t.y,tt=g.min,lt=g.max,Lt,It;return h&8?(Lt=t.x+E*(lt.y-t.y)/q,It=lt.y):h&4?(Lt=t.x+E*(tt.y-t.y)/q,It=tt.y):h&2?(Lt=lt.x,It=t.y+q*(lt.x-t.x)/E):h&1&&(Lt=tt.x,It=t.y+q*(tt.x-t.x)/E),new wt(Lt,It,b)}function Dr(t,o){var h=0;return t.x<o.min.x?h|=1:t.x>o.max.x&&(h|=2),t.y<o.min.y?h|=4:t.y>o.max.y&&(h|=8),h}function kd(t,o){var h=o.x-t.x,g=o.y-t.y;return h*h+g*g}function Hi(t,o,h,g){var b=o.x,E=o.y,q=h.x-b,tt=h.y-E,lt=q*q+tt*tt,Lt;return lt>0&&(Lt=((t.x-b)*q+(t.y-E)*tt)/lt,Lt>1?(b=h.x,E=h.y):Lt>0&&(b+=q*Lt,E+=tt*Lt)),q=t.x-b,tt=t.y-E,g?q*q+tt*tt:new wt(b,E)}function _n(t){return!j(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Pl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_n(t)}function Sl(t,o){var h,g,b,E,q,tt,lt,Lt;if(!t||t.length===0)throw new Error("latlngs not passed");_n(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var It=Ft([0,0]),Yt=fe(t),ce=Yt.getNorthWest().distanceTo(Yt.getSouthWest())*Yt.getNorthEast().distanceTo(Yt.getNorthWest());ce<1700&&(It=Zs(t));var Qe=t.length,Ue=[];for(h=0;h<Qe;h++){var yn=Ft(t[h]);Ue.push(o.project(Ft([yn.lat-It.lat,yn.lng-It.lng])))}for(h=0,g=0;h<Qe-1;h++)g+=Ue[h].distanceTo(Ue[h+1])/2;if(g===0)Lt=Ue[0];else for(h=0,E=0;h<Qe-1;h++)if(q=Ue[h],tt=Ue[h+1],b=q.distanceTo(tt),E+=b,E>g){lt=(E-g)/b,Lt=[tt.x-lt*(tt.x-q.x),tt.y-lt*(tt.y-q.y)];break}var on=o.unproject(Dt(Lt));return Ft([on.lat+It.lat,on.lng+It.lng])}var Md={__proto__:null,simplify:Ll,pointToSegmentDistance:kl,closestPointOnSegment:wd,clipSegment:Cl,_getEdgeIntersection:To,_getBitCode:Dr,_sqClosestPointOnSegment:Hi,isFlat:_n,_flat:Pl,polylineCenter:Sl},Ks={project:function(t){return new wt(t.lng,t.lat)},unproject:function(t){return new le(t.y,t.x)},bounds:new Rt([-180,-90],[180,90])},Ws={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Rt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var o=Math.PI/180,h=this.R,g=t.lat*o,b=this.R_MINOR/h,E=Math.sqrt(1-b*b),q=E*Math.sin(g),tt=Math.tan(Math.PI/4-g/2)/Math.pow((1-q)/(1+q),E/2);return g=-h*Math.log(Math.max(tt,1e-10)),new wt(t.lng*o*h,g)},unproject:function(t){for(var o=180/Math.PI,h=this.R,g=this.R_MINOR/h,b=Math.sqrt(1-g*g),E=Math.exp(-t.y/h),q=Math.PI/2-2*Math.atan(E),tt=0,lt=.1,Lt;tt<15&&Math.abs(lt)>1e-7;tt++)Lt=b*Math.sin(q),Lt=Math.pow((1-Lt)/(1+Lt),b/2),lt=Math.PI/2-2*Math.atan(E*Lt)-q,q+=lt;return new le(q*o,t.x*o/h)}},Cd={__proto__:null,LonLat:Ks,Mercator:Ws,SphericalMercator:zt},Pd=c({},Pt,{code:"EPSG:3395",projection:Ws,transformation:function(){var t=.5/(Math.PI*Ws.R);return G(t,.5,-t,.5)}()}),El=c({},Pt,{code:"EPSG:4326",projection:Ks,transformation:G(1/180,1,-1/180,.5)}),Sd=c({},dt,{projection:Ks,transformation:G(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,o){var h=o.lng-t.lng,g=o.lat-t.lat;return Math.sqrt(h*h+g*g)},infinite:!0});dt.Earth=Pt,dt.EPSG3395=Pd,dt.EPSG3857=K,dt.EPSG900913=J,dt.EPSG4326=El,dt.Simple=Sd;var Cn=Ht.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[f(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[f(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var o=t.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var h=this.getEvents();o.on(h,this),this.once("remove",function(){o.off(h,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var o=f(t);return this._layers[o]?this:(this._layers[o]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var o=f(t);return this._layers[o]?(this._loaded&&t.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return f(t)in this._layers},eachLayer:function(t,o){for(var h in this._layers)t.call(o,this._layers[h]);return this},_addLayers:function(t){t=t?j(t)?t:[t]:[];for(var o=0,h=t.length;o<h;o++)this.addLayer(t[o])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[f(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var o=f(t);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,o=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var b=this._zoomBoundLayers[g].options;t=b.minZoom===void 0?t:Math.min(t,b.minZoom),o=b.maxZoom===void 0?o:Math.max(o,b.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=t===1/0?void 0:t,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ni=Cn.extend({initialize:function(t,o){S(this,o),this._layers={};var h,g;if(t)for(h=0,g=t.length;h<g;h++)this.addLayer(t[h])},addLayer:function(t){var o=this.getLayerId(t);return this._layers[o]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var o=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(t){var o=typeof t=="number"?t:this.getLayerId(t);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var o=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[t]&&g[t].apply(g,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,o){for(var h in this._layers)t.call(o,this._layers[h]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return f(t)}}),Ed=function(t,o){return new ni(t,o)},Wn=ni.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ni.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ni.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Me;for(var o in this._layers){var h=this._layers[o];t.extend(h.getBounds?h.getBounds():h.getLatLng())}return t}}),Td=function(t,o){return new Wn(t,o)},ri=kt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){S(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,o){var h=this._getIconUrl(t);if(!h){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(g,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(t,o){var h=this.options,g=h[o+"Size"];typeof g=="number"&&(g=[g,g]);var b=Dt(g),E=Dt(o==="shadow"&&h.shadowAnchor||h.iconAnchor||b&&b.divideBy(2,!0));t.className="leaflet-marker-"+o+" "+(h.className||""),E&&(t.style.marginLeft=-E.x+"px",t.style.marginTop=-E.y+"px"),b&&(t.style.width=b.x+"px",t.style.height=b.y+"px")},_createImg:function(t,o){return o=o||document.createElement("img"),o.src=t,o},_getIconUrl:function(t){return Gt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Od(t){return new ri(t)}var Vi=ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Vi.imagePath!="string"&&(Vi.imagePath=this._detectIconPath()),(this.options.imagePath||Vi.imagePath)+ri.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var o=function(h,g,b){var E=g.exec(h);return E&&E[b]};return t=o(t,/^url\((['"])?(.+)\1\)$/,2),t&&o(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=de("div","leaflet-default-icon-path",document.body),o=lr(t,"background-image")||lr(t,"backgroundImage");if(document.body.removeChild(t),o=this._stripUrl(o),o)return o;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Tl=gn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new cr(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ie(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var o=this._marker,h=o._map,g=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=mn(o._icon),q=h.getPixelBounds(),tt=h.getPixelOrigin(),lt=Vt(q.min._subtract(tt).add(b),q.max._subtract(tt).subtract(b));if(!lt.contains(E)){var Lt=Dt((Math.max(lt.max.x,E.x)-lt.max.x)/(q.max.x-lt.max.x)-(Math.min(lt.min.x,E.x)-lt.min.x)/(q.min.x-lt.min.x),(Math.max(lt.max.y,E.y)-lt.max.y)/(q.max.y-lt.max.y)-(Math.min(lt.min.y,E.y)-lt.min.y)/(q.min.y-lt.min.y)).multiplyBy(g);h.panBy(Lt,{animate:!1}),this._draggable._newPos._add(Lt),this._draggable._startPos._add(Lt),Ee(o._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=gt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(at(this._panRequest),this._panRequest=gt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var o=this._marker,h=o._shadow,g=mn(o._icon),b=o._map.layerPointToLatLng(g);h&&Ee(h,g),o._latlng=b,t.latlng=b,t.oldLatLng=this._oldLatLng,o.fire("move",t).fire("drag",t)},_onDragEnd:function(t){at(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Oo=Cn.extend({options:{icon:new Vi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,o){S(this,o),this._latlng=Ft(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var o=this._latlng;return this._latlng=Ft(t),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=t.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,t.title&&(h.title=t.title),h.tagName==="IMG"&&(h.alt=t.alt||"")),ie(h,o),t.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(h,"focus",this._panOnFocus,this);var b=t.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(ie(b,o),b.alt=""),this._shadow=b,t.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&l(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ee(this._icon,t),this._shadow&&Ee(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tl)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tl(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&rn(this._icon,t),this._shadow&&rn(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var o=this.options.icon.options,h=o.iconSize?Dt(o.iconSize):Dt(0,0),g=o.iconAnchor?Dt(o.iconAnchor):Dt(0,0);t.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ad(t,o){return new Oo(t,o)}var hr=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return S(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ao=hr.extend({options:{fill:!0,radius:10},initialize:function(t,o){S(this,o),this._latlng=Ft(t),this._radius=this.options.radius},setLatLng:function(t){var o=this._latlng;return this._latlng=Ft(t),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var o=t&&t.radius||this._radius;return hr.prototype.setStyle.call(this,t),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,o=this._radiusY||t,h=this._clickTolerance(),g=[t+h,o+h];this._pxBounds=new Rt(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bd(t,o){return new Ao(t,o)}var Js=Ao.extend({initialize:function(t,o,h){if(typeof o=="number"&&(o=c({},h,{radius:o})),S(this,o),this._latlng=Ft(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Me(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:hr.prototype.setStyle,_project:function(){var t=this._latlng.lng,o=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===Pt.distance){var b=Math.PI/180,E=this._mRadius/Pt.R/b,q=h.project([o+E,t]),tt=h.project([o-E,t]),lt=q.add(tt).divideBy(2),Lt=h.unproject(lt).lat,It=Math.acos((Math.cos(E*b)-Math.sin(o*b)*Math.sin(Lt*b))/(Math.cos(o*b)*Math.cos(Lt*b)))/b;(isNaN(It)||It===0)&&(It=E/Math.cos(Math.PI/180*o)),this._point=lt.subtract(h.getPixelOrigin()),this._radius=isNaN(It)?0:lt.x-h.project([Lt,t-It]).x,this._radiusY=lt.y-q.y}else{var Yt=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Yt).x}this._updateBounds()}});function Rd(t,o,h){return new Js(t,o,h)}var Jn=hr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,o){S(this,o),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var o=1/0,h=null,g=Hi,b,E,q=0,tt=this._parts.length;q<tt;q++)for(var lt=this._parts[q],Lt=1,It=lt.length;Lt<It;Lt++){b=lt[Lt-1],E=lt[Lt];var Yt=g(t,b,E,!0);Yt<o&&(o=Yt,h=g(t,b,E))}return h&&(h.distance=Math.sqrt(o)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,o){return o=o||this._defaultShape(),t=Ft(t),o.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Me,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return _n(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var o=[],h=_n(t),g=0,b=t.length;g<b;g++)h?(o[g]=Ft(t[g]),this._bounds.extend(o[g])):o[g]=this._convertLatLngs(t[g]);return o},_project:function(){var t=new Rt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),o=new wt(t,t);this._rawPxBounds&&(this._pxBounds=new Rt([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(t,o,h){var g=t[0]instanceof le,b=t.length,E,q;if(g){for(q=[],E=0;E<b;E++)q[E]=this._map.latLngToLayerPoint(t[E]),h.extend(q[E]);o.push(q)}else for(E=0;E<b;E++)this._projectLatlngs(t[E],o,h)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,h,g,b,E,q,tt,lt;for(h=0,b=0,E=this._rings.length;h<E;h++)for(lt=this._rings[h],g=0,q=lt.length;g<q-1;g++)tt=Cl(lt[g],lt[g+1],t,g,!0),tt&&(o[b]=o[b]||[],o[b].push(tt[0]),(tt[1]!==lt[g+1]||g===q-2)&&(o[b].push(tt[1]),b++))}},_simplifyPoints:function(){for(var t=this._parts,o=this.options.smoothFactor,h=0,g=t.length;h<g;h++)t[h]=Ll(t[h],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,o){var h,g,b,E,q,tt,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,E=this._parts.length;h<E;h++)for(tt=this._parts[h],g=0,q=tt.length,b=q-1;g<q;b=g++)if(!(!o&&g===0)&&kl(t,tt[b],tt[g])<=lt)return!0;return!1}});function Id(t,o){return new Jn(t,o)}Jn._flat=Pl;var ii=Jn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var o=Jn.prototype._convertLatLngs.call(this,t),h=o.length;return h>=2&&o[0]instanceof le&&o[0].equals(o[h-1])&&o.pop(),o},_setLatLngs:function(t){Jn.prototype._setLatLngs.call(this,t),_n(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _n(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,o=this.options.weight,h=new wt(o,o);if(t=new Rt(t.min.subtract(h),t.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,b=this._rings.length,E;g<b;g++)E=wl(this._rings[g],t,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var o=!1,h,g,b,E,q,tt,lt,Lt;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(E=0,lt=this._parts.length;E<lt;E++)for(h=this._parts[E],q=0,Lt=h.length,tt=Lt-1;q<Lt;tt=q++)g=h[q],b=h[tt],g.y>t.y!=b.y>t.y&&t.x<(b.x-g.x)*(t.y-g.y)/(b.y-g.y)+g.x&&(o=!o);return o||Jn.prototype._containsPoint.call(this,t,!0)}});function Dd(t,o){return new ii(t,o)}var Yn=Wn.extend({initialize:function(t,o){S(this,o),this._layers={},t&&this.addData(t)},addData:function(t){var o=j(t)?t:t.features,h,g,b;if(o){for(h=0,g=o.length;h<g;h++)b=o[h],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(t))return this;var q=Bo(t,E);return q?(q.feature=Do(t),q.defaultOptions=q.options,this.resetStyle(q),E.onEachFeature&&E.onEachFeature(t,q),this.addLayer(q)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=c({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(o){this._setLayerStyle(o,t)},this)},_setLayerStyle:function(t,o){t.setStyle&&(typeof o=="function"&&(o=o(t.feature)),t.setStyle(o))}});function Bo(t,o){var h=t.type==="Feature"?t.geometry:t,g=h?h.coordinates:null,b=[],E=o&&o.pointToLayer,q=o&&o.coordsToLatLng||Ys,tt,lt,Lt,It;if(!g&&!h)return null;switch(h.type){case"Point":return tt=q(g),Ol(E,t,tt,o);case"MultiPoint":for(Lt=0,It=g.length;Lt<It;Lt++)tt=q(g[Lt]),b.push(Ol(E,t,tt,o));return new Wn(b);case"LineString":case"MultiLineString":return lt=Ro(g,h.type==="LineString"?0:1,q),new Jn(lt,o);case"Polygon":case"MultiPolygon":return lt=Ro(g,h.type==="Polygon"?1:2,q),new ii(lt,o);case"GeometryCollection":for(Lt=0,It=h.geometries.length;Lt<It;Lt++){var Yt=Bo({geometry:h.geometries[Lt],type:"Feature",properties:t.properties},o);Yt&&b.push(Yt)}return new Wn(b);case"FeatureCollection":for(Lt=0,It=h.features.length;Lt<It;Lt++){var ce=Bo(h.features[Lt],o);ce&&b.push(ce)}return new Wn(b);default:throw new Error("Invalid GeoJSON object.")}}function Ol(t,o,h,g){return t?t(o,h):new Oo(h,g&&g.markersInheritOptions&&g)}function Ys(t){return new le(t[1],t[0],t[2])}function Ro(t,o,h){for(var g=[],b=0,E=t.length,q;b<E;b++)q=o?Ro(t[b],o-1,h):(h||Ys)(t[b]),g.push(q);return g}function Xs(t,o){return t=Ft(t),t.alt!==void 0?[M(t.lng,o),M(t.lat,o),M(t.alt,o)]:[M(t.lng,o),M(t.lat,o)]}function Io(t,o,h,g){for(var b=[],E=0,q=t.length;E<q;E++)b.push(o?Io(t[E],_n(t[E])?0:o-1,h,g):Xs(t[E],g));return!o&&h&&b.length>0&&b.push(b[0].slice()),b}function oi(t,o){return t.feature?c({},t.feature,{geometry:o}):Do(o)}function Do(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Qs={toGeoJSON:function(t){return oi(this,{type:"Point",coordinates:Xs(this.getLatLng(),t)})}};Oo.include(Qs),Js.include(Qs),Ao.include(Qs),Jn.include({toGeoJSON:function(t){var o=!_n(this._latlngs),h=Io(this._latlngs,o?1:0,!1,t);return oi(this,{type:(o?"Multi":"")+"LineString",coordinates:h})}}),ii.include({toGeoJSON:function(t){var o=!_n(this._latlngs),h=o&&!_n(this._latlngs[0]),g=Io(this._latlngs,h?2:o?1:0,!0,t);return o||(g=[g]),oi(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),ni.include({toMultiPoint:function(t){var o=[];return this.eachLayer(function(h){o.push(h.toGeoJSON(t).geometry.coordinates)}),oi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(t){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(t);var h=o==="GeometryCollection",g=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(t);if(h)g.push(E.geometry);else{var q=Do(E);q.type==="FeatureCollection"?g.push.apply(g,q.features):g.push(q)}}}),h?oi(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Al(t,o){return new Yn(t,o)}var zd=Al,zo=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,o,h){this._url=t,this._bounds=fe(o),S(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Zn(this._image),this},bringToBack:function(){return this._map&&qn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=fe(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",o=this._image=t?this._url:de("img");if(ie(o,"leaflet-image-layer"),this._zoomAnimated&&ie(o,"leaflet-zoom-animated"),this.options.className&&ie(o,this.options.className),o.onselectstart=v,o.onmousemove=v,o.onload=u(this.fire,this,"load"),o.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(t){var o=this._map.getZoomScale(t.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Dn(this._image,h,o)},_reset:function(){var t=this._image,o=new Rt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=o.getSize();Ee(t,o.min),t.style.width=h.x+"px",t.style.height=h.y+"px"},_updateOpacity:function(){rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),jd=function(t,o,h){return new zo(t,o,h)},Bl=zo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",o=this._image=t?this._url:de("video");if(ie(o,"leaflet-image-layer"),this._zoomAnimated&&ie(o,"leaflet-zoom-animated"),this.options.className&&ie(o,this.options.className),o.onselectstart=v,o.onmousemove=v,o.onloadeddata=u(this.fire,this,"load"),t){for(var h=o.getElementsByTagName("source"),g=[],b=0;b<h.length;b++)g.push(h[b].src);this._url=h.length>0?g:[o.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var q=de("source");q.src=this._url[E],o.appendChild(q)}}});function Nd(t,o,h){return new Bl(t,o,h)}var Rl=zo.extend({_initImage:function(){var t=this._image=this._url;ie(t,"leaflet-image-layer"),this._zoomAnimated&&ie(t,"leaflet-zoom-animated"),this.options.className&&ie(t,this.options.className),t.onselectstart=v,t.onmousemove=v}});function Fd(t,o,h){return new Rl(t,o,h)}var jn=Cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,o){t&&(t instanceof le||j(t))?(this._latlng=Ft(t),S(this,o)):(S(this,t),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&rn(this._container,1),this.bringToFront(),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(rn(this._container,0),this._removeTimeout=setTimeout(u(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Ft(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zn(this._container),this},bringToBack:function(){return this._map&&qn(this._container),this},_prepareOpen:function(t){var o=this._source;if(!o._map)return!1;if(o instanceof Wn){o=null;var h=this._source._layers;for(var g in h)if(h[g]._map){o=h[g];break}if(!o)return!1;this._source=o}if(!t)if(o.getCenter)t=o.getCenter();else if(o.getLatLng)t=o.getLatLng();else if(o.getBounds)t=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")t.innerHTML=o;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),o=Dt(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ee(this._container,t.add(h)):o=o.add(t).add(h);var g=this._containerBottom=-o.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=g+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(t,o,h,g){var b=o;return b instanceof t||(b=new t(g).setContent(o)),h&&b.setLatLng(h),b}}),Cn.include({_initOverlay:function(t,o,h,g){var b=h;return b instanceof t?(S(b,g),b._source=this):(b=o&&!g?o:new t(g,this),b.setContent(h)),b}});var jo=jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,jn.prototype.openOn.call(this,t)},onAdd:function(t){jn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hr||this._source.on("preclick",N))},onRemove:function(t){jn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hr||this._source.off("preclick",N))},getEvents:function(){var t=jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",o=this._container=de("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=de("div",t+"-content-wrapper",o);if(this._contentNode=de("div",t+"-content",h),H(o),$(this._contentNode),ee(o,"contextmenu",N),this._tipContainer=de("div",t+"-tip-container",o),this._tip=de("div",t+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=de("a",t+"-close-button",o);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',ee(g,"click",function(b){Z(b),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,o=t.style;o.width="",o.whiteSpace="nowrap";var h=t.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),o.width=h+1+"px",o.whiteSpace="",o.height="";var g=t.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&g>b?(o.height=b+"px",ie(t,E)):Be(t,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),h=this._getAnchor();Ee(this._container,o.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,o=parseInt(lr(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+o,g=this._containerWidth,b=new wt(this._containerLeft,-h-this._containerBottom);b._add(mn(this._container));var E=t.layerPointToContainerPoint(b),q=Dt(this.options.autoPanPadding),tt=Dt(this.options.autoPanPaddingTopLeft||q),lt=Dt(this.options.autoPanPaddingBottomRight||q),Lt=t.getSize(),It=0,Yt=0;E.x+g+lt.x>Lt.x&&(It=E.x+g-Lt.x+lt.x),E.x-It-tt.x<0&&(It=E.x-tt.x),E.y+h+lt.y>Lt.y&&(Yt=E.y+h-Lt.y+lt.y),E.y-Yt-tt.y<0&&(Yt=E.y-tt.y),(It||Yt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([It,Yt]))}},_getAnchor:function(){return Dt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gd=function(t,o){return new jo(t,o)};Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(t,o,h){return this._initOverlay(jo,t,o,h).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Cn.include({bindPopup:function(t,o){return this._popup=this._initOverlay(jo,this._popup,t,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Wn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){X(t);var o=t.layer||t.target;if(this._popup._source===o&&!(o instanceof hr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=o,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var No=jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){jn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){jn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=jn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",o=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=de("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var o,h,g=this._map,b=this._container,E=g.latLngToContainerPoint(g.getCenter()),q=g.layerPointToContainerPoint(t),tt=this.options.direction,lt=b.offsetWidth,Lt=b.offsetHeight,It=Dt(this.options.offset),Yt=this._getAnchor();tt==="top"?(o=lt/2,h=Lt):tt==="bottom"?(o=lt/2,h=0):tt==="center"?(o=lt/2,h=Lt/2):tt==="right"?(o=0,h=Lt/2):tt==="left"?(o=lt,h=Lt/2):q.x<E.x?(tt="right",o=0,h=Lt/2):(tt="left",o=lt+(It.x+Yt.x)*2,h=Lt/2),t=t.subtract(Dt(o,h,!0)).add(It).add(Yt),Be(b,"leaflet-tooltip-right"),Be(b,"leaflet-tooltip-left"),Be(b,"leaflet-tooltip-top"),Be(b,"leaflet-tooltip-bottom"),ie(b,"leaflet-tooltip-"+tt),Ee(b,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&rn(this._container,t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(o)},_getAnchor:function(){return Dt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Hd=function(t,o){return new No(t,o)};Ut.include({openTooltip:function(t,o,h){return this._initOverlay(No,t,o,h).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Cn.include({bindTooltip:function(t,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(No,this._tooltip,t,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var o=t?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[o](h),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Wn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&(ee(o,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ee(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var o=t.latlng,h,g;this._tooltip.options.sticky&&t.originalEvent&&(h=this._map.mouseEventToContainerPoint(t.originalEvent),g=this._map.containerPointToLayerPoint(h),o=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(o)}});var Il=ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var o=t&&t.tagName==="DIV"?t:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Er(o),o.appendChild(h.html)):o.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=Dt(h.bgPos);o.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Vd(t){return new Il(t)}ri.Default=Vi;var Ui=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){S(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Ce(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof wt?t:new wt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var o=this.getPane().children,h=-t(-1/0,1/0),g=0,b=o.length,E;g<b;g++)E=o[g].style.zIndex,o[g]!==this._container&&E&&(h=t(h,+E));isFinite(h)&&(this.options.zIndex=h+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Gt.ielt9){rn(this._container,this.options.opacity);var t=+new Date,o=!1,h=!1;for(var g in this._tiles){var b=this._tiles[g];if(!(!b.current||!b.loaded)){var E=Math.min(1,(t-b.loaded)/200);rn(b.el,E),E<1?o=!0:(b.active?h=!0:this._onOpaqueTile(b),b.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),o&&(at(this._fadeFrame),this._fadeFrame=gt(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=de("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,o=this.options.maxZoom;if(t!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===t?(this._levels[h].el.style.zIndex=o-Math.abs(t-h),this._onUpdateLevel(h)):(Ce(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[t],b=this._map;return g||(g=this._levels[t]={},g.el=de("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=o,g.origin=b.project(b.unproject(b.getPixelOrigin()),t).round(),g.zoom=t,this._setZoomTransform(g,b.getCenter(),b.getZoom()),v(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var t,o,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)o=this._tiles[t],o.retain=o.current;for(t in this._tiles)if(o=this._tiles[t],o.current&&!o.active){var g=o.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var o in this._tiles)this._tiles[o].coords.z===t&&this._removeTile(o)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Ce(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,o,h,g){var b=Math.floor(t/2),E=Math.floor(o/2),q=h-1,tt=new wt(+b,+E);tt.z=+q;var lt=this._tileCoordsToKey(tt),Lt=this._tiles[lt];return Lt&&Lt.active?(Lt.retain=!0,!0):(Lt&&Lt.loaded&&(Lt.retain=!0),q>g?this._retainParent(b,E,q,g):!1)},_retainChildren:function(t,o,h,g){for(var b=2*t;b<2*t+2;b++)for(var E=2*o;E<2*o+2;E++){var q=new wt(b,E);q.z=h+1;var tt=this._tileCoordsToKey(q),lt=this._tiles[tt];if(lt&&lt.active){lt.retain=!0;continue}else lt&&lt.loaded&&(lt.retain=!0);h+1<g&&this._retainChildren(b,E,h+1,g)}},_resetView:function(t){var o=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var o=this.options;return o.minNativeZoom!==void 0&&t<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<t?o.maxNativeZoom:t},_setView:function(t,o,h,g){var b=Math.round(o);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!g||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(t),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(t,o)},_setZoomTransforms:function(t,o){for(var h in this._levels)this._setZoomTransform(this._levels[h],t,o)},_setZoomTransform:function(t,o,h){var g=this._map.getZoomScale(h,t.zoom),b=t.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(o,h)).round();Gt.any3d?Dn(t.el,b,g):Ee(t.el,b)},_resetGrid:function(){var t=this._map,o=t.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,o.wrapLng[0]],g).x/h.x),Math.ceil(t.project([0,o.wrapLng[1]],g).x/h.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([o.wrapLat[0],0],g).y/h.x),Math.ceil(t.project([o.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var o=this._map,h=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),g=o.getZoomScale(h,this._tileZoom),b=o.project(t,this._tileZoom).floor(),E=o.getSize().divideBy(g*2);return new Rt(b.subtract(E),b.add(E))},_update:function(t){var o=this._map;if(o){var h=this._clampZoom(o.getZoom());if(t===void 0&&(t=o.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(t),b=this._pxBoundsToTileRange(g),E=b.getCenter(),q=[],tt=this.options.keepBuffer,lt=new Rt(b.getBottomLeft().subtract([tt,-tt]),b.getTopRight().add([tt,-tt]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Lt in this._tiles){var It=this._tiles[Lt].coords;(It.z!==this._tileZoom||!lt.contains(new wt(It.x,It.y)))&&(this._tiles[Lt].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(t,h);return}for(var Yt=b.min.y;Yt<=b.max.y;Yt++)for(var ce=b.min.x;ce<=b.max.x;ce++){var Qe=new wt(ce,Yt);if(Qe.z=this._tileZoom,!!this._isValidTile(Qe)){var Ue=this._tiles[this._tileCoordsToKey(Qe)];Ue?Ue.current=!0:q.push(Qe)}}if(q.sort(function(on,ai){return on.distanceTo(E)-ai.distanceTo(E)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yn=document.createDocumentFragment();for(ce=0;ce<q.length;ce++)this._addTile(q[ce],yn);this._level.el.appendChild(yn)}}}},_isValidTile:function(t){var o=this._map.options.crs;if(!o.infinite){var h=this._globalTileRange;if(!o.wrapLng&&(t.x<h.min.x||t.x>h.max.x)||!o.wrapLat&&(t.y<h.min.y||t.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(t);return fe(this.options.bounds).overlaps(g)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var o=this._map,h=this.getTileSize(),g=t.scaleBy(h),b=g.add(h),E=o.unproject(g,t.z),q=o.unproject(b,t.z);return[E,q]},_tileCoordsToBounds:function(t){var o=this._tileCoordsToNwSe(t),h=new Me(o[0],o[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var o=t.split(":"),h=new wt(+o[0],+o[1]);return h.z=+o[2],h},_removeTile:function(t){var o=this._tiles[t];o&&(Ce(o.el),delete this._tiles[t],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ie(t,"leaflet-tile");var o=this.getTileSize();t.style.width=o.x+"px",t.style.height=o.y+"px",t.onselectstart=v,t.onmousemove=v,Gt.ielt9&&this.options.opacity<1&&rn(t,this.options.opacity)},_addTile:function(t,o){var h=this._getTilePos(t),g=this._tileCoordsToKey(t),b=this.createTile(this._wrapCoords(t),u(this._tileReady,this,t));this._initTile(b),this.createTile.length<2&&gt(u(this._tileReady,this,t,null,b)),Ee(b,h),this._tiles[g]={el:b,coords:t,current:!0},o.appendChild(b),this.fire("tileloadstart",{tile:b,coords:t})},_tileReady:function(t,o,h){o&&this.fire("tileerror",{error:o,tile:h,coords:t});var g=this._tileCoordsToKey(t);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(rn(h.el,0),at(this._fadeFrame),this._fadeFrame=gt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),o||(ie(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Gt.ielt9||!this._map._fadeAnimated?gt(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var o=new wt(this._wrapX?_(t.x,this._wrapX):t.x,this._wrapY?_(t.y,this._wrapY):t.y);return o.z=t.z,o},_pxBoundsToTileRange:function(t){var o=this.getTileSize();return new Rt(t.min.unscaleBy(o).floor(),t.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ud(t){return new Ui(t)}var si=Ui.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,o){this._url=t,o=S(this,o),o.detectRetina&&Gt.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,o){return this._url===t&&o===void 0&&(o=!0),this._url=t,o||this.redraw(),this},createTile:function(t,o){var h=document.createElement("img");return ee(h,"load",u(this._tileOnLoad,this,o,h)),ee(h,"error",u(this._tileOnError,this,o,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(t),h},getTileUrl:function(t){var o={r:Gt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-t.y;this.options.tms&&(o.y=h),o["-y"]=h}return O(this._url,c(o,this.options))},_tileOnLoad:function(t,o){Gt.ielt9?setTimeout(u(t,this,null,o),0):t(null,o)},_tileOnError:function(t,o,h){var g=this.options.errorTileUrl;g&&o.getAttribute("src")!==g&&(o.src=g),t(h,o)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,o=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(t=o-t),t+g},_getSubdomain:function(t){var o=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var t,o;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(o=this._tiles[t].el,o.onload=v,o.onerror=v,!o.complete)){o.src=z;var h=this._tiles[t].coords;Ce(o),delete this._tiles[t],this.fire("tileabort",{tile:o,coords:h})}},_removeTile:function(t){var o=this._tiles[t];if(o)return o.el.setAttribute("src",z),Ui.prototype._removeTile.call(this,t)},_tileReady:function(t,o,h){if(!(!this._map||h&&h.getAttribute("src")===z))return Ui.prototype._tileReady.call(this,t,o,h)}});function Dl(t,o){return new si(t,o)}var zl=si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,o){this._url=t;var h=c({},this.defaultWmsParams);for(var g in o)g in this.options||(h[g]=o[g]);o=S(this,o);var b=o.detectRetina&&Gt.retina?2:1,E=this.getTileSize();h.width=E.x*b,h.height=E.y*b,this.wmsParams=h},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,si.prototype.onAdd.call(this,t)},getTileUrl:function(t){var o=this._tileCoordsToNwSe(t),h=this._crs,g=Vt(h.project(o[0]),h.project(o[1])),b=g.min,E=g.max,q=(this._wmsVersion>=1.3&&this._crs===El?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),tt=si.prototype.getTileUrl.call(this,t);return tt+V(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(t,o){return c(this.wmsParams,t),o||this.redraw(),this}});function $d(t,o){return new zl(t,o)}si.WMS=zl,Dl.wms=$d;var Xn=Cn.extend({options:{padding:.1},initialize:function(t){S(this,t),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,o){var h=this._map.getZoomScale(o,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,o),E=g.multiplyBy(-h).add(b).subtract(this._map._getNewPixelOrigin(t,o));Gt.any3d?Dn(this._container,E,h):Ee(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,o=this._map.getSize(),h=this._map.containerPointToLayerPoint(o.multiplyBy(-t)).round();this._bounds=new Rt(h,h.add(o.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jl=Xn.extend({options:{tolerance:0},getEvents:function(){var t=Xn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ee(t,"mousemove",this._onMouseMove,this),ee(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){at(this._redrawRequest),delete this._ctx,Ce(this._container),l(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var o in this._layers)t=this._layers[o],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var t=this._bounds,o=this._container,h=t.getSize(),g=Gt.retina?2:1;Ee(o,t.min),o.width=g*h.x,o.height=g*h.y,o.style.width=h.x+"px",o.style.height=h.y+"px",Gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Xn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[f(t)]=t;var o=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var o=t._order,h=o.next,g=o.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete t._order,delete this._layers[f(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var o=t.options.dashArray.split(/[, ]+/),h=[],g,b;for(b=0;b<o.length;b++){if(g=Number(o[b]),isNaN(g))return;h.push(g)}t.options._dashArray=h}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||gt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var o=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Rt,this._redrawBounds.extend(t._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(t._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var o=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,o=this._redrawBounds;if(this._ctx.save(),o){var h=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)t=g.layer,(!o||t._pxBounds&&t._pxBounds.intersects(o))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,o){if(this._drawing){var h,g,b,E,q=t._parts,tt=q.length,lt=this._ctx;if(tt){for(lt.beginPath(),h=0;h<tt;h++){for(g=0,b=q[h].length;g<b;g++)E=q[h][g],lt[g?"lineTo":"moveTo"](E.x,E.y);o&&lt.closePath()}this._fillStroke(lt,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var o=t._point,h=this._ctx,g=Math.max(Math.round(t._radius),1),b=(Math.max(Math.round(t._radiusY),1)||g)/g;b!==1&&(h.save(),h.scale(1,b)),h.beginPath(),h.arc(o.x,o.y/b,g,0,Math.PI*2,!1),b!==1&&h.restore(),this._fillStroke(h,t)}},_fillStroke:function(t,o){var h=o.options;h.fill&&(t.globalAlpha=h.fillOpacity,t.fillStyle=h.fillColor||h.color,t.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(t.setLineDash&&t.setLineDash(o.options&&o.options._dashArray||[]),t.globalAlpha=h.opacity,t.lineWidth=h.weight,t.strokeStyle=h.color,t.lineCap=h.lineCap,t.lineJoin=h.lineJoin,t.stroke())},_onClick:function(t){for(var o=this._map.mouseEventToLayerPoint(t),h,g,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(o)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,o)}},_handleMouseOut:function(t){var o=this._hoveredLayer;o&&(Be(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,o){if(!this._mouseHoverThrottled){for(var h,g,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(o)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(t),g&&(ie(this._container,"leaflet-interactive"),this._fireEvent([g],t,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,o,h){this._map._fireDOMEvent(o,h||o.type,t)},_bringToFront:function(t){var o=t._order;if(o){var h=o.next,g=o.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(t)}},_bringToBack:function(t){var o=t._order;if(o){var h=o.next,g=o.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(t)}}});function Nl(t){return Gt.canvas?new jl(t):null}var $i=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Zd={_initContainer:function(){this._container=de("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var o=t._container=$i("shape");ie(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",t._path=$i("path"),o.appendChild(t._path),this._updateStyle(t),this._layers[f(t)]=t},_addPath:function(t){var o=t._container;this._container.appendChild(o),t.options.interactive&&t.addInteractiveTarget(o)},_removePath:function(t){var o=t._container;Ce(o),t.removeInteractiveTarget(o),delete this._layers[f(t)]},_updateStyle:function(t){var o=t._stroke,h=t._fill,g=t.options,b=t._container;b.stroked=!!g.stroke,b.filled=!!g.fill,g.stroke?(o||(o=t._stroke=$i("stroke")),b.appendChild(o),o.weight=g.weight+"px",o.color=g.color,o.opacity=g.opacity,g.dashArray?o.dashStyle=j(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=g.lineCap.replace("butt","flat"),o.joinstyle=g.lineJoin):o&&(b.removeChild(o),t._stroke=null),g.fill?(h||(h=t._fill=$i("fill")),b.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(b.removeChild(h),t._fill=null)},_updateCircle:function(t){var o=t._point.round(),h=Math.round(t._radius),g=Math.round(t._radiusY||h);this._setPath(t,t._empty()?"M0 0":"AL "+o.x+","+o.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(t,o){t._path.v=o},_bringToFront:function(t){Zn(t._container)},_bringToBack:function(t){qn(t._container)}},Fo=Gt.vml?$i:ht,Zi=Xn.extend({_initContainer:function(){this._container=Fo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),l(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var t=this._bounds,o=t.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,h.setAttribute("width",o.x),h.setAttribute("height",o.y)),Ee(h,t.min),h.setAttribute("viewBox",[t.min.x,t.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(t){var o=t._path=Fo("path");t.options.className&&ie(o,t.options.className),t.options.interactive&&ie(o,"leaflet-interactive"),this._updateStyle(t),this._layers[f(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Ce(t._path),t.removeInteractiveTarget(t._path),delete this._layers[f(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var o=t._path,h=t.options;o&&(h.stroke?(o.setAttribute("stroke",h.color),o.setAttribute("stroke-opacity",h.opacity),o.setAttribute("stroke-width",h.weight),o.setAttribute("stroke-linecap",h.lineCap),o.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?o.setAttribute("stroke-dasharray",h.dashArray):o.removeAttribute("stroke-dasharray"),h.dashOffset?o.setAttribute("stroke-dashoffset",h.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),h.fill?(o.setAttribute("fill",h.fillColor||h.color),o.setAttribute("fill-opacity",h.fillOpacity),o.setAttribute("fill-rule",h.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(t,o){this._setPath(t,_t(t._parts,o))},_updateCircle:function(t){var o=t._point,h=Math.max(Math.round(t._radius),1),g=Math.max(Math.round(t._radiusY),1)||h,b="a"+h+","+g+" 0 1,0 ",E=t._empty()?"M0 0":"M"+(o.x-h)+","+o.y+b+h*2+",0 "+b+-h*2+",0 ";this._setPath(t,E)},_setPath:function(t,o){t._path.setAttribute("d",o)},_bringToFront:function(t){Zn(t._path)},_bringToBack:function(t){qn(t._path)}});Gt.vml&&Zi.include(Zd);function Fl(t){return Gt.svg||Gt.vml?new Zi(t):null}Ut.include({getRenderer:function(t){var o=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var o=this._paneRenderers[t];return o===void 0&&(o=this._createRenderer({pane:t}),this._paneRenderers[t]=o),o},_createRenderer:function(t){return this.options.preferCanvas&&Nl(t)||Fl(t)}});var Gl=ii.extend({initialize:function(t,o){ii.prototype.initialize.call(this,this._boundsToLatLngs(t),o)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=fe(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function qd(t,o){return new Gl(t,o)}Zi.create=Fo,Zi.pointsToPath=_t,Yn.geometryToLayer=Bo,Yn.coordsToLatLng=Ys,Yn.coordsToLatLngs=Ro,Yn.latLngToCoords=Xs,Yn.latLngsToCoords=Io,Yn.getFeature=oi,Yn.asFeature=Do,Ut.mergeOptions({boxZoom:!0});var Hl=gn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){l(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Or(),Br(),this._startPoint=this._map.mouseEventToContainerPoint(t),ee(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=de("div","leaflet-zoom-box",this._container),ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var o=new Rt(this._point,this._startPoint),h=o.getSize();Ee(this._box,o.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ce(this._box),Be(this._container,"leaflet-crosshair")),Ar(),ji(),l(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var o=new Me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",Hl),Ut.mergeOptions({doubleClickZoom:!0});var Vl=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var o=this._map,h=o.getZoom(),g=o.options.zoomDelta,b=t.originalEvent.shiftKey?h-g:h+g;o.options.doubleClickZoom==="center"?o.setZoom(b):o.setZoomAround(t.containerPoint,b)}});Ut.addInitHook("addHandler","doubleClickZoom",Vl),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ul=gn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new cr(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Be(this._map._container,"leaflet-grab"),Be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=fe(this._map.options.maxBounds);this._offsetLimit=Vt(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var o=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(o),this._prunePositions(o)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,o){return t-(t-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;t.x<o.min.x&&(t.x=this._viscousLimit(t.x,o.min.x)),t.y<o.min.y&&(t.y=this._viscousLimit(t.y,o.min.y)),t.x>o.max.x&&(t.x=this._viscousLimit(t.x,o.max.x)),t.y>o.max.y&&(t.y=this._viscousLimit(t.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,o=Math.round(t/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,b=(g-o+h)%t+o-h,E=(g+o+h)%t-o-h,q=Math.abs(b+h)<Math.abs(E+h)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(t){var o=this._map,h=o.options,g=!h.inertia||t.noInertia||this._times.length<2;if(o.fire("dragend",t),g)o.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,q=h.easeLinearity,tt=b.multiplyBy(q/E),lt=tt.distanceTo([0,0]),Lt=Math.min(h.inertiaMaxSpeed,lt),It=tt.multiplyBy(Lt/lt),Yt=Lt/(h.inertiaDeceleration*q),ce=It.multiplyBy(-Yt/2).round();!ce.x&&!ce.y?o.fire("moveend"):(ce=o._limitOffset(ce,o.options.maxBounds),gt(function(){o.panBy(ce,{duration:Yt,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Ut.addInitHook("addHandler","dragging",Ul),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $l=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ee(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),l(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,o=document.documentElement,h=t.scrollTop||o.scrollTop,g=t.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var o=this._panKeys={},h=this.keyCodes,g,b;for(g=0,b=h.left.length;g<b;g++)o[h.left[g]]=[-1*t,0];for(g=0,b=h.right.length;g<b;g++)o[h.right[g]]=[t,0];for(g=0,b=h.down.length;g<b;g++)o[h.down[g]]=[0,t];for(g=0,b=h.up.length;g<b;g++)o[h.up[g]]=[0,-1*t]},_setZoomDelta:function(t){var o=this._zoomKeys={},h=this.keyCodes,g,b;for(g=0,b=h.zoomIn.length;g<b;g++)o[h.zoomIn[g]]=t;for(g=0,b=h.zoomOut.length;g<b;g++)o[h.zoomOut[g]]=-t},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){l(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var o=t.keyCode,h=this._map,g;if(o in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[o],t.shiftKey&&(g=Dt(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(Dt(g),h.options.maxBounds)),h.options.worldCopyJump){var b=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(b)}else h.panBy(g)}else if(o in this._zoomKeys)h.setZoom(h.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;X(t)}}});Ut.addInitHook("addHandler","keyboard",$l),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zl=gn.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){l(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var o=Bt(t),h=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),g),X(t)},_performZoom:function(){var t=this._map,o=t.getZoom(),h=this._map.options.zoomSnap||0;t._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,E=h?Math.ceil(b/h)*h:b,q=t._limitZoom(o+(this._delta>0?E:-E))-o;this._delta=0,this._startTime=null,q&&(t.options.scrollWheelZoom==="center"?t.setZoom(o+q):t.setZoomAround(this._lastMousePos,o+q))}});Ut.addInitHook("addHandler","scrollWheelZoom",Zl);var Kd=600;Ut.mergeOptions({tapHold:Gt.touchNative&&Gt.safari&&Gt.mobile,tapTolerance:15});var ql=gn.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){l(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var o=t.touches[0];this._startPos=this._newPos=new wt(o.clientX,o.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",Z),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Kd),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){l(document,"touchend",Z),l(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),l(document,"touchend touchcancel contextmenu",this._cancel,this),l(document,"touchmove",this._onMove,this)},_onMove:function(t){var o=t.touches[0];this._newPos=new wt(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,o){var h=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});h._simulated=!0,o.target.dispatchEvent(h)}});Ut.addInitHook("addHandler","tapHold",ql),Ut.mergeOptions({touchZoom:Gt.touch,bounceAtZoomLimits:!0});var Kl=gn.extend({addHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),l(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var o=this._map;if(!(!t.touches||t.touches.length!==2||o._animatingZoom||this._zooming)){var h=o.mouseEventToContainerPoint(t.touches[0]),g=o.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),Z(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var o=this._map,h=o.mouseEventToContainerPoint(t.touches[0]),g=o.mouseEventToContainerPoint(t.touches[1]),b=h.distanceTo(g)/this._startDist;if(this._zoom=o.getScaleZoom(b,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&b<1||this._zoom>o.getMaxZoom()&&b>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),at(this._animRequest);var q=u(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=gt(q,this,!0),Z(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,at(this._animRequest),l(document,"touchmove",this._onTouchMove,this),l(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ut.addInitHook("addHandler","touchZoom",Kl),Ut.BoxZoom=Hl,Ut.DoubleClickZoom=Vl,Ut.Drag=Ul,Ut.Keyboard=$l,Ut.ScrollWheelZoom=Zl,Ut.TapHold=ql,Ut.TouchZoom=Kl,a.Bounds=Rt,a.Browser=Gt,a.CRS=dt,a.Canvas=jl,a.Circle=Js,a.CircleMarker=Ao,a.Class=kt,a.Control=Pe,a.DivIcon=Il,a.DivOverlay=jn,a.DomEvent=oe,a.DomUtil=Vs,a.Draggable=cr,a.Evented=Ht,a.FeatureGroup=Wn,a.GeoJSON=Yn,a.GridLayer=Ui,a.Handler=gn,a.Icon=ri,a.ImageOverlay=zo,a.LatLng=le,a.LatLngBounds=Me,a.Layer=Cn,a.LayerGroup=ni,a.LineUtil=Md,a.Map=Ut,a.Marker=Oo,a.Mixin=vd,a.Path=hr,a.Point=wt,a.PolyUtil=bd,a.Polygon=ii,a.Polyline=Jn,a.Popup=jo,a.PosAnimation=xe,a.Projection=Cd,a.Rectangle=Gl,a.Renderer=Xn,a.SVG=Zi,a.SVGOverlay=Rl,a.TileLayer=si,a.Tooltip=No,a.Transformation=ue,a.Util=bt,a.VideoOverlay=Bl,a.bind=u,a.bounds=Vt,a.canvas=Nl,a.circle=Rd,a.circleMarker=Bd,a.control=Ve,a.divIcon=Vd,a.extend=c,a.featureGroup=Td,a.geoJSON=Al,a.geoJson=zd,a.gridLayer=Ud,a.icon=Od,a.imageOverlay=jd,a.latLng=Ft,a.latLngBounds=fe,a.layerGroup=Ed,a.map=Le,a.marker=Ad,a.point=Dt,a.polygon=Dd,a.polyline=Id,a.popup=Gd,a.rectangle=qd,a.setOptions=S,a.stamp=f,a.svg=Fl,a.svgOverlay=Fd,a.tileLayer=Dl,a.tooltip=Hd,a.transformation=G,a.version=s,a.videoOverlay=Nd;var Wd=window.L;a.noConflict=function(){return window.L=Wd,this},window.L=a})})(Ga,Ga.exports);var ow=Ga.exports;const sn=iw(ow),sw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",aw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",lw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",uw={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},cw={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},md={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},hw={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},dw=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:uw,CollectionObject:cw,Georeference:md,TypeMaterial:hw},Symbol.toStringTag,{value:"Module"})),pw={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},fw={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},mw={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},gw={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},dc=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:pw,AssertedDistribution:fw,CollectionObject:mw,TypeMaterial:gw},Symbol.toStringTag,{value:"Module"})),pc=["TypeMaterial","CollectionObject","AssertedDistribution","Georeference","Aggregate"],fc={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function mc(e){const n=e.map(a=>a.type);return n.sort((a,s)=>pc.indexOf(a)-pc.indexOf(s)),n[0]}const _w=e=>({onEachFeature:(n,a)=>{const s=(n.properties.base||[]).map(i=>i.label).filter(Boolean);if(!s.length)return;const c=`
      <div class="max-h-32 overflow-y-auto text-xs">
        <ul>
        ${s.map(i=>`
              <li 
                class="py-2 last:border-0 truncate border-b"
                title="${i}"
              >
                ${i}
              </li>
              `).join("")}
        </ul>
      </div>`;a.pm.setOptions(fc),a.pm.disable(),a.bindPopup(c)},pointToLayer:(n,a)=>{const s=mc(n.properties.base),c=dw[s]||md,i=e.marker(a,{icon:e.divIcon(c)});return i.pm.setOptions(fc),i},style:n=>{var s;const a=mc((s=n.properties)==null?void 0:s.base);if(dc[a])return dc[a]}}),{map_tile_server:yw,map_tile_attribution:vw,map_tiles:bw}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"};function ww(e,n){return Object.fromEntries((bw||[{label:"tile",server:yw,attribution:vw}]).map(({server:s,attribution:c,label:i})=>[i,e.tileLayer(s,{...n,attribution:c})]))}(()=>{var e={9705:(s,c,i)=>{var u=i(1540);function d(f){var m=[1/0,1/0,-1/0,-1/0];return u.coordEach(f,function(_){m[0]>_[0]&&(m[0]=_[0]),m[1]>_[1]&&(m[1]=_[1]),m[2]<_[0]&&(m[2]=_[0]),m[3]<_[1]&&(m[3]=_[1])}),m}d.default=d,c.Z=d},4102:(s,c)=>{function i(P,O,j){j===void 0&&(j={});var T={type:"Feature"};return(j.id===0||j.id)&&(T.id=j.id),j.bbox&&(T.bbox=j.bbox),T.properties=O||{},T.geometry=P,T}function u(P,O,j){if(j===void 0&&(j={}),!P)throw new Error("coordinates is required");if(!Array.isArray(P))throw new Error("coordinates must be an Array");if(P.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!V(P[0])||!V(P[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:P},O,j)}function d(P,O,j){j===void 0&&(j={});for(var T=0,z=P;T<z.length;T++){var W=z[T];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ot=0;ot<W[W.length-1].length;ot++)if(W[W.length-1][ot]!==W[0][ot])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:P},O,j)}function f(P,O,j){if(j===void 0&&(j={}),P.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:P},O,j)}function m(P,O){O===void 0&&(O={});var j={type:"FeatureCollection"};return O.id&&(j.id=O.id),O.bbox&&(j.bbox=O.bbox),j.features=P,j}function _(P,O,j){return j===void 0&&(j={}),i({type:"MultiLineString",coordinates:P},O,j)}function v(P,O,j){return j===void 0&&(j={}),i({type:"MultiPoint",coordinates:P},O,j)}function M(P,O,j){return j===void 0&&(j={}),i({type:"MultiPolygon",coordinates:P},O,j)}function A(P,O){O===void 0&&(O="kilometers");var j=c.factors[O];if(!j)throw new Error(O+" units is invalid");return P*j}function C(P,O){O===void 0&&(O="kilometers");var j=c.factors[O];if(!j)throw new Error(O+" units is invalid");return P/j}function S(P){return 180*(P%(2*Math.PI))/Math.PI}function V(P){return!isNaN(P)&&P!==null&&!Array.isArray(P)}Object.defineProperty(c,"__esModule",{value:!0}),c.earthRadius=63710088e-1,c.factors={centimeters:100*c.earthRadius,centimetres:100*c.earthRadius,degrees:c.earthRadius/111325,feet:3.28084*c.earthRadius,inches:39.37*c.earthRadius,kilometers:c.earthRadius/1e3,kilometres:c.earthRadius/1e3,meters:c.earthRadius,metres:c.earthRadius,miles:c.earthRadius/1609.344,millimeters:1e3*c.earthRadius,millimetres:1e3*c.earthRadius,nauticalmiles:c.earthRadius/1852,radians:1,yards:1.0936*c.earthRadius},c.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/c.earthRadius,yards:1.0936133},c.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},c.feature=i,c.geometry=function(P,O,j){switch(P){case"Point":return u(O).geometry;case"LineString":return f(O).geometry;case"Polygon":return d(O).geometry;case"MultiPoint":return v(O).geometry;case"MultiLineString":return _(O).geometry;case"MultiPolygon":return M(O).geometry;default:throw new Error(P+" is invalid")}},c.point=u,c.points=function(P,O,j){return j===void 0&&(j={}),m(P.map(function(T){return u(T,O)}),j)},c.polygon=d,c.polygons=function(P,O,j){return j===void 0&&(j={}),m(P.map(function(T){return d(T,O)}),j)},c.lineString=f,c.lineStrings=function(P,O,j){return j===void 0&&(j={}),m(P.map(function(T){return f(T,O)}),j)},c.featureCollection=m,c.multiLineString=_,c.multiPoint=v,c.multiPolygon=M,c.geometryCollection=function(P,O,j){return j===void 0&&(j={}),i({type:"GeometryCollection",geometries:P},O,j)},c.round=function(P,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var j=Math.pow(10,O||0);return Math.round(P*j)/j},c.radiansToLength=A,c.lengthToRadians=C,c.lengthToDegrees=function(P,O){return S(C(P,O))},c.bearingToAzimuth=function(P){var O=P%360;return O<0&&(O+=360),O},c.radiansToDegrees=S,c.degreesToRadians=function(P){return P%360*Math.PI/180},c.convertLength=function(P,O,j){if(O===void 0&&(O="kilometers"),j===void 0&&(j="kilometers"),!(P>=0))throw new Error("length must be a positive number");return A(C(P,O),j)},c.convertArea=function(P,O,j){if(O===void 0&&(O="meters"),j===void 0&&(j="kilometers"),!(P>=0))throw new Error("area must be a positive number");var T=c.areaFactors[O];if(!T)throw new Error("invalid original units");var z=c.areaFactors[j];if(!z)throw new Error("invalid final units");return P/T*z},c.isNumber=V,c.isObject=function(P){return!!P&&P.constructor===Object},c.validateBBox=function(P){if(!P)throw new Error("bbox is required");if(!Array.isArray(P))throw new Error("bbox must be an Array");if(P.length!==4&&P.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");P.forEach(function(O){if(!V(O))throw new Error("bbox must only contain numbers")})},c.validateId=function(P){if(!P)throw new Error("id is required");if(["string","number"].indexOf(typeof P)===-1)throw new Error("id must be a number or a string")}},1540:(s,c,i)=>{Object.defineProperty(c,"__esModule",{value:!0});var u=i(4102);function d(C,S,V){if(C!==null)for(var P,O,j,T,z,W,ot,Y,st=0,ut=0,gt=C.type,at=gt==="FeatureCollection",bt=gt==="Feature",kt=at?C.features.length:1,Et=0;Et<kt;Et++){z=(Y=!!(ot=at?C.features[Et].geometry:bt?C.geometry:C)&&ot.type==="GeometryCollection")?ot.geometries.length:1;for(var Ct=0;Ct<z;Ct++){var Ht=0,wt=0;if((T=Y?ot.geometries[Ct]:ot)!==null){W=T.coordinates;var pe=T.type;switch(st=!V||pe!=="Polygon"&&pe!=="MultiPolygon"?0:1,pe){case null:break;case"Point":if(S(W,ut,Et,Ht,wt)===!1)return!1;ut++,Ht++;break;case"LineString":case"MultiPoint":for(P=0;P<W.length;P++){if(S(W[P],ut,Et,Ht,wt)===!1)return!1;ut++,pe==="MultiPoint"&&Ht++}pe==="LineString"&&Ht++;break;case"Polygon":case"MultiLineString":for(P=0;P<W.length;P++){for(O=0;O<W[P].length-st;O++){if(S(W[P][O],ut,Et,Ht,wt)===!1)return!1;ut++}pe==="MultiLineString"&&Ht++,pe==="Polygon"&&wt++}pe==="Polygon"&&Ht++;break;case"MultiPolygon":for(P=0;P<W.length;P++){for(wt=0,O=0;O<W[P].length;O++){for(j=0;j<W[P][O].length-st;j++){if(S(W[P][O][j],ut,Et,Ht,wt)===!1)return!1;ut++}wt++}Ht++}break;case"GeometryCollection":for(P=0;P<T.geometries.length;P++)if(d(T.geometries[P],S,V)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(C,S){var V;switch(C.type){case"FeatureCollection":for(V=0;V<C.features.length&&S(C.features[V].properties,V)!==!1;V++);break;case"Feature":S(C.properties,0)}}function m(C,S){if(C.type==="Feature")S(C,0);else if(C.type==="FeatureCollection")for(var V=0;V<C.features.length&&S(C.features[V],V)!==!1;V++);}function _(C,S){var V,P,O,j,T,z,W,ot,Y,st,ut=0,gt=C.type==="FeatureCollection",at=C.type==="Feature",bt=gt?C.features.length:1;for(V=0;V<bt;V++){for(z=gt?C.features[V].geometry:at?C.geometry:C,ot=gt?C.features[V].properties:at?C.properties:{},Y=gt?C.features[V].bbox:at?C.bbox:void 0,st=gt?C.features[V].id:at?C.id:void 0,T=(W=!!z&&z.type==="GeometryCollection")?z.geometries.length:1,O=0;O<T;O++)if((j=W?z.geometries[O]:z)!==null)switch(j.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(S(j,ut,ot,Y,st)===!1)return!1;break;case"GeometryCollection":for(P=0;P<j.geometries.length;P++)if(S(j.geometries[P],ut,ot,Y,st)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(S(null,ut,ot,Y,st)===!1)return!1;ut++}}function v(C,S){_(C,function(V,P,O,j,T){var z,W=V===null?null:V.type;switch(W){case null:case"Point":case"LineString":case"Polygon":return S(u.feature(V,O,{bbox:j,id:T}),P,0)!==!1&&void 0}switch(W){case"MultiPoint":z="Point";break;case"MultiLineString":z="LineString";break;case"MultiPolygon":z="Polygon"}for(var ot=0;ot<V.coordinates.length;ot++){var Y={type:z,coordinates:V.coordinates[ot]};if(S(u.feature(Y,O),P,ot)===!1)return!1}})}function M(C,S){v(C,function(V,P,O){var j=0;if(V.geometry){var T=V.geometry.type;if(T!=="Point"&&T!=="MultiPoint"){var z,W=0,ot=0,Y=0;return d(V,function(st,ut,gt,at,bt){if(z===void 0||P>W||at>ot||bt>Y)return z=st,W=P,ot=at,Y=bt,void(j=0);var kt=u.lineString([z,st],V.properties);if(S(kt,P,O,bt,j)===!1)return!1;j++,z=st})!==!1&&void 0}}})}function A(C,S){if(!C)throw new Error("geojson is required");v(C,function(V,P,O){if(V.geometry!==null){var j=V.geometry.type,T=V.geometry.coordinates;switch(j){case"LineString":if(S(V,P,O,0,0)===!1)return!1;break;case"Polygon":for(var z=0;z<T.length;z++)if(S(u.lineString(T[z],V.properties),P,O,z)===!1)return!1}}})}c.coordAll=function(C){var S=[];return d(C,function(V){S.push(V)}),S},c.coordEach=d,c.coordReduce=function(C,S,V,P){var O=V;return d(C,function(j,T,z,W,ot){O=T===0&&V===void 0?j:S(O,j,T,z,W,ot)},P),O},c.featureEach=m,c.featureReduce=function(C,S,V){var P=V;return m(C,function(O,j){P=j===0&&V===void 0?O:S(P,O,j)}),P},c.findPoint=function(C,S){if(S=S||{},!u.isObject(S))throw new Error("options is invalid");var V,P=S.featureIndex||0,O=S.multiFeatureIndex||0,j=S.geometryIndex||0,T=S.coordIndex||0,z=S.properties;switch(C.type){case"FeatureCollection":P<0&&(P=C.features.length+P),z=z||C.features[P].properties,V=C.features[P].geometry;break;case"Feature":z=z||C.properties,V=C.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":V=C;break;default:throw new Error("geojson is invalid")}if(V===null)return null;var W=V.coordinates;switch(V.type){case"Point":return u.point(W,z,S);case"MultiPoint":return O<0&&(O=W.length+O),u.point(W[O],z,S);case"LineString":return T<0&&(T=W.length+T),u.point(W[T],z,S);case"Polygon":return j<0&&(j=W.length+j),T<0&&(T=W[j].length+T),u.point(W[j][T],z,S);case"MultiLineString":return O<0&&(O=W.length+O),T<0&&(T=W[O].length+T),u.point(W[O][T],z,S);case"MultiPolygon":return O<0&&(O=W.length+O),j<0&&(j=W[O].length+j),T<0&&(T=W[O][j].length-T),u.point(W[O][j][T],z,S)}throw new Error("geojson is invalid")},c.findSegment=function(C,S){if(S=S||{},!u.isObject(S))throw new Error("options is invalid");var V,P=S.featureIndex||0,O=S.multiFeatureIndex||0,j=S.geometryIndex||0,T=S.segmentIndex||0,z=S.properties;switch(C.type){case"FeatureCollection":P<0&&(P=C.features.length+P),z=z||C.features[P].properties,V=C.features[P].geometry;break;case"Feature":z=z||C.properties,V=C.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":V=C;break;default:throw new Error("geojson is invalid")}if(V===null)return null;var W=V.coordinates;switch(V.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=W.length+T-1),u.lineString([W[T],W[T+1]],z,S);case"Polygon":return j<0&&(j=W.length+j),T<0&&(T=W[j].length+T-1),u.lineString([W[j][T],W[j][T+1]],z,S);case"MultiLineString":return O<0&&(O=W.length+O),T<0&&(T=W[O].length+T-1),u.lineString([W[O][T],W[O][T+1]],z,S);case"MultiPolygon":return O<0&&(O=W.length+O),j<0&&(j=W[O].length+j),T<0&&(T=W[O][j].length-T-1),u.lineString([W[O][j][T],W[O][j][T+1]],z,S)}throw new Error("geojson is invalid")},c.flattenEach=v,c.flattenReduce=function(C,S,V){var P=V;return v(C,function(O,j,T){P=j===0&&T===0&&V===void 0?O:S(P,O,j,T)}),P},c.geomEach=_,c.geomReduce=function(C,S,V){var P=V;return _(C,function(O,j,T,z,W){P=j===0&&V===void 0?O:S(P,O,j,T,z,W)}),P},c.lineEach=A,c.lineReduce=function(C,S,V){var P=V;return A(C,function(O,j,T,z){P=j===0&&V===void 0?O:S(P,O,j,T,z)}),P},c.propEach=f,c.propReduce=function(C,S,V){var P=V;return f(C,function(O,j){P=j===0&&V===void 0?O:S(P,O,j)}),P},c.segmentEach=M,c.segmentReduce=function(C,S,V){var P=V,O=!1;return M(C,function(j,T,z,W,ot){P=O===!1&&V===void 0?j:S(P,j,T,z,W,ot),O=!0}),P}},5975:(s,c,i)=>{i(7107);var u=i(2492),d=i.n(u);const f=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),m=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex löschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer löschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknüpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Länge","segmentLength":"Segment Länge","area":"Fläche","radius":"Radius","perimeter":"Umfang","height":"Höhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),_=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),v=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),M=JSON.parse('{"tooltips":{"placeMarker":"Adaugă un punct","firstVertex":"Apasă aici pentru a adăuga primul Vertex","continueLine":"Apasă aici pentru a continua desenul","finishLine":"Apasă pe orice obiect pentru a finisa desenul","finishPoly":"Apasă pe primul obiect pentru a finisa","finishRect":"Apasă pentru a finisa","startCircle":"Apasă pentru a desena un cerc","finishCircle":"Apasă pentru a finisa un cerc","placeCircleMarker":"Adaugă un punct"},"actions":{"finish":"Termină","cancel":"Anulează","removeLastVertex":"Șterge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaugă o bulină","drawPolyButton":"Desenează un poligon","drawLineButton":"Desenează o linie","drawCircleButton":"Desenează un cerc","drawRectButton":"Desenează un dreptunghi","editButton":"Editează straturile","dragButton":"Mută straturile","cutButton":"Taie straturile","deleteButton":"Șterge straturile","drawCircleMarkerButton":"Desenează marcatorul cercului","snappingButton":"Fixați marcatorul glisat pe alte straturi și vârfuri","pinningButton":"Fixați vârfurile partajate împreună"}}'),A=JSON.parse('{"tooltips":{"placeMarker":"Нажмите, чтобы нанести маркер","firstVertex":"Нажмите, чтобы нанести первый объект","continueLine":"Нажмите, чтобы продолжить рисование","finishLine":"Нажмите любой существующий маркер для завершения","finishPoly":"Выберите первую точку, чтобы закончить","finishRect":"Нажмите, чтобы закончить","startCircle":"Нажмите, чтобы добавить центр круга","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Нажмите, чтобы нанести круговой маркер"},"actions":{"finish":"Завершить","cancel":"Отменить","removeLastVertex":"Отменить последнее действие"},"buttonTitles":{"drawMarkerButton":"Добавить маркер","drawPolyButton":"Рисовать полигон","drawLineButton":"Рисовать кривую","drawCircleButton":"Рисовать круг","drawRectButton":"Рисовать прямоугольник","editButton":"Редактировать слой","dragButton":"Перенести слой","cutButton":"Вырезать слой","deleteButton":"Удалить слой","drawCircleMarkerButton":"Добавить круговой маркер","snappingButton":"Привязать перетаскиваемый маркер к другим слоям и вершинам","pinningButton":"Связать общие точки вместе"}}'),C=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vértice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del círculo","finishCircle":"Presiona para finalizar el círculo","placeCircleMarker":"Presiona para colocar un marcador de círculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar último vértice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polígono","drawLineButton":"Dibujar Línea","drawCircleButton":"Dibujar Círculo","drawRectButton":"Dibujar Rectángulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Círculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vértices","pinningButton":"Fijar juntos los vértices compartidos"}}'),S=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beëindigen","finishPoly":"Klik op het eerst punt om te beëindigen","finishRect":"Klik om te beëindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beëindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),V=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer à dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"Éditer des calques","dragButton":"Déplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"Épingler ensemble les sommets partagés","rotateButton":"Tourner des calques"}}`),P=JSON.parse('{"tooltips":{"placeMarker":"单击放置标记","firstVertex":"单击放置首个顶点","continueLine":"单击继续绘制","finishLine":"单击任何存在的标记以完成","finishPoly":"单击第一个标记以完成","finishRect":"单击完成","startCircle":"单击放置圆心","finishCircle":"单击完成圆形","placeCircleMarker":"点击放置圆形标记"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最后的顶点"},"buttonTitles":{"drawMarkerButton":"绘制标记","drawPolyButton":"绘制多边形","drawLineButton":"绘制线段","drawCircleButton":"绘制圆形","drawRectButton":"绘制长方形","editButton":"编辑图层","dragButton":"拖拽图层","cutButton":"剪切图层","deleteButton":"删除图层","drawCircleMarkerButton":"画圆圈标记","snappingButton":"将拖动的标记捕捉到其他图层和顶点","pinningButton":"将共享顶点固定在一起"}}'),O=JSON.parse('{"tooltips":{"placeMarker":"單擊放置標記","firstVertex":"單擊放置第一個頂點","continueLine":"單擊繼續繪製","finishLine":"單擊任何存在的標記以完成","finishPoly":"單擊第一個標記以完成","finishRect":"單擊完成","startCircle":"單擊放置圓心","finishCircle":"單擊完成圓形","placeCircleMarker":"點擊放置圓形標記"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最後一個頂點"},"buttonTitles":{"drawMarkerButton":"放置標記","drawPolyButton":"繪製多邊形","drawLineButton":"繪製線段","drawCircleButton":"繪製圓形","drawRectButton":"繪製方形","editButton":"編輯圖形","dragButton":"移動圖形","cutButton":"裁切圖形","deleteButton":"刪除圖形","drawCircleMarkerButton":"畫圓圈標記","snappingButton":"將拖動的標記對齊到其他圖層和頂點","pinningButton":"將共享頂點固定在一起"}}'),j={en:f,de:m,it:_,id:v,ro:M,ru:A,es:C,nl:S,fr:V,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vértice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polígono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do círculo","finishCircle":"Clique para fechar o círculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover último vértice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polígono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um círculo","drawRectButton":"Desenhar um retângulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de círculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vértices","pinningButton":"Vértices compartilhados de pinos juntos"}}'),zh:P,zh_tw:O,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawić znacznik","firstVertex":"Kliknij, aby ustawić pierwszy punkt","continueLine":"Kliknij, aby kontynuować rysowanie","finishLine":"Kliknij dowolny punkt, aby zakończyć","finishPoly":"Kliknij pierwszy punkt, aby zakończyć","finishRect":"Kliknij, aby zakończyć","startCircle":"Kliknij, aby ustawić środek koła","finishCircle":"Kliknij, aby zakończyć rysowanie koła","placeCircleMarker":"Kliknij, aby ustawić okrągły znacznik"},"actions":{"finish":"Zakończ","cancel":"Anuluj","removeLastVertex":"Usuń ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokąt","drawLineButton":"Narysuj ścieżkę","drawCircleButton":"Narysuj koło","drawRectButton":"Narysuj prostokąt","editButton":"Edytuj","dragButton":"Przesuń","cutButton":"Wytnij","deleteButton":"Usuń","drawCircleMarkerButton":"Narysuj okrągły znacznik","snappingButton":"Snap przeciągnięty marker na inne warstwy i wierzchołki","pinningButton":"Sworzeń wspólne wierzchołki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka för att placera markör","firstVertex":"Klicka för att placera första hörnet","continueLine":"Klicka för att fortsätta rita","finishLine":"Klicka på en existerande punkt för att slutföra","finishPoly":"Klicka på den första punkten för att slutföra","finishRect":"Klicka för att slutföra","startCircle":"Klicka för att placera cirkelns centrum","finishCircle":"Klicka för att slutföra cirkeln","placeCircleMarker":"Klicka för att placera cirkelmarkör"},"actions":{"finish":"Slutför","cancel":"Avbryt","removeLastVertex":"Ta bort sista hörnet"},"buttonTitles":{"drawMarkerButton":"Rita Markör","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkör","snappingButton":"Snäpp dra markören till andra lager och hörn","pinningButton":"Fäst delade hörn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"Κάντε κλικ για να τοποθετήσετε Δείκτη","firstVertex":"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο","continueLine":"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε","finishLine":"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί","finishPoly":"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε","finishRect":"Κάντε κλικ για να τελειώσετε","startCircle":"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου","finishCircle":"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο","placeCircleMarker":"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},"actions":{"finish":"Τέλος","cancel":"Ακύρωση","removeLastVertex":"Κατάργηση τελευταίου σημείου"},"buttonTitles":{"drawMarkerButton":"Σχεδίαση Δείκτη","drawPolyButton":"Σχεδίαση Πολυγώνου","drawLineButton":"Σχεδίαση Γραμμής","drawCircleButton":"Σχεδίαση Κύκλου","drawRectButton":"Σχεδίαση Ορθογωνίου","editButton":"Επεξεργασία Επιπέδων","dragButton":"Μεταφορά Επιπέδων","cutButton":"Αποκοπή Επιπέδων","deleteButton":"Κατάργηση Επιπέδων","drawCircleMarkerButton":"Σχεδίαση Κυκλικού Δείκτη","snappingButton":"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές","pinningButton":"Περικοπή κοινών κορυφών μαζί"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jelölő elhelyezéséhez","firstVertex":"Kattintson az első pont elhelyezéséhez","continueLine":"Kattintson a következő pont elhelyezéséhez","finishLine":"A befejezéshez kattintson egy meglévő pontra","finishPoly":"A befejezéshez kattintson az első pontra","finishRect":"Kattintson a befejezéshez","startCircle":"Kattintson a kör középpontjának elhelyezéséhez","finishCircle":"Kattintson a kör befejezéséhez","placeCircleMarker":"Kattintson a körjelölő elhelyezéséhez"},"actions":{"finish":"Befejezés","cancel":"Mégse","removeLastVertex":"Utolsó pont eltávolítása"},"buttonTitles":{"drawMarkerButton":"Jelölő rajzolása","drawPolyButton":"Poligon rajzolása","drawLineButton":"Vonal rajzolása","drawCircleButton":"Kör rajzolása","drawRectButton":"Négyzet rajzolása","editButton":"Elemek szerkesztése","dragButton":"Elemek mozgatása","cutButton":"Elemek vágása","deleteButton":"Elemek törlése","drawCircleMarkerButton":"Kör jelölő rajzolása","snappingButton":"Kapcsolja a jelöltőt másik elemhez vagy ponthoz","pinningButton":"Közös pontok összekötése"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markør","firstVertex":"Tryk for at placere det første punkt","continueLine":"Tryk for at fortsætte linjen","finishLine":"Tryk på et eksisterende punkt for at afslutte","finishPoly":"Tryk på det første punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkør"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markør","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Træk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkør","snappingButton":"Fastgør trukket markør til andre elementer","pinningButton":"Sammenlæg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for å plassere punkt","firstVertex":"Klikk for å plassere første punkt","continueLine":"Klikk for å tegne videre","finishLine":"Klikk på et eksisterende punkt for å fullføre","finishPoly":"Klikk første punkt for å fullføre","finishRect":"Klikk for å fullføre","startCircle":"Klikk for å sette sirkel midtpunkt","finishCircle":"Klikk for å fullføre sirkel","placeCircleMarker":"Klikk for å plassere sirkel"},"actions":{"finish":"Fullfør","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"کلیک برای جانمایی نشان","firstVertex":"کلیک برای رسم اولین رأس","continueLine":"کلیک برای ادامه رسم","finishLine":"کلیک روی هر نشان موجود برای پایان","finishPoly":"کلیک روی اولین نشان برای پایان","finishRect":"کلیک برای پایان","startCircle":"کلیک برای رسم مرکز دایره","finishCircle":"کلیک برای پایان رسم دایره","placeCircleMarker":"کلیک برای رسم نشان دایره","placeText":"کلیک برای نوشتن متن"},"actions":{"finish":"پایان","cancel":"لفو","removeLastVertex":"حذف آخرین رأس"},"buttonTitles":{"drawMarkerButton":"درج نشان","drawPolyButton":"رسم چندضلعی","drawLineButton":"رسم خط","drawCircleButton":"رسم دایره","drawRectButton":"رسم چهارضلعی","editButton":"ویرایش لایه‌ها","dragButton":"جابجایی لایه‌ها","cutButton":"برش لایه‌ها","deleteButton":"حذف لایه‌ها","drawCircleMarkerButton":"رسم نشان دایره","snappingButton":"نشانگر را به لایه‌ها و رئوس دیگر بکشید","pinningButton":"رئوس مشترک را با هم پین کنید","rotateButton":"چرخش لایه","drawTextButton":"رسم متن"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"Натисніть, щоб нанести маркер","firstVertex":"Натисніть, щоб нанести першу вершину","continueLine":"Натисніть, щоб продовжити малювати","finishLine":"Натисніть будь-який існуючий маркер для завершення","finishPoly":"Виберіть перший маркер, щоб завершити","finishRect":"Натисніть, щоб завершити","startCircle":"Натисніть, щоб додати центр кола","finishCircle":"Натисніть, щоб завершити коло","placeCircleMarker":"Натисніть, щоб нанести круговий маркер"},"actions":{"finish":"Завершити","cancel":"Відмінити","removeLastVertex":"Видалити попередню вершину"},"buttonTitles":{"drawMarkerButton":"Малювати маркер","drawPolyButton":"Малювати полігон","drawLineButton":"Малювати криву","drawCircleButton":"Малювати коло","drawRectButton":"Малювати прямокутник","editButton":"Редагувати шари","dragButton":"Перенести шари","cutButton":"Вирізати шари","deleteButton":"Видалити шари","drawCircleMarkerButton":"Малювати круговий маркер","snappingButton":"Прив’язати перетягнутий маркер до інших шарів та вершин","pinningButton":"Зв'язати спільні вершини разом"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"İşaretçi yerleştirmek için tıklayın","firstVertex":"İlk tepe noktasını yerleştirmek için tıklayın","continueLine":"Çizime devam etmek için tıklayın","finishLine":"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın","finishPoly":"Bitirmek için ilk işaretçiyi tıklayın","finishRect":"Bitirmek için tıklayın","startCircle":"Daire merkezine yerleştirmek için tıklayın","finishCircle":"Daireyi bitirmek için tıklayın","placeCircleMarker":"Daire işaretçisi yerleştirmek için tıklayın"},"actions":{"finish":"Bitir","cancel":"İptal","removeLastVertex":"Son köşeyi kaldır"},"buttonTitles":{"drawMarkerButton":"Çizim İşaretçisi","drawPolyButton":"Çokgenler çiz","drawLineButton":"Çoklu çizgi çiz","drawCircleButton":"Çember çiz","drawRectButton":"Dikdörtgen çiz","editButton":"Katmanları düzenle","dragButton":"Katmanları sürükle","cutButton":"Katmanları kes","deleteButton":"Katmanları kaldır","drawCircleMarkerButton":"Daire işaretçisi çiz","snappingButton":"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır","pinningButton":"Paylaşılan köşeleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutím vytvoříte značku","firstVertex":"Kliknutím vytvoříte první objekt","continueLine":"Kliknutím pokračujte v kreslení","finishLine":"Kliknutí na libovolnou existující značku pro dokončení","finishPoly":"Vyberte první bod pro dokončení","finishRect":"Klikněte pro dokončení","startCircle":"Kliknutím přidejte střed kruhu","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Kliknutím nastavte poloměr"},"actions":{"finish":"Dokončit","cancel":"Zrušit","removeLastVertex":"Zrušit poslední akci"},"buttonTitles":{"drawMarkerButton":"Přidat značku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit křivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdélník","editButton":"Upravit vrstvu","dragButton":"Přeneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Přidat kruhovou značku","snappingButton":"Navázat tažnou značku k dalším vrstvám a vrcholům","pinningButton":"Spojit společné body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"クリックしてマーカーを配置","firstVertex":"クリックして最初の頂点を配置","continueLine":"クリックして描画を続ける","finishLine":"任意のマーカーをクリックして終了","finishPoly":"最初のマーカーをクリックして終了","finishRect":"クリックして終了","startCircle":"クリックして円の中心を配置","finishCircle":"クリックして円の描画を終了","placeCircleMarker":"クリックして円マーカーを配置","placeText":"クリックしてテキストを配置"},"actions":{"finish":"終了","cancel":"キャンセル","removeLastVertex":"最後の頂点を削除"},"buttonTitles":{"drawMarkerButton":"マーカーを描画","drawPolyButton":"ポリゴンを描画","drawLineButton":"折れ線を描画","drawCircleButton":"円を描画","drawRectButton":"矩形を描画","editButton":"レイヤーを編集","dragButton":"レイヤーをドラッグ","cutButton":"レイヤーを切り取り","deleteButton":"レイヤーを削除","drawCircleMarkerButton":"円マーカーを描画","snappingButton":"ドラッグしたマーカーを他のレイヤーや頂点にスナップする","pinningButton":"共有する頂点を同時に動かす","rotateButton":"レイヤーを回転","drawTextButton":"テキストを描画"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmäisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtämistä","finishLine":"Klikkaa olemassa olevaa merkkiä lopettaaksesi","finishPoly":"Klikkaa ensimmäistä merkkiä lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrän keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrän","placeCircleMarker":"Klikkaa asettaaksesi ympyrämerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirrä merkkejä","drawPolyButton":"Piirrä monikulmioita","drawLineButton":"Piirrä viivoja","drawCircleButton":"Piirrä ympyrä","drawRectButton":"Piirrä neliskulmioita","editButton":"Muokkaa","dragButton":"Siirrä","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirrä ympyrämerkki","snappingButton":"Kiinnitä siirrettävä merkki toisiin muotoihin","pinningButton":"Kiinnitä jaetut muodot yhteen","rotateButton":"Käännä","drawTextButton":"Piirrä tekstiä"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"마커 위치를 클릭하세요","firstVertex":"첫번째 꼭지점 위치을 클릭하세요","continueLine":"계속 그리려면 클릭하세요","finishLine":"끝내려면 기존 마커를 클릭하세요","finishPoly":"끝내려면 처음 마커를 클릭하세요","finishRect":"끝내려면 클릭하세요","startCircle":"원의 중심이 될 위치를 클릭하세요","finishCircle":"원을 끝내려면 클릭하세요","placeCircleMarker":"원 마커 위치를 클릭하세요","placeText":"텍스트 위치를 클릭하세요"},"actions":{"finish":"끝내기","cancel":"취소","removeLastVertex":"마지막 꼭지점 제거"},"buttonTitles":{"drawMarkerButton":"마커 그리기","drawPolyButton":"다각형 그리기","drawLineButton":"다각선 그리기","drawCircleButton":"원 그리기","drawRectButton":"직사각형 그리기","editButton":"레이어 편집하기","dragButton":"레이어 끌기","cutButton":"레이어 자르기","deleteButton":"레이어 제거하기","drawCircleMarkerButton":"원 마커 그리기","snappingButton":"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기","pinningButton":"공유 꼭지점을 함께 찍기","rotateButton":"레이어 회전하기","drawTextButton":"텍스트 그리기"}}')};function T(r,l){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,y)}return p}function z(r){for(var l=1;l<arguments.length;l++){var p=arguments[l]!=null?arguments[l]:{};l%2?T(Object(p),!0).forEach(function(y){W(r,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):T(Object(p)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(p,y))})}return r}function W(r,l,p){return l in r?Object.defineProperty(r,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[l]=p,r}const ot={_globalEditModeEnabled:!1,enableGlobalEditMode:function(r){var l=z({},r);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(p){p.pm.enable(l)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode:function(){var r=this._addedLayers;for(var l in this._addedLayers={},r){var p=r[l];this._isRelevantForEdit(p)&&this.globalEditModeEnabled()&&p.pm.enable(z({},this.globalOptions))}},_layerAdded:function(r){var l=r.layer;this._addedLayers[L.stamp(l)]=l},_isRelevantForEdit:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},Y={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(function(l){l.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(function(l){l.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var r=this._addedLayersDrag;for(var l in this._addedLayersDrag={},r){var p=r[l];this._isRelevantForDrag(p)&&this.globalDragModeEnabled()&&p.pm.enableLayerDrag()}},_layerAddedDrag:function(r){var l=r.layer;this._addedLayersDrag[L.stamp(l)]=l},_isRelevantForDrag:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},st={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(l){r._isRelevantForRemoval(l)&&(l.pm.disable(),l.on("click",r.removeLayer,r))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(l){l.off("click",r.removeLayer,r)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(r){var l=r.layer;this._isRelevantForRemoval(l)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(r){var l=r.target;this._isRelevantForRemoval(l)&&!l.pm.dragging()&&(l.removeFrom(this.map.pm._getContainingLayer()),l.remove(),l instanceof L.LayerGroup?(this._fireRemoveLayerGroup(l),this._fireRemoveLayerGroup(this.map,l)):(l.pm._fireRemove(l),l.pm._fireRemove(this.map,l)))},_isRelevantForRemoval:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval}},ut={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var r=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(l){return l instanceof L.Polyline}).forEach(function(l){r._isRelevantForRotate(l)&&l.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(r){return r instanceof L.Polyline}).forEach(function(r){r.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(r){var l=r.layer;this._isRelevantForRotate(l)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation}};function gt(r,l){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,y)}return p}function at(r){for(var l=1;l<arguments.length;l++){var p=arguments[l]!=null?arguments[l]:{};l%2?gt(Object(p),!0).forEach(function(y){bt(r,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):gt(Object(p)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(p,y))})}return r}function bt(r,l,p){return l in r?Object.defineProperty(r,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[l]=p,r}var kt={_fireDrawStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,l)},_fireDrawEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},r,l)},_fireCreate:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},l,p)},_fireCenterPlaced:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=r==="Draw"?this._layer:void 0,y=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:p,layer:y,latlng:this._layer.getLatLng()},r,l)},_fireCut:function(r,l,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:cut",{shape:this._shape,layer:l,originalLayer:p},y,x)},_fireEdit:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},l,p)},_fireEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,l)},_fireDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,l)},_fireUpdate:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,l)},_fireMarkerDragStart:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:l},p,y)},_fireMarkerDrag:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:l},p,y)},_fireMarkerDragEnd:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:l,intersectionReset:p},y,x)},_fireDragStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,l)},_fireDrag:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",at(at({},r),{},{shape:this.getShape()}),l,p)},_fireDragEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,l)},_fireDragEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,l)},_fireDragDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,l)},_fireRemove:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:l,shape:this.getShape()},p,y)},_fireVertexAdded:function(r,l,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:l,latlng:p,shape:this.getShape()},y,x)},_fireVertexRemoved:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:l,shape:this.getShape()},p,y)},_fireVertexClick:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:l,shape:this.getShape()},p,y)},_fireIntersect:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},l,p)},_fireLayerReset:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:l,shape:this.getShape()},p,y)},_fireChange:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},l,p)},_fireTextChange:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},l,p)},_fireTextFocus:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,l)},_fireTextBlur:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,l)},_fireSnapDrag:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snapdrag",l,p,y)},_fireSnap:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snap",l,p,y)},_fireUnsnap:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:unsnap",l,p,y)},_fireRotationEnable:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},p,y)},_fireRotationDisable:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},l,p)},_fireRotationStart:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:l},p,y)},_fireRotation:function(r,l,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(r,"pm:rotate",{layer:y,helpLayer:this._layer,startAngle:this._startAngle,angle:y.pm.getAngle(),angleDiff:l,oldLatLngs:p,newLatLngs:y.getLatLngs()},x,R)},_fireRotationEnd:function(r,l,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:l,angle:this._rotationLayer.pm.getAngle(),originLatLngs:p,newLatLngs:this._rotationLayer.getLatLngs()},y,x)},_fireActionClick:function(r,l,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:l,button:p},y,x)},_fireButtonClick:function(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:r,button:l},p,y)},_fireLangChange:function(r,l,p,y){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:l,fallback:p,translations:y},x,R)},_fireGlobalDragModeToggled:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},l,p)},_fireGlobalEditModeToggled:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},l,p)},_fireGlobalRemovalModeToggled:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},l,p)},_fireGlobalCutModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,l)},_fireGlobalDrawModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,l)},_fireGlobalRotateModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,l)},_fireRemoveLayerGroup:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:l,shape:void 0},p,y)},_fireKeyeventEvent:function(r,l,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:r,eventType:l,focusOn:p},y,x)},__fire:function(r,l,p,y){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};p=d()(p,x,{source:y}),L.PM.Utils._fireEvent(r,l,p)}};const Et=kt,Ct={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(r){var l="document";this.map.getContainer().contains(r.target)&&(l="map");var p={event:r,eventType:r.type,focusOn:l};this._lastEvents[r.type]=p,this._lastEvents.current=p,this.map.pm._fireKeyeventEvent(r,r.type,l)},_onBlur:function(r){r.altKey=!1;var l={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=l,this._lastEvents.current=l},getLastKeyEvent:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[r]},isShiftKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.shiftKey},isAltKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.altKey},isCtrlKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.ctrlKey},isMetaKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.metaKey},getPressedKey:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.key}};var Ht=i(7361),wt=i.n(Ht),pe=i(8721),Dt=i.n(pe);function Rt(r){var l=L.PM.activeLang;return Dt()(j,l)||(l="en"),wt()(j[l],r)}function Vt(r){for(var l=0;l<r.length;l+=1){var p=r[l];if(Array.isArray(p)){if(Vt(p))return!0}else if(p!=null&&p!=="")return!0}return!1}function Me(r){return r.reduce(function(l,p){if(p.length!==0){var y=Array.isArray(p)?Me(p):p;Array.isArray(y)?y.length!==0&&l.push(y):l.push(y)}return l},[])}function fe(r,l,p){for(var y,x,R,N=6378137,$=63567523142e-4,H=.0033528106647474805,Z=r.lng,X=r.lat,mt=p,ct=Math.PI,Mt=l*ct/180,Bt=Math.sin(Mt),qt=Math.cos(Mt),oe=(1-H)*Math.tan(X*ct/180),xe=1/Math.sqrt(1+oe*oe),Ut=oe*xe,Le=Math.atan2(oe,qt),Pe=xe*Bt,Ve=1-Pe*Pe,Mn=Ve*(N*N-$*$)/($*$),So=1+Mn/16384*(4096+Mn*(Mn*(320-175*Mn)-768)),Rr=Mn/1024*(256+Mn*(Mn*(74-47*Mn)-128)),Kn=mt/($*So),Gi=2*Math.PI;Math.abs(Kn-Gi)>1e-12;)y=Math.cos(2*Le+Kn),Gi=Kn,Kn=mt/($*So)+Rr*(x=Math.sin(Kn))*(y+Rr/4*((R=Math.cos(Kn))*(2*y*y-1)-Rr/6*y*(4*x*x-3)*(4*y*y-3)));var Eo=Ut*x-xe*R*qt,Us=Math.atan2(Ut*R+xe*x*qt,(1-H)*Math.sqrt(Pe*Pe+Eo*Eo)),Ir=H/16*Ve*(4+H*(4-3*Ve)),$s=Z+180*(Math.atan2(x*Bt,xe*R-Ut*x*qt)-(1-Ir)*H*Pe*(Kn+Ir*x*(y+Ir*R*(2*y*y-1))))/ct,gn=180*Us/ct;return L.latLng($s,gn)}function le(r,l,p,y){for(var x,R,N=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],$=[],H=0;H<p;H+=1){if(N)x=fe(r,360*H/p+y,l),R=L.latLng(x.lng,x.lat);else{var Z=r.lat+Math.cos(2*H*Math.PI/p)*l,X=r.lng+Math.sin(2*H*Math.PI/p)*l;R=L.latLng(Z,X)}$.push(R)}return $}function Ft(r,l,p,y){var x=function(R,N,$){var H=R.latLngToContainerPoint(N),Z=R.latLngToContainerPoint($),X=180*Math.atan2(Z.y-H.y,Z.x-H.x)/Math.PI+90;return X+(X<0?360:0)}(r,l,p);return function(R,N,$){N=(N+360)%360;var H=Math.PI/180,Z=180/Math.PI,X=6378137,mt=R.lng*H,ct=R.lat*H,Mt=N*H,Bt=Math.sin(ct),qt=Math.cos(ct),oe=Math.cos($/X),xe=Math.sin($/X),Ut=Math.asin(Bt*oe+qt*xe*Math.cos(Mt)),Le=mt+Math.atan2(Math.sin(Mt)*xe*qt,oe-Bt*Math.sin(Ut));return Le=(Le*=Z)>180?Le-360:Le<-180?Le+360:Le,L.latLng([Ut*Z,Le])}(l,x,y)}function dt(r,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!l||Object.keys(l).length===0)return function(H,Z){return H-Z};for(var y,x=Object.keys(l),R=x.length-1,N={};R>=0;)y=x[R],N[y.toLowerCase()]=l[y],R-=1;function $(H){return H instanceof L.Marker?"Marker":H instanceof L.Circle?"Circle":H instanceof L.CircleMarker?"CircleMarker":H instanceof L.Rectangle?"Rectangle":H instanceof L.Polygon?"Polygon":H instanceof L.Polyline?"Line":void 0}return function(H,Z){var X,mt;if(r==="instanceofShape"){if(X=$(H.layer).toLowerCase(),mt=$(Z.layer).toLowerCase(),!X||!mt)return 0}else{if(!H.hasOwnProperty(r)||!Z.hasOwnProperty(r))return 0;X=H[r].toLowerCase(),mt=Z[r].toLowerCase()}var ct=X in N?N[X]:Number.MAX_SAFE_INTEGER,Mt=mt in N?N[mt]:Number.MAX_SAFE_INTEGER,Bt=0;return ct<Mt?Bt=-1:ct>Mt&&(Bt=1),p==="desc"?-1*Bt:Bt}}function Pt(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.getLatLngs();return r instanceof L.Polygon?L.polygon(l).getLatLngs():L.polyline(l).getLatLngs()}function St(r,l){var p,y;if((p=l.options.crs)!==null&&p!==void 0&&(y=p.projection)!==null&&y!==void 0&&y.MAX_LATITUDE){var x,R,N=(x=l.options.crs)===null||x===void 0||(R=x.projection)===null||R===void 0?void 0:R.MAX_LATITUDE;r.lat=Math.max(Math.min(N,r.lat),-N)}return r}function zt(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}const ue=L.Class.extend({includes:[ot,Y,st,ut,Et],initialize:function(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=Ct,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(r)},setLang:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",l=arguments.length>1?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",y=L.PM.activeLang;l&&(j[r]=d()(j[p],l)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(y,r,p,j[r])},addControls:function(r){this.Toolbar.addControls(r)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",l=arguments.length>1?arguments[1]:void 0;r==="Poly"&&(r="Polygon"),this.Draw.enable(r,l)},disableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions:function(r){var l=this,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=p.ignoreShapes||[],x=p.merge||!1;this.map.pm.Draw.shapes.forEach(function(R){y.indexOf(R)===-1&&l.map.pm.Draw[R].setPathOptions(r,x)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(r){var l=this,p=d()(this.globalOptions,r),y=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!p.editable&&(this.map.pm.Draw.CircleMarker.disable(),y=!0),this.map.pm.Draw.shapes.forEach(function(x){l.map.pm.Draw[x].setOptions(p)}),y&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(x){x.pm.setOptions(p)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=p,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode:function(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=L.PM.Utils.findLayers(this.map);if(!r)return l;var p=L.featureGroup();return p._pmTempLayer=!0,l.forEach(function(y){p.addLayer(y)}),p},getGeomanDrawLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=L.PM.Utils.findLayers(this.map).filter(function(y){return y._drawnByGeoman===!0});if(!r)return l;var p=L.featureGroup();return p._pmTempLayer=!0,l.forEach(function(y){p.addLayer(y)}),p},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(r){zt(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick:function(r){var l="";r.type==="touchstart"||r.type==="pointerdown"?l="mousedown":r.type==="touchend"||r.type==="pointerup"?l="mouseup":r.type!=="touchcancel"&&r.type!=="pointercancel"||(l="mouseup"),l&&zt(this.map)._onClick(this._createMouseEvent(l,r))},_createMouseEvent:function(r,l){var p,y=l.touches[0]||l.changedTouches[0];try{p=new MouseEvent(r,{bubbles:l.bubbles,cancelable:l.cancelable,view:l.view,detail:y.detail,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY,ctrlKey:l.ctrlKey,altKey:l.altKey,shiftKey:l.shiftKey,metaKey:l.metaKey,button:l.button,relatedTarget:l.relatedTarget})}catch{(p=document.createEvent("MouseEvents")).initMouseEvent(r,l.bubbles,l.cancelable,l.view,y.detail,y.screenX,y.screenY,y.clientX,y.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget)}return p}}),G=L.Control.extend({includes:[Et],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(r){this._button=L.Util.extend({},this.options,r)},onAdd:function(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(r){return this._button.toggleStatus=typeof r=="boolean"?r:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(r){r&&r.preventDefault(),this._button.disabled||(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton:function(r){var l=this,p=this.options.position.indexOf("right")>-1?"pos-right":"",y=L.DomUtil.create("div","button-container  ".concat(p),this._container);r.title&&y.setAttribute("title",r.title);var x=L.DomUtil.create("a","leaflet-buttons-control-button",y);x.setAttribute("role","button"),x.setAttribute("tabindex","0"),x.href="#";var R=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(p),y),N=r.actions,$={cancel:{text:Rt("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Rt("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Rt("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:Rt("actions.finish"),onClick:function(Z){this._map.pm.Draw[r.jsClass]._finishShape(Z)}}};N.forEach(function(Z){var X,mt=typeof Z=="string"?Z:Z.name;if($[mt])X=$[mt];else{if(!Z.text)return;X=Z}var ct=L.DomUtil.create("a","leaflet-pm-action ".concat(p," action-").concat(mt),R);ct.setAttribute("role","button"),ct.setAttribute("tabindex","0"),ct.href="#",ct.innerHTML=X.text,L.DomEvent.disableClickPropagation(ct),L.DomEvent.on(ct,"click",L.DomEvent.stop),!r.disabled&&X.onClick&&(L.DomEvent.addListener(ct,"click",function(Mt){Mt.preventDefault();var Bt="",qt=l._map.pm.Toolbar.buttons;for(var oe in qt)if(qt[oe]._button===r){Bt=oe;break}l._fireActionClick(X,Bt,r)},l),L.DomEvent.addListener(ct,"click",X.onClick,l))}),r.toggleStatus&&L.DomUtil.addClass(y,"active");var H=L.DomUtil.create("div","control-icon",x);return r.iconUrl&&H.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass(H,r.className),L.DomEvent.disableClickPropagation(x),L.DomEvent.on(x,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(x,"click",this._onBtnClick,this),L.DomEvent.addListener(x,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(x,"pm-disabled"),x.setAttribute("aria-disabled","true")),y},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var r="",l=this._map.pm.Toolbar.buttons;for(var p in l)if(l[p]._button===this._button){r=p;break}this._fireButtonClick(r,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var r="pm-disabled",l=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(l,r),l.setAttribute("aria-disabled","true"),L.DomEvent.off(l,"click",this._triggerClick,this),L.DomEvent.off(l,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(l,r),l.setAttribute("aria-disabled","false"),L.DomEvent.on(l,"click",this._triggerClick,this),L.DomEvent.on(l,"click",this._onBtnClick,this))}}});function K(r,l){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,y)}return p}function J(r){for(var l=1;l<arguments.length;l++){var p=arguments[l]!=null?arguments[l]:{};l%2?K(Object(p),!0).forEach(function(y){ht(r,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):K(Object(p)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(p,y))})}return r}function ht(r,l,p){return l in r?Object.defineProperty(r,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[l]=p,r}function _t(r){return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},_t(r)}L.Control.PMButton=G;const xt=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(r){this.init(r)},reinit:function(){var r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init:function(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(r){var l="".concat(r,"Container");return this[l]||(this[l]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(r," leaflet-bar leaflet-control"))),this[l]},getButtons:function(){return this.buttons},addControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var r=this.getButtons(),l={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var p in r){var y=r[p];L.Util.setOptions(y,{className:l.geomanIcons[p]})}},removeControls:function(){var r=this.getButtons();for(var l in r)r[l].remove();this.isVisible=!1},toggleControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(r)},_addButton:function(r,l){return this.buttons[r]=l,this.options[r]=this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons:function(r){for(var l in this.buttons){var p=this.buttons[l];p._button.disableByOtherButtons&&p!==r&&p.toggled()&&p._triggerClick()}},toggleButton:function(r,l){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode"),p&&this.triggerClickOnToggledButtons(this.buttons[r]),!!this.buttons[r]&&this.buttons[r].toggle(l)},_defineButtons:function(){var r=this,l={className:"control-icon leaflet-pm-icon-marker",title:Rt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:Rt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},y={className:"control-icon leaflet-pm-icon-polyline",title:Rt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},x={title:Rt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},R={title:Rt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},N={title:Rt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},$={title:Rt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},H={title:Rt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Z={title:Rt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},X={title:Rt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},mt={title:Rt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ct={className:"control-icon leaflet-pm-icon-text",title:Rt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(l)),this._addButton("drawPolyline",new L.Control.PMButton(y)),this._addButton("drawRectangle",new L.Control.PMButton(N)),this._addButton("drawPolygon",new L.Control.PMButton(p)),this._addButton("drawCircle",new L.Control.PMButton(x)),this._addButton("drawCircleMarker",new L.Control.PMButton(R)),this._addButton("drawText",new L.Control.PMButton(ct)),this._addButton("editMode",new L.Control.PMButton($)),this._addButton("dragMode",new L.Control.PMButton(H)),this._addButton("cutPolygon",new L.Control.PMButton(Z)),this._addButton("removalMode",new L.Control.PMButton(X)),this._addButton("rotateMode",new L.Control.PMButton(mt))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var r=this.getButtons(),l=[];for(var p in this.options.drawControls===!1&&(l=l.concat(Object.keys(r).filter(function(x){return!r[x]._button.tool}))),this.options.editControls===!1&&(l=l.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="edit"}))),this.options.optionsControls===!1&&(l=l.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="options"}))),this.options.customControls===!1&&(l=l.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="custom"}))),r)if(this.options[p]&&l.indexOf(p)===-1){var y=r[p]._button.tool;y||(y="draw"),r[p].setPosition(this._getBtnPosition(y)),r[p].addTo(this.map)}}},_getBtnPosition:function(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition:function(r,l){this.options.positions[r]=l,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(r,l){if(!l)throw new TypeError("Button has no name");_t(l)!=="object"&&(l={name:l});var p=this._btnNameMapping(r);if(!l.name)throw new TypeError("Button has no name");if(this.buttons[l.name])throw new TypeError("Button with this name already exists");var y=this.map.pm.Draw.createNewDrawInstance(l.name,p);return l=J(J({},this.buttons[p]._button),l),{drawInstance:y,control:this.createCustomControl(l)}},createCustomControl:function(r){var l,p;if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=function(){}),r.afterClick||(r.afterClick=function(){}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),r.block&&r.block!=="draw"||(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className="control-icon ".concat(r.className)):r.className="control-icon";var y={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:(l=r.disableOtherButtons)===null||l===void 0||l,disableByOtherButtons:(p=r.disableByOtherButtons)===null||p===void 0||p,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);var x=this._addButton(r.name,new L.Control.PMButton(y));return this.changeControlOrder(),x},changeControlOrder:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=this._shapeMapping(),p=[];r.forEach(function(Z){l[Z]?p.push(l[Z]):p.push(Z)});var y=this.getButtons(),x={};p.forEach(function(Z){y[Z]&&(x[Z]=y[Z])});var R=Object.keys(y).filter(function(Z){return!y[Z]._button.tool});R.forEach(function(Z){p.indexOf(Z)===-1&&(x[Z]=y[Z])});var N=Object.keys(y).filter(function(Z){return y[Z]._button.tool==="edit"});N.forEach(function(Z){p.indexOf(Z)===-1&&(x[Z]=y[Z])});var $=Object.keys(y).filter(function(Z){return y[Z]._button.tool==="options"});$.forEach(function(Z){p.indexOf(Z)===-1&&(x[Z]=y[Z])});var H=Object.keys(y).filter(function(Z){return y[Z]._button.tool==="custom"});H.forEach(function(Z){p.indexOf(Z)===-1&&(x[Z]=y[Z])}),Object.keys(y).forEach(function(Z){p.indexOf(Z)===-1&&(x[Z]=y[Z])}),this.map.pm.Toolbar.buttons=x,this._showHideButtons()},getControlOrder:function(){var r=this.getButtons(),l=[];for(var p in r)l.push(p);return l},changeActionsOfControl:function(r,l){var p=this._btnNameMapping(r);if(!p)throw new TypeError("No name passed");if(!l)throw new TypeError("No actions passed");if(!this.buttons[p])throw new TypeError("Button with this name not exists");this.buttons[p]._button.actions=l,this.changeControlOrder()},setButtonDisabled:function(r,l){var p=this._btnNameMapping(r);l?this.buttons[p].disable():this.buttons[p].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(r){var l=this._shapeMapping();return l[r]?l[r]:r}});function Ot(r,l){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,y)}return p}function I(r){for(var l=1;l<arguments.length;l++){var p=arguments[l]!=null?arguments[l]:{};l%2?Ot(Object(p),!0).forEach(function(y){w(r,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):Ot(Object(p)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(p,y))})}return r}function w(r,l,p){return l in r?Object.defineProperty(r,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[l]=p,r}var k={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(r){var l=this;r.forEach(function(p){Array.isArray(p)?l._assignEvents(p):(p.off("drag",l._handleSnapping,l),p.on("drag",l._handleSnapping,l),p.off("dragend",l._cleanupSnapping,l),p.on("dragend",l._cleanupSnapping,l))})},_cleanupSnapping:function(r){r&&(r.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(l){l.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(r){var l=this,p=r.target;if(p._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var y=this._calcClosestLayer(p.getLatLng(),this._snapList);if(Object.keys(y).length===0)return!1;var x,R=y.layer instanceof L.Marker||y.layer instanceof L.CircleMarker||!this.options.snapSegment;x=R?y.latlng:this._checkPrioritiySnapping(y);var N=this.options.snapDistance,$={marker:p,shape:this._shape,snapLatLng:x,segment:y.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:y.layer,distance:y.distance};if(this._fireSnapDrag($.marker,$),this._fireSnapDrag(this._layer,$),y.distance<N){p._orgLatLng=p.getLatLng(),p.setLatLng(x),p._snapped=!0,p._snapInfo=$;var H=this._snapLatLng||{},Z=x||{};H.lat===Z.lat&&H.lng===Z.lng||(l._snapLatLng=x,l._fireSnap(p,$),l._fireSnap(l._layer,$))}else this._snapLatLng&&(this._unsnap($),p._snapped=!1,p._snapInfo=void 0,this._fireUnsnap($.marker,$),this._fireUnsnap(this._layer,$));return!0},_createSnapList:function(){var r=this,l=[],p=[],y=this._map;y.off("pm:remove",this._handleSnapLayerRemoval,this),y.on("pm:remove",this._handleSnapLayerRemoval,this),y.eachLayer(function(x){if((x instanceof L.Polyline||x instanceof L.Marker||x instanceof L.CircleMarker||x instanceof L.ImageOverlay)&&x.options.snapIgnore!==!0){if(x.options.snapIgnore===void 0&&(!L.PM.optIn&&x.options.pmIgnore===!0||L.PM.optIn&&x.options.pmIgnore!==!1))return;(x instanceof L.Circle||x instanceof L.CircleMarker)&&x.pm&&x.pm._hiddenPolyCircle?l.push(x.pm._hiddenPolyCircle):x instanceof L.ImageOverlay&&(x=L.rectangle(x.getBounds())),l.push(x);var R=L.polyline([],{color:"red",pmIgnore:!0});R._pmTempLayer=!0,p.push(R),(x instanceof L.Circle||x instanceof L.CircleMarker)&&p.push(R)}}),l=(l=(l=l.filter(function(x){return r._layer!==x})).filter(function(x){return x._latlng||x._latlngs&&Vt(x._latlngs)})).filter(function(x){return!x._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var x=L.polyline([],{color:"red",pmIgnore:!0});x._pmTempLayer=!0,p.push(x)}),this._snapList=l.concat(this._otherSnapLayers)):this._snapList=l,this.debugIndicatorLines=p},_handleSnapLayerRemoval:function(r){var l=r.layer,p=this._snapList.findIndex(function(y){return y._leaflet_id===l._leaflet_id});this._snapList.splice(p,1)},_calcClosestLayer:function(r,l){return this._calcClosestLayers(r,l,1)[0]},_calcClosestLayers:function(r,l){var p=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=[],R={};l.forEach(function($,H){if(!$._parentCopy||$._parentCopy!==p._layer){var Z=p._calcLayerDistances(r,$);if(Z.distance=Math.floor(Z.distance),p.debugIndicatorLines){if(!p.debugIndicatorLines[H]){var X=L.polyline([],{color:"red",pmIgnore:!0});X._pmTempLayer=!0,p.debugIndicatorLines[H]=X}p.debugIndicatorLines[H].setLatLngs([r,Z.latlng])}y===1&&(R.distance===void 0||Z.distance<=R.distance)?(Z.distance<R.distance&&(x=[]),(R=Z).layer=$,x.push(R)):y!==1&&(R={},(R=Z).layer=$,x.push(R))}}),y!==1&&(x=x.sort(function($,H){return $.distance-H.distance})),y===-1&&(y=x.length);var N=this._getClosestLayerByPriority(x,y);return L.Util.isArray(N)?N:[N]},_calcLayerDistances:function(r,l){var p=this._map,y=l instanceof L.Marker||l instanceof L.CircleMarker,x=l instanceof L.Polygon,R=r;if(y){var N=l.getLatLng();return{latlng:I({},N),distance:this._getDistance(p,N,R)}}return this._calcLatLngDistances(R,l.getLatLngs(),p,x)},_calcLatLngDistances:function(r,l,p){var y,x,R,N=this,$=arguments.length>3&&arguments[3]!==void 0&&arguments[3],H=function X(mt){mt.forEach(function(ct,Mt){if(Array.isArray(ct))X(ct);else if(N.options.snapSegment){var Bt,qt=ct;Bt=$?Mt+1===mt.length?0:Mt+1:Mt+1===mt.length?void 0:Mt+1;var oe=mt[Bt];if(oe){var xe=N._getDistanceToSegment(p,r,qt,oe);(x===void 0||xe<x)&&(x=xe,R=[qt,oe])}}else{var Ut=N._getDistance(p,r,ct);(x===void 0||Ut<x)&&(x=Ut,y=ct)}})};if(H(l),this.options.snapSegment){var Z=this._getClosestPointOnSegment(p,r,R[0],R[1]);return{latlng:I({},Z),segment:R,distance:x}}return{latlng:y,distance:x}},_getClosestLayerByPriority:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;r=r.sort(function(N,$){return N._leaflet_id-$._leaflet_id});var p=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],y=this._map.pm.globalOptions.snappingOrder||[],x=0,R={};return y.concat(p).forEach(function(N){R[N]||(x+=1,R[N]=x)}),r.sort(dt("instanceofShape",R)),l===1?r[0]||{}:r.slice(0,l)},_checkPrioritiySnapping:function(r){var l=this._map,p=r.segment[0],y=r.segment[1],x=r.latlng,R=this._getDistance(l,p,x),N=this._getDistance(l,y,x),$=R<N?p:y,H=R<N?R:N;if(this.options.snapMiddle){var Z=L.PM.Utils.calcMiddleLatLng(l,p,y),X=this._getDistance(l,Z,x);X<R&&X<N&&($=Z,H=X)}return I({},H<this.options.snapDistance?$:x)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(r,l,p,y){var x=r.getMaxZoom();x===1/0&&(x=r.getZoom());var R=r.project(l,x),N=r.project(p,x),$=r.project(y,x),H=L.LineUtil.closestPointOnSegment(R,N,$);return r.unproject(H,x)},_getDistanceToSegment:function(r,l,p,y){var x=r.latLngToLayerPoint(l),R=r.latLngToLayerPoint(p),N=r.latLngToLayerPoint(y);return L.LineUtil.pointToSegmentDistance(x,R,N)},_getDistance:function(r,l,p){return r.latLngToLayerPoint(l).distanceTo(r.latLngToLayerPoint(p))}};const B=k,D=L.Class.extend({includes:[B,Et],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(r){var l=this,p=new L.Icon.Default;p.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=p,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(y){l[y]=new L.PM.Draw[y](l._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(r){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=l?d()(this.options.pathOptions,r):r},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(r,l){if(!r)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[r].enable(l)},disable:function(){var r=this;this.shapes.forEach(function(l){r[l].disable()})},addControls:function(){var r=this;this.shapes.forEach(function(l){r[l].addButton()})},getActiveShape:function(){var r,l=this;return this.shapes.forEach(function(p){l[p]._enabled&&(r=p)}),r},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var r=L.PM.Utils.findLayers(this._map);this._enabled?r.forEach(function(l){L.PM.Utils.disablePopup(l)}):r.forEach(function(l){L.PM.Utils.enablePopup(l)})},createNewDrawInstance:function(r,l){var p=this._getShapeFromBtnName(l);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[p])throw new TypeError("There is no class L.PM.Draw.".concat(p));return this[r]=new L.PM.Draw[p](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[l]&&this[r].setOptions(this[l].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName:function(r){var l={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return l[r]?l[r]:this[r]?this[r]._shape:r},_finishLayer:function(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp:function(r){r._drawnByGeoman=!0},_setPane:function(r,l){l==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});D.Marker=D.extend({initialize:function(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(r){var l=this;L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Rt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(p){l.isRelevantMarker(p)&&p.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(l){r.isRelevantMarker(l)&&l.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker:function(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(r){if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng(),p=new L.Marker(l,this.options.markerStyle);this._setPane(p,"markerPane"),this._finishLayer(p),p.pm||(p.options.draggable=!1),p.addTo(this._map.pm._getContainingLayer()),p.pm&&this.options.markerEditable?p.pm.enable():p.dragging&&p.dragging.disable(),this._fireCreate(p),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var r,l;(r=this.options.markerStyle)!==null&&r!==void 0&&r.icon&&((l=this._hintMarker)===null||l===void 0||l.setIcon(this.options.markerStyle.icon))}});var F=63710088e-1,Q={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*F,kilometers:6371.0088,kilometres:6371.0088,meters:F,metres:F,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:F/1852,radians:1,yards:6967335223679999e-9};function it(r,l,p){p===void 0&&(p={});var y={type:"Feature"};return(p.id===0||p.id)&&(y.id=p.id),p.bbox&&(y.bbox=p.bbox),y.properties=l||{},y.geometry=r,y}function vt(r,l,p){if(p===void 0&&(p={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ve(r[0])||!ve(r[1]))throw new Error("coordinates must contain numbers");return it({type:"Point",coordinates:r},l,p)}function Tt(r,l,p){if(p===void 0&&(p={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return it({type:"LineString",coordinates:r},l,p)}function jt(r,l){l===void 0&&(l={});var p={type:"FeatureCollection"};return l.id&&(p.id=l.id),l.bbox&&(p.bbox=l.bbox),p.features=r,p}function Jt(r,l){l===void 0&&(l="kilometers");var p=Q[l];if(!p)throw new Error(l+" units is invalid");return r*p}function te(r,l){l===void 0&&(l="kilometers");var p=Q[l];if(!p)throw new Error(l+" units is invalid");return r/p}function be(r){return 180*(r%(2*Math.PI))/Math.PI}function Xt(r){return r%360*Math.PI/180}function ve(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function he(r){var l,p,y={type:"FeatureCollection",features:[]};if((p=r.type==="Feature"?r.geometry:r).type==="LineString")l=[p.coordinates];else if(p.type==="MultiLineString")l=p.coordinates;else if(p.type==="MultiPolygon")l=[].concat.apply([],p.coordinates);else{if(p.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");l=p.coordinates}return l.forEach(function(x){l.forEach(function(R){for(var N=0;N<x.length-1;N++)for(var $=N;$<R.length-1;$++)if(!(x===R&&(Math.abs(N-$)===1||N===0&&$===x.length-2&&x[N][0]===x[x.length-1][0]&&x[N][1]===x[x.length-1][1]))){var H=we(x[N][0],x[N][1],x[N+1][0],x[N+1][1],R[$][0],R[$][1],R[$+1][0],R[$+1][1]);H&&y.features.push(vt([H[0],H[1]]))}})}),y}function we(r,l,p,y,x,R,N,$){var H,Z,X,mt,ct={x:null,y:null,onLine1:!1,onLine2:!1};return(H=($-R)*(p-r)-(N-x)*(y-l))===0?ct.x!==null&&ct.y!==null&&ct:(mt=(p-r)*(Z=l-R)-(y-l)*(X=r-x),Z=((N-x)*Z-($-R)*X)/H,X=mt/H,ct.x=r+Z*(p-r),ct.y=l+Z*(y-l),Z>=0&&Z<=1&&(ct.onLine1=!0),X>=0&&X<=1&&(ct.onLine2=!0),!(!ct.onLine1||!ct.onLine2)&&[ct.x,ct.y])}function Ae(r,l){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,y)}return p}function Ze(r){for(var l=1;l<arguments.length;l++){var p=arguments[l]!=null?arguments[l]:{};l%2?Ae(Object(p),!0).forEach(function(y){qe(r,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):Ae(Object(p)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(p,y))})}return r}function qe(r,l,p){return l in r?Object.defineProperty(r,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[l]=p,r}function fn(r,l){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,y)}return p}function cn(r){for(var l=1;l<arguments.length;l++){var p=arguments[l]!=null?arguments[l]:{};l%2?fn(Object(p),!0).forEach(function(y){Je(r,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):fn(Object(p)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(p,y))})}return r}function Je(r,l,p){return l in r?Object.defineProperty(r,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[l]=p,r}function hn(r,l){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,y)}return p}function kn(r){for(var l=1;l<arguments.length;l++){var p=arguments[l]!=null?arguments[l]:{};l%2?hn(Object(p),!0).forEach(function(y){Un(r,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):hn(Object(p)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(p,y))})}return r}function Un(r,l,p){return l in r?Object.defineProperty(r,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[l]=p,r}function Ke(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Fe(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Bn(r){return r.type==="Feature"?r.geometry:r}function qr(r,l){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function Ei(r,l,p){if(r!==null)for(var y,x,R,N,$,H,Z,X,mt=0,ct=0,Mt=r.type,Bt=Mt==="FeatureCollection",qt=Mt==="Feature",oe=Bt?r.features.length:1,xe=0;xe<oe;xe++){$=(X=!!(Z=Bt?r.features[xe].geometry:qt?r.geometry:r)&&Z.type==="GeometryCollection")?Z.geometries.length:1;for(var Ut=0;Ut<$;Ut++){var Le=0,Pe=0;if((N=X?Z.geometries[Ut]:Z)!==null){H=N.coordinates;var Ve=N.type;switch(mt=!p||Ve!=="Polygon"&&Ve!=="MultiPolygon"?0:1,Ve){case null:break;case"Point":if(l(H,ct,xe,Le,Pe)===!1)return!1;ct++,Le++;break;case"LineString":case"MultiPoint":for(y=0;y<H.length;y++){if(l(H[y],ct,xe,Le,Pe)===!1)return!1;ct++,Ve==="MultiPoint"&&Le++}Ve==="LineString"&&Le++;break;case"Polygon":case"MultiLineString":for(y=0;y<H.length;y++){for(x=0;x<H[y].length-mt;x++){if(l(H[y][x],ct,xe,Le,Pe)===!1)return!1;ct++}Ve==="MultiLineString"&&Le++,Ve==="Polygon"&&Pe++}Ve==="Polygon"&&Le++;break;case"MultiPolygon":for(y=0;y<H.length;y++){for(Pe=0,x=0;x<H[y].length;x++){for(R=0;R<H[y][x].length-mt;R++){if(l(H[y][x][R],ct,xe,Le,Pe)===!1)return!1;ct++}Pe++}Le++}break;case"GeometryCollection":for(y=0;y<N.geometries.length;y++)if(Ei(N.geometries[y],l,p)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Cr(r,l){if(r.type==="Feature")l(r,0);else if(r.type==="FeatureCollection")for(var p=0;p<r.features.length&&l(r.features[p],p)!==!1;p++);}function Ns(r,l){var p,y,x,R,N,$,H,Z,X,mt,ct=0,Mt=r.type==="FeatureCollection",Bt=r.type==="Feature",qt=Mt?r.features.length:1;for(p=0;p<qt;p++){for($=Mt?r.features[p].geometry:Bt?r.geometry:r,Z=Mt?r.features[p].properties:Bt?r.properties:{},X=Mt?r.features[p].bbox:Bt?r.bbox:void 0,mt=Mt?r.features[p].id:Bt?r.id:void 0,N=(H=!!$&&$.type==="GeometryCollection")?$.geometries.length:1,x=0;x<N;x++)if((R=H?$.geometries[x]:$)!==null)switch(R.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(l(R,ct,Z,X,mt)===!1)return!1;break;case"GeometryCollection":for(y=0;y<R.geometries.length;y++)if(l(R.geometries[y],ct,Z,X,mt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(l(null,ct,Z,X,mt)===!1)return!1;ct++}}function Ti(r,l){Ns(r,function(p,y,x,R,N){var $,H=p===null?null:p.type;switch(H){case null:case"Point":case"LineString":case"Polygon":return l(it(p,x,{bbox:R,id:N}),y,0)!==!1&&void 0}switch(H){case"MultiPoint":$="Point";break;case"MultiLineString":$="LineString";break;case"MultiPolygon":$="Polygon"}for(var Z=0;Z<p.coordinates.length;Z++){var X=p.coordinates[Z];if(l(it({type:$,coordinates:X},x),y,Z)===!1)return!1}})}D.Line=D.extend({initialize:function(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Ze(Ze({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Rt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._layer.getLatLngs();if(r.length>0){var l=r[r.length-1];this._hintline.setLatLngs([l,this._hintMarker.getLatLng()])}},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var p=this._layer._defaultShape().slice();p.push(this._hintMarker.getLatLng()),this._change(p)},hasSelfIntersection:function(){return he(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(r,l){var p=L.polyline(this._layer.getLatLngs());r&&(l||(l=this._hintMarker.getLatLng()),p.addLatLng(l));var y=he(p.toGeoJSON(15));this._doesSelfIntersect=y.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(r){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,r.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng(),p=this._layer.getLatLngs(),y=p[p.length-1];if(l.equals(p[0])||p.length>0&&l.equals(y))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:l,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(l);var x=this._createMarker(l);this._setTooltipText(),this._setHintLineAfterNewVertex(l),this._fireVertexAdded(x,void 0,l,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)}}},_setHintLineAfterNewVertex:function(r){this._hintline.setLatLngs([r,r])},_removeLastVertex:function(){var r=this._markers;if(r.length<=1)this.disable();else{var l=this._layer.getLatLngs(),p=r[r.length-1],y=L.PM.Utils.findDeepMarkerIndex(r,p).indexPath;r.pop(),this._layerGroup.removeLayer(p);var x=r[r.length-1],R=l.indexOf(x.getLatLng());l=l.slice(0,R+1),this._layer.setLatLngs(l),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(p,y,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=1)){var l=L.polyline(r,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(r){var l=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),l.on("click",this._finishShape,this),l},_setTooltipText:function(){var r="";r=Rt(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change:function(r){this._fireChange(r,"Draw")},setStyle:function(){var r,l;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}}),D.Polygon=D.Line.extend({initialize:function(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker:function(r){var l=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),this._layer.getLatLngs().flat().length===1?(l.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(l)-1,this.options.snappable&&this._cleanupSnapping()):l.on("click",function(){return 1}),l},_setTooltipText:function(){var r="";r=Rt(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=2)){var l=L.polygon(r,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),D.Rectangle=D.extend({initialize:function(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Rt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var l=0;l<2;l+=1){var p=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._styleMarkers.push(p)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(l),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(p){L.DomUtil.addClass(p._icon,"visible"),p.setLatLng(l)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Rt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}var p=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(p,"Draw")},_syncRectangleSize:function(){var r=this,l=St(this._startMarker.getLatLng(),this._map),p=St(this._hintMarker.getLatLng(),this._map),y=L.PM.Utils._getRotatedRectangle(l,p,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(y),this.options.cursorMarker&&this._styleMarkers){var x=[];y.forEach(function(R){R.equals(l,1e-8)||R.equals(p,1e-8)||x.push(R)}),x.forEach(function(R,N){try{r._styleMarkers[N].setLatLng(R)}catch{}})}},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_finishShape:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng(),p=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var y=L.rectangle([p,l],this.options.pathOptions);if(this.options.rectangleAngle){var x=L.PM.Utils._getRotatedRectangle(p,l,this.options.rectangleAngle||0,this._map);y.setLatLngs(x),y.pm&&y.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(y,"layerPane"),this._finishLayer(y),y.addTo(this._map.pm._getContainingLayer()),this._fireCreate(y),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var r;(r=this._layer)===null||r===void 0||r.setStyle(this.options.pathOptions)}}),D.Circle=D.extend({initialize:function(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(r){L.Util.setOptions(this,r),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),cn(cn({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Rt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),l=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,l])},_syncCircleRadius:function(){var r,l=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng();r=this._map.options.crs===L.CRS.Simple?this._map.distance(l,p):l.distanceTo(p),this.options.minRadiusCircle&&r<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&r>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}this._handleHintMarkerSnapping();var p=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(p,"Draw")},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(l),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Rt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l,p=this._centerMarker.getLatLng(),y=this._hintMarker.getLatLng();l=this._map.options.crs===L.CRS.Simple?this._map.distance(p,y):p.distanceTo(y),this.options.minRadiusCircle&&l<this.options.minRadiusCircle?l=this.options.minRadiusCircle:this.options.maxRadiusCircle&&l>this.options.maxRadiusCircle&&(l=this.options.maxRadiusCircle);var x=cn(cn({},this.options.pathOptions),{},{radius:l}),R=L.circle(p,x);this._setPane(R,"layerPane"),this._finishLayer(R),R.addTo(this._map.pm._getContainingLayer()),R.pm&&R.pm._updateHiddenPolyCircle(),this._fireCreate(R),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return r;var l=this._centerMarker.getLatLng(),p=l.distanceTo(r);return this.options.minRadiusCircle&&p<this.options.minRadiusCircle?r=Ft(this._map,l,r,this.options.minRadiusCircle):this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle&&(r=Ft(this._map,l,r,this.options.maxRadiusCircle)),r},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),p=r.distanceTo(l);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&p<this.options.minRadiusCircle||this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var r,l;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}}),D.CircleMarker=D.Marker.extend({initialize:function(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(r){var l=this;if(L.Util.setOptions(this,r),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var p={};L.extend(p,this.options.templineStyle),p.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),p),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Rt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Rt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(y){l.isRelevantMarker(y)&&y.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(l){r.isRelevantMarker(l)&&l.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(l),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Rt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),l=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,l])},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(l));this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(p)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}this._handleHintMarkerSnapping();var p=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(p,"Draw")},isRelevantMarker:function(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker:function(r){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&r.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng(),p=L.circleMarker(l,this.options.pathOptions);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),p.pm&&this.options.markerEditable&&p.pm.enable(),this._fireCreate(p),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng(),y=this._map.project(l).distanceTo(this._map.project(p));this.options.editable&&(this.options.minRadiusCircleMarker&&y<this.options.minRadiusCircleMarker?y=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&y>this.options.maxRadiusCircleMarker&&(y=this.options.maxRadiusCircleMarker));var x=kn(kn({},this.options.pathOptions),{},{radius:y}),R=L.circleMarker(l,x);this._setPane(R,"layerPane"),this._finishLayer(R),R.addTo(this._map.pm._getContainingLayer()),R.pm&&R.pm._updateHiddenPolyCircle(),this._fireCreate(R),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return r;var l=this._centerMarker.getLatLng(),p=this._map.project(l).distanceTo(this._map.project(r));this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker?r=Ft(this._map,l,r,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker&&(r=Ft(this._map,l,r,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return r},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(l));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(r){var l=this._centerMarker.getLatLng(),p=this._map.project(l),y=L.point(p.x+r,p.y);return this._map.unproject(y).distanceTo(l)},setStyle:function(){var r,l,p={};L.extend(p,this.options.templineStyle),this.options.editable&&(p.radius=0),(r=this._layer)===null||r===void 0||r.setStyle(p),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}});const nn=function(r){if(!r)throw new Error("geojson is required");var l=[];return Ti(r,function(p){(function(y,x){var R=[],N=y.geometry;if(N!==null){switch(N.type){case"Polygon":R=Fe(N);break;case"LineString":R=[Fe(N)]}R.forEach(function($){var H=function(Z,X){var mt=[];return Z.reduce(function(ct,Mt){var Bt,qt,oe,xe,Ut,Le,Pe=Tt([ct,Mt],X);return Pe.bbox=(qt=Mt,oe=(Bt=ct)[0],xe=Bt[1],Ut=qt[0],Le=qt[1],[oe<Ut?oe:Ut,xe<Le?xe:Le,oe>Ut?oe:Ut,xe>Le?xe:Le]),mt.push(Pe),Mt}),mt}($,y.properties);H.forEach(function(Z){Z.id=x.length,x.push(Z)})})}})(p,l)}),jt(l)};var Gt=i(1787);function Oi(r,l){var p=Fe(r),y=Fe(l);if(p.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(y.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var x=p[0][0],R=p[0][1],N=p[1][0],$=p[1][1],H=y[0][0],Z=y[0][1],X=y[1][0],mt=y[1][1],ct=(mt-Z)*(N-x)-(X-H)*($-R),Mt=(X-H)*(R-Z)-(mt-Z)*(x-H),Bt=(N-x)*(R-Z)-($-R)*(x-H);if(ct===0)return null;var qt=Mt/ct,oe=Bt/ct;return qt>=0&&qt<=1&&oe>=0&&oe<=1?vt([x+qt*(N-x),R+qt*($-R)]):null}const Rn=function(r,l){var p={},y=[];if(r.type==="LineString"&&(r=it(r)),l.type==="LineString"&&(l=it(l)),r.type==="Feature"&&l.type==="Feature"&&r.geometry!==null&&l.geometry!==null&&r.geometry.type==="LineString"&&l.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&l.geometry.coordinates.length===2){var x=Oi(r,l);return x&&y.push(x),jt(y)}var R=Gt();return R.load(nn(l)),Cr(nn(r),function(N){Cr(R.search(N),function($){var H=Oi(N,$);if(H){var Z=Fe(H).join(",");p[Z]||(p[Z]=!0,y.push(H))}})}),jt(y)},In=function(r,l,p){p===void 0&&(p={});var y=Ke(r),x=Ke(l),R=Xt(x[1]-y[1]),N=Xt(x[0]-y[0]),$=Xt(y[1]),H=Xt(x[1]),Z=Math.pow(Math.sin(R/2),2)+Math.pow(Math.sin(N/2),2)*Math.cos($)*Math.cos(H);return Jt(2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z)),p.units)},xo=function(r){var l=r[0],p=r[1],y=r[2],x=r[3];if(In(r.slice(0,2),[y,p])>=In(r.slice(0,2),[l,x])){var R=(p+x)/2;return[l,R-(y-l)/2,y,R+(y-l)/2]}var N=(l+y)/2;return[N-(x-p)/2,p,N+(x-p)/2,x]};function Pr(r){var l=[1/0,1/0,-1/0,-1/0];return Ei(r,function(p){l[0]>p[0]&&(l[0]=p[0]),l[1]>p[1]&&(l[1]=p[1]),l[2]<p[0]&&(l[2]=p[0]),l[3]<p[1]&&(l[3]=p[1])}),l}Pr.default=Pr;const sr=Pr,ar=function(r,l){l===void 0&&(l={});var p=l.precision,y=l.coordinates,x=l.mutate;if(p=p==null||isNaN(p)?6:p,y=y==null||isNaN(y)?3:y,!r)throw new Error("<geojson> is required");if(typeof p!="number")throw new Error("<precision> must be a number");if(typeof y!="number")throw new Error("<coordinates> must be a number");x!==!1&&x!==void 0||(r=JSON.parse(JSON.stringify(r)));var R=Math.pow(10,p);return Ei(r,function(N){(function($,H,Z){$.length>Z&&$.splice(Z,$.length);for(var X=0;X<$.length;X++)$[X]=Math.round($[X]*H)/H})(N,R,y)}),r};function Ai(r,l,p){if(p===void 0&&(p={}),p.final===!0)return function(mt,ct){var Mt=Ai(ct,mt);return Mt=(Mt+180)%360}(r,l);var y=Ke(r),x=Ke(l),R=Xt(y[0]),N=Xt(x[0]),$=Xt(y[1]),H=Xt(x[1]),Z=Math.sin(N-R)*Math.cos(H),X=Math.cos($)*Math.sin(H)-Math.sin($)*Math.cos(H)*Math.cos(N-R);return be(Math.atan2(Z,X))}function Lo(r,l,p,y){y===void 0&&(y={});var x=Ke(r),R=Xt(x[0]),N=Xt(x[1]),$=Xt(p),H=te(l,y.units),Z=Math.asin(Math.sin(N)*Math.cos(H)+Math.cos(N)*Math.sin(H)*Math.cos($));return vt([be(R+Math.atan2(Math.sin($)*Math.sin(H)*Math.cos(N),Math.cos(H)-Math.sin(N)*Math.sin(Z))),be(Z)],y.properties)}const Fs=function(r,l,p){p===void 0&&(p={});var y=vt([1/0,1/0],{dist:1/0}),x=0;return Ti(r,function(R){for(var N=Fe(R),$=0;$<N.length-1;$++){var H=vt(N[$]);H.properties.dist=In(l,H,p);var Z=vt(N[$+1]);Z.properties.dist=In(l,Z,p);var X=In(H,Z,p),mt=Math.max(H.properties.dist,Z.properties.dist),ct=Ai(H,Z),Mt=Lo(l,mt,ct+90,p),Bt=Lo(l,mt,ct-90,p),qt=Rn(Tt([Mt.geometry.coordinates,Bt.geometry.coordinates]),Tt([H.geometry.coordinates,Z.geometry.coordinates])),oe=null;qt.features.length>0&&((oe=qt.features[0]).properties.dist=In(l,oe,p),oe.properties.location=x+In(H,oe,p)),H.properties.dist<y.properties.dist&&((y=H).properties.index=$,y.properties.location=x),Z.properties.dist<y.properties.dist&&((y=Z).properties.index=$+1,y.properties.location=x+X),oe&&oe.properties.dist<y.properties.dist&&((y=oe).properties.index=$),x+=X}}),y};function ko(r,l){var p=[],y=Gt();return Ti(l,function(x){if(p.forEach(function($,H){$.id=H}),p.length){var R=y.search(x);if(R.features.length){var N=Ri(x,R);p=p.filter(function($){return $.id!==N.id}),y.remove(N),Cr(Bi(N,x),function($){p.push($),y.insert($)})}}else(p=Bi(r,x).features).forEach(function($){$.bbox||($.bbox=xo(sr($)))}),y.load(jt(p))}),jt(p)}function Bi(r,l){var p=[],y=Fe(r)[0],x=Fe(r)[r.geometry.coordinates.length-1];if(Ii(y,Ke(l))||Ii(x,Ke(l)))return jt([r]);var R=Gt(),N=nn(r);R.load(N);var $=R.search(l);if(!$.features.length)return jt([r]);var H=Ri(l,$),Z=function(X,mt,ct){var Mt=ct;return Cr(X,function(Bt,qt){Mt=qt===0&&ct===void 0?Bt:mt(Mt,Bt,qt)}),Mt}(N,function(X,mt,ct){var Mt=Fe(mt)[1],Bt=Ke(l);return ct===H.id?(X.push(Bt),p.push(Tt(X)),Ii(Bt,Mt)?[Bt]:[Bt,Mt]):(X.push(Mt),X)},[y]);return Z.length>1&&p.push(Tt(Z)),jt(p)}function Ri(r,l){if(!l.features.length)throw new Error("lines must contain features");if(l.features.length===1)return l.features[0];var p,y=1/0;return Cr(l,function(x){var R=Fs(x,r).properties.dist;R<y&&(p=x,y=R)}),p}function Ii(r,l){return r[0]===l[0]&&r[1]===l[1]}const Kr=function(r,l){if(!r)throw new Error("line is required");if(!l)throw new Error("splitter is required");var p=qr(r),y=qr(l);if(p!=="LineString")throw new Error("line must be LineString");if(y==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(y==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var x=ar(l,{precision:7});switch(y){case"Point":return Bi(r,x);case"MultiPoint":return ko(r,x);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ko(r,Rn(r,x))}};function Wr(r,l,p){if(p===void 0&&(p={}),!r)throw new Error("point is required");if(!l)throw new Error("polygon is required");var y=Ke(r),x=Bn(l),R=x.type,N=l.bbox,$=x.coordinates;if(N&&function(ct,Mt){return Mt[0]<=ct[0]&&Mt[1]<=ct[1]&&Mt[2]>=ct[0]&&Mt[3]>=ct[1]}(y,N)===!1)return!1;R==="Polygon"&&($=[$]);for(var H=!1,Z=0;Z<$.length&&!H;Z++)if(Mo(y,$[Z][0],p.ignoreBoundary)){for(var X=!1,mt=1;mt<$[Z].length&&!X;)Mo(y,$[Z][mt],!p.ignoreBoundary)&&(X=!0),mt++;X||(H=!0)}return H}function Mo(r,l,p){var y=!1;l[0][0]===l[l.length-1][0]&&l[0][1]===l[l.length-1][1]&&(l=l.slice(0,l.length-1));for(var x=0,R=l.length-1;x<l.length;R=x++){var N=l[x][0],$=l[x][1],H=l[R][0],Z=l[R][1];if(r[1]*(N-H)+$*(H-r[0])+Z*(r[0]-N)==0&&(N-r[0])*(H-r[0])<=0&&($-r[1])*(Z-r[1])<=0)return!p;$>r[1]!=Z>r[1]&&r[0]<(H-N)*(r[1]-$)/(Z-$)+N&&(y=!y)}return y}function Gs(r,l,p,y,x){var R=p[0],N=p[1],$=r[0],H=r[1],Z=l[0],X=l[1],mt=Z-$,ct=X-H,Mt=(p[0]-$)*ct-(p[1]-H)*mt;if(x!==null){if(Math.abs(Mt)>x)return!1}else if(Mt!==0)return!1;return y?y==="start"?Math.abs(mt)>=Math.abs(ct)?mt>0?$<R&&R<=Z:Z<=R&&R<$:ct>0?H<N&&N<=X:X<=N&&N<H:y==="end"?Math.abs(mt)>=Math.abs(ct)?mt>0?$<=R&&R<Z:Z<R&&R<=$:ct>0?H<=N&&N<X:X<N&&N<=H:y==="both"&&(Math.abs(mt)>=Math.abs(ct)?mt>0?$<R&&R<Z:Z<R&&R<$:ct>0?H<N&&N<X:X<N&&N<H):Math.abs(mt)>=Math.abs(ct)?mt>0?$<=R&&R<=Z:Z<=R&&R<=$:ct>0?H<=N&&N<=X:X<=N&&N<=H}const Sr=function(r,l,p){p===void 0&&(p={});for(var y=Ke(r),x=Fe(l),R=0;R<x.length-1;R++){var N=!1;if(p.ignoreEndVertices&&(R===0&&(N="start"),R===x.length-2&&(N="end"),R===0&&R+1===x.length-1&&(N="both")),Gs(x[R],x[R+1],y,N,typeof p.epsilon>"u"?null:p.epsilon))return!0}return!1};function Hs(r,l){var p=Bn(r),y=Bn(l),x=p.type,R=y.type,N=p.coordinates,$=y.coordinates;switch(x){case"Point":if(R==="Point")return $n(N,$);throw new Error("feature2 "+R+" geometry not supported");case"MultiPoint":switch(R){case"Point":return function(H,Z){var X,mt=!1;for(X=0;X<H.coordinates.length;X++)if($n(H.coordinates[X],Z.coordinates)){mt=!0;break}return mt}(p,y);case"MultiPoint":return function(H,Z){for(var X=0,mt=Z.coordinates;X<mt.length;X++){for(var ct=mt[X],Mt=!1,Bt=0,qt=H.coordinates;Bt<qt.length;Bt++)if($n(ct,qt[Bt])){Mt=!0;break}if(!Mt)return!1}return!0}(p,y);default:throw new Error("feature2 "+R+" geometry not supported")}case"LineString":switch(R){case"Point":return Sr(y,p,{ignoreEndVertices:!0});case"LineString":return function(H,Z){for(var X=!1,mt=0,ct=Z.coordinates;mt<ct.length;mt++){var Mt=ct[mt];if(Sr({type:"Point",coordinates:Mt},H,{ignoreEndVertices:!0})&&(X=!0),!Sr({type:"Point",coordinates:Mt},H,{ignoreEndVertices:!1}))return!1}return X}(p,y);case"MultiPoint":return function(H,Z){for(var X=!1,mt=0,ct=Z.coordinates;mt<ct.length;mt++){var Mt=ct[mt];if(Sr(Mt,H,{ignoreEndVertices:!0})&&(X=!0),!Sr(Mt,H))return!1}return!!X}(p,y);default:throw new Error("feature2 "+R+" geometry not supported")}case"Polygon":switch(R){case"Point":return Wr(y,p,{ignoreBoundary:!0});case"LineString":return function(H,Z){var X=!1,mt=0,ct=sr(H),Mt=sr(Z);if(!Jr(ct,Mt))return!1;for(;mt<Z.coordinates.length-1;mt++)if(Wr({type:"Point",coordinates:Co(Z.coordinates[mt],Z.coordinates[mt+1])},H,{ignoreBoundary:!0})){X=!0;break}return X}(p,y);case"Polygon":return function(H,Z){if(H.type==="Feature"&&H.geometry===null||Z.type==="Feature"&&Z.geometry===null)return!1;var X=sr(H),mt=sr(Z);if(!Jr(X,mt))return!1;for(var ct=Bn(Z).coordinates,Mt=0,Bt=ct;Mt<Bt.length;Mt++)for(var qt=0,oe=Bt[Mt];qt<oe.length;qt++)if(!Wr(oe[qt],H))return!1;return!0}(p,y);case"MultiPoint":return function(H,Z){for(var X=0,mt=Z.coordinates;X<mt.length;X++)if(!Wr(mt[X],H,{ignoreBoundary:!0}))return!1;return!0}(p,y);default:throw new Error("feature2 "+R+" geometry not supported")}default:throw new Error("feature1 "+x+" geometry not supported")}}function Jr(r,l){return!(r[0]>l[0])&&!(r[2]<l[2])&&!(r[1]>l[1])&&!(r[3]<l[3])}function $n(r,l){return r[0]===l[0]&&r[1]===l[1]}function Co(r,l){return[(r[0]+l[0])/2,(r[1]+l[1])/2]}var Po=i(2676),lr=i.n(Po);function de(r){var l={type:"Feature"};return l.geometry=r,l}function Ce(r){return r.type==="Feature"?r.geometry:r}function Er(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function Zn(r){return de({type:"Polygon",coordinates:r})}function qn(r){return de({type:"MultiPolygon",coordinates:r})}function Yr(r){return Array.isArray(r)?1+Yr(r[0]):-1}function ie(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));var l=Er(r),p=Yr(l),y=[];return p>1?l.forEach(function(x){y.push(function(R){return de({type:"LineString",coordinates:R})}(x))}):y.push(r),y}function Be(r){var l=[];return r.eachLayer(function(p){l.push(Er(p.toGeoJSON(15)))}),function(p){return de({type:"MultiLineString",coordinates:p})}(l)}function Di(r,l){return function(p){if(Array.isArray(p))return p}(r)||function(p,y){var x=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(x!=null){var R,N,$=[],H=!0,Z=!1;try{for(x=x.call(p);!(H=(R=x.next()).done)&&($.push(R.value),!y||$.length!==y);H=!0);}catch(X){Z=!0,N=X}finally{try{H||x.return==null||x.return()}finally{if(Z)throw N}}return $}}(r,l)||function(p,y){if(p){if(typeof p=="string")return Tr(p,y);var x=Object.prototype.toString.call(p).slice(8,-1);if(x==="Object"&&p.constructor&&(x=p.constructor.name),x==="Map"||x==="Set")return Array.from(p);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Tr(p,y)}}(r,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tr(r,l){(l==null||l>r.length)&&(l=r.length);for(var p=0,y=new Array(l);p<l;p++)y[p]=r[p];return y}function rn(r){return function(l){if(Array.isArray(l))return zi(l)}(r)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(r)||function(l,p){if(l){if(typeof l=="string")return zi(l,p);var y=Object.prototype.toString.call(l).slice(8,-1);if(y==="Object"&&l.constructor&&(y=l.constructor.name),y==="Map"||y==="Set")return Array.from(l);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return zi(l,p)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zi(r,l){(l==null||l>r.length)&&(l=r.length);for(var p=0,y=new Array(l);p<l;p++)y[p]=r[p];return y}D.Cut=D.Polygon.extend({initialize:function(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var r=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var l=this._layer.getLatLngs();if(!(l.length<=2)){var p=L.polygon(l,this.options.pathOptions);p._latlngInfos=this._layer._latlngInfo,this.cut(p),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(y){var x=y.layer,R=y.originalLayer;r._fireCut(R,x,R),r._fireCut(r._map,x,R),R.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(r){var l=this,p=this._map._layers,y=r._latlngInfos||[];Object.keys(p).map(function(x){return p[x]}).filter(function(x){return x.pm}).filter(function(x){return!x._pmTempLayer}).filter(function(x){return!L.PM.optIn&&!x.options.pmIgnore||L.PM.optIn&&x.options.pmIgnore===!1}).filter(function(x){return x instanceof L.Polyline}).filter(function(x){return x!==r}).filter(function(x){return x.pm.options.allowCutting}).filter(function(x){return!(l.options.layersToCut&&L.Util.isArray(l.options.layersToCut)&&l.options.layersToCut.length>0)||l.options.layersToCut.indexOf(x)>-1}).filter(function(x){return!l._layerGroup.hasLayer(x)}).filter(function(x){try{var R=!!Rn(r.toGeoJSON(15),x.toGeoJSON(15)).features.length>0;return R||x instanceof L.Polyline&&!(x instanceof L.Polygon)?R:(N=r.toGeoJSON(15),$=x.toGeoJSON(15),H=Ce(N),Z=Ce($),!((X=lr().intersection(H.coordinates,Z.coordinates)).length===0||!(X.length===1?Zn(X[0]):qn(X))))}catch{return x instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var N,$,H,Z,X}).forEach(function(x){var R;if(x instanceof L.Polygon){var N=(R=L.polygon(x.getLatLngs())).getLatLngs();y.forEach(function(ct){if(ct&&ct.snapInfo){var Mt=ct.latlng,Bt=l._calcClosestLayer(Mt,[R]);if(Bt&&Bt.segment&&Bt.distance<l.options.snapDistance){var qt=Bt.segment;if(qt&&qt.length===2){var oe=L.PM.Utils._getIndexFromSegment(N,qt),xe=oe.indexPath,Ut=oe.parentPath,Le=oe.newIndex;(xe.length>1?wt()(N,Ut):N).splice(Le,0,Mt)}}}})}else R=x;var $=l._cutLayer(r,R),H=L.geoJSON($,x.options);if(H.getLayers().length===1){var Z=H.getLayers();H=Di(Z,1)[0]}l._setPane(H,"layerPane");var X=H.addTo(l._map.pm._getContainingLayer());if(X.pm.enable(x.pm.options),X.pm.disable(),x._pmTempLayer=!0,r._pmTempLayer=!0,x.remove(),x.removeFrom(l._map.pm._getContainingLayer()),r.remove(),r.removeFrom(l._map.pm._getContainingLayer()),X.getLayers&&X.getLayers().length===0&&l._map.pm.removeLayer({target:X}),X instanceof L.LayerGroup&&X.eachLayer(function(ct){l._addDrawnLayerProp(ct)}),l._addDrawnLayerProp(X),l.options.layersToCut&&L.Util.isArray(l.options.layersToCut)&&l.options.layersToCut.length>0){var mt=l.options.layersToCut.indexOf(x);mt>-1&&l.options.layersToCut.splice(mt,1)}l._editedLayers.push({layer:X,originalLayer:x})})},_cutLayer:function(r,l){var p,y,x,R,N,$,H=L.geoJSON();if(l instanceof L.Polygon)y=l.toGeoJSON(15),x=r.toGeoJSON(15),R=Ce(y),N=Ce(x),p=($=lr().difference(R.coordinates,N.coordinates)).length===0?null:$.length===1?Zn($[0]):qn($);else{var Z=ie(l);Z.forEach(function(X){var mt=Kr(X,r.toGeoJSON(15));(mt&&mt.features.length>0?L.geoJSON(mt):L.geoJSON(X)).getLayers().forEach(function(ct){Hs(r.toGeoJSON(15),ct.toGeoJSON(15))||ct.addTo(H)})}),p=Z.length>1?Be(H):H.toGeoJSON(15)}return p},_change:L.Util.falseFn}),D.Text=D.extend({initialize:function(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Rt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}},_createMarker:function(r){var l;if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var p=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(l=this.options.textOptions)!==null&&l!==void 0&&l.className){var y,x=this.options.textOptions.className.split(" ");(y=this.textArea.classList).add.apply(y,rn(x))}var R=this._createTextIcon(this.textArea),N=new L.Marker(p,{textMarker:!0,_textMarkerOverPM:!0,icon:R});if(this._setPane(N,"markerPane"),this._finishLayer(N),N.pm||(N.options.draggable=!1),N.addTo(this._map.pm._getContainingLayer()),N.pm){var $,H,Z,X,mt;N.pm.textArea=this.textArea,L.setOptions(N.pm,{removeIfEmpty:($=(H=this.options.textOptions)===null||H===void 0?void 0:H.removeIfEmpty)===null||$===void 0||$});var ct=(Z=(X=this.options.textOptions)===null||X===void 0?void 0:X.focusAfterDraw)===null||Z===void 0||Z;N.pm._createTextMarker(ct),(mt=this.options.textOptions)!==null&&mt!==void 0&&mt.text&&N.pm.setText(this.options.textOptions.text)}this._fireCreate(N),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var r=document.createElement("textarea");return r.autofocus=!0,r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon:function(r){return L.divIcon({className:"pm-text-marker",html:r})}});const Xr={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,zt(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var r=this._getDOMElem();r&&(zt(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,zt(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var r=this._getDOMElem();r&&(zt(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(r){var l=r.touches?r.touches[0]:r,p={originalEvent:l,target:this._layer};return p.containerPoint=this._map.mouseEventToContainerPoint(l),p.latlng=this._map.containerPointToLatLng(p.containerPoint),this._dragMixinOnMouseDown(p),!1},_simulateMouseMoveEvent:function(r){var l=r.touches?r.touches[0]:r,p={originalEvent:l,target:this._layer};return p.containerPoint=this._map.mouseEventToContainerPoint(l),p.latlng=this._map.containerPointToLatLng(p.containerPoint),this._dragMixinOnMouseMove(p),!1},_simulateMouseUpEvent:function(r){var l={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(l.containerPoint=this._map.mouseEventToContainerPoint(r),l.latlng=this._map.containerPointToLatLng(l.containerPoint)),this._dragMixinOnMouseUp(l),!1},_dragMixinOnMouseDown:function(r){if(!(r.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(r);var l=r._fromLayerSync,p=this._syncLayers("_dragMixinOnMouseDown",r);this._layer instanceof L.Marker&&(!this.options.snappable||l||p?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||l||p?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(r){this._overwriteEventIfItComesFromMarker(r);var l=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(l,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(r){var l=this,p=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){l._dragging=!1,p&&L.DomUtil.removeClass(p,"leaflet-pm-dragging"),l._fireDragEnd(),l._fireEdit(),l._layerEdited=!0},10),!0)},_onLayerDrag:function(r){var l=r.latlng,p=l.lat-this._tempDragCoord.lat,y=l.lng-this._tempDragCoord.lng,x=function X(mt){return mt.map(function(ct){if(Array.isArray(ct))return X(ct);var Mt={lat:ct.lat+p,lng:ct.lng+y};return(ct.alt||ct.alt===0)&&(Mt.alt=ct.alt),Mt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var R=x([this._layer.getLatLng()]);this._layer.setLatLng(R[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var N=this._layer.getLatLng();this._layer._snapped&&(N=this._layer._orgLatLng);var $=x([N]);this._layer.setLatLng($[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var H=x([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(H),this._fireChange(this._layer.getBounds(),"Edit")}else{var Z=x(this._layer.getLatLngs());this._layer.setLatLngs(Z),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=l,r.layer=this._layer,this._fireDrag(r)},addDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem:function(){var r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker:function(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers:function(r,l){var p=this;if(this.enabled())return!1;if(!l._fromLayerSync&&this._layer===l.target&&this.options.syncLayersOnDrag){l._fromLayerSync=!0;var y=[];if(L.Util.isArray(this.options.syncLayersOnDrag))y=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(N){N instanceof L.LayerGroup&&(y=y.concat(N.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var x in this._parentLayerGroup){var R=this._parentLayerGroup[x];R.pm&&(y=R.pm.getLayers(!0))}return L.Util.isArray(y)&&y.length>0&&(y=y.filter(function(N){return!!N.pm}).filter(function(N){return!!N.pm.options.draggable})).forEach(function(N){N!==p._layer&&N.pm[r]&&(N._snapped=!1,N.pm[r](l))}),y.length>0}return!1},_stopDOMImageDrag:function(r){return r.preventDefault(),!1}};function Dn(r,l,p){var y=p.getMaxZoom();if(y===1/0&&(y=p.getZoom()),L.Util.isArray(r)){var x=[];return r.forEach(function(R){x.push(Dn(R,l,p))}),x}return r instanceof L.LatLng?function(R,N,$,H){return $.unproject(N.transform($.project(R,H)),H)}(r,l,p,y):null}function Ee(r,l){l instanceof L.Layer&&(l=l.getLatLng());var p=r.getMaxZoom();return p===1/0&&(p=r.getZoom()),r.project(l,p)}function mn(r,l){var p=r.getMaxZoom();return p===1/0&&(p=r.getZoom()),r.unproject(l,p)}var Or={_onRotateStart:function(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Ee(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Ee(this._map,r.target.getLatLng()),this._initialRotateLatLng=Pt(this._layer),this._startAngle=this.getAngle();var l=Pt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,l),this._fireRotationStart(this._map,l)},_onRotate:function(r){var l=Ee(this._map,r.target.getLatLng()),p=this._rotationStartPoint,y=this._rotationOriginPoint,x=Math.atan2(l.y-y.y,l.x-y.x)-Math.atan2(p.y-y.y,p.x-y.x);this._layer.setLatLngs(this._rotateLayer(x,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var R=this;(function Z(X){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ct>-1&&mt.push(ct),L.Util.isArray(X[0]))X.forEach(function(Bt,qt){return Z(Bt,mt.slice(),qt)});else{var Mt=wt()(R._markers,mt);X.forEach(function(Bt,qt){Mt[qt].setLatLng(Bt)})}})(this._layer.getLatLngs());var N=Pt(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(x,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var $=180*x/Math.PI,H=($=$<0?$+360:$)+this._startAngle;this._setAngle(H),this._rotationLayer.pm._setAngle(H),this._fireRotation(this._rotationLayer,$,N),this._fireRotation(this._map,$,N),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var l=Pt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Pt(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,l),this._fireRotationEnd(this._map,r,l),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(r,l,p,y,x){var R=Ee(x,p);return this._matrix=y.clone().rotate(r,R).flip(),Dn(l,this._matrix,x)},_setAngle:function(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter:function(){var r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),l=r.getCenter();return r.removeFrom(this._layer._map),l},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Pt(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(r){var l=this.getAngle(),p=this._layer.getLatLngs(),y=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(y,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(y,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var x=this.getAngle()-l;x=x<0?x+360:x,this._startAngle=l,this._fireRotation(this._layer,x,p,this._layer),this._fireRotation(this._map||this._layer._map,x,p,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(r){var l=r-this.getAngle();this.rotateLayer(l)},getAngle:function(){return this._angle||0},setInitAngle:function(r){this._setAngle(r)}};const Ar=Or,Re=L.Class.extend({includes:[Xr,B,Ar,Et],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(r){L.Util.setOptions(this,r)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(r,l){l==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(r,l){var p=l.target,y={layer:this._layer,marker:p,event:l},x="";return r==="move"?x="moveVertexValidation":r==="add"?x="addVertexValidation":r==="remove"&&(x="removeVertexValidation"),this.options[x]&&typeof this.options[x]=="function"&&!this.options[x](y)?(r==="move"&&(p._cancelDragEventChain=p.getLatLng()),!1):(p._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(r){return!r._cancelDragEventChain||(r._latlng=r._cancelDragEventChain,r.update(),!1)},_vertexValidationDragEnd:function(r){return!r._cancelDragEventChain||(r._cancelDragEventChain=null,!1)}});function zn(r){return function(l){if(Array.isArray(l))return Br(l)}(r)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(r)||function(l,p){if(l){if(typeof l=="string")return Br(l,p);var y=Object.prototype.toString.call(l).slice(8,-1);if(y==="Object"&&l.constructor&&(y=l.constructor.name),y==="Map"||y==="Set")return Array.from(l);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return Br(l,p)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Br(r,l){(l==null||l>r.length)&&(l=r.length);for(var p=0,y=new Array(l);p<l;p++)y[p]=r[p];return y}Re.LayerGroup=L.Class.extend({initialize:function(r){var l=this;this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(p){return l._initLayer(p)}),this._layerGroup.on("layeradd",L.Util.throttle(function(p){if(!p.layer._pmTempLayer){l._layers=l.getLayers();var y=l._layers.filter(function(x){return!x.pm._parentLayerGroup||!(l._layerGroup._leaflet_id in x.pm._parentLayerGroup)});y.forEach(function(x){l._initLayer(x)}),y.length>0&&l._getMap()&&l._getMap().pm.globalEditModeEnabled()&&l.enabled()&&l.enable(l.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(p){l._removeLayerFromGroup(p.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(p){p.target._pmTempLayer||(l._layers=l.getLayers())},100,this),this)},enable:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(p){p instanceof L.LayerGroup?l.indexOf(p._leaflet_id)===-1&&(l.push(p._leaflet_id),p.pm.enable(r,l)):p.pm.enable(r)})},disable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(l){l instanceof L.LayerGroup?r.indexOf(l._leaflet_id)===-1&&(r.push(l._leaflet_id),l.pm.disable(r)):l.pm.disable()})},enabled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers());var l=this._layers.find(function(p){return p instanceof L.LayerGroup?r.indexOf(p._leaflet_id)===-1&&(r.push(p._leaflet_id),p.pm.enabled(r)):p.pm.enabled()});return!!l},toggleEdit:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(p){p instanceof L.LayerGroup?l.indexOf(p._leaflet_id)===-1&&(l.push(p._leaflet_id),p.pm.toggleEdit(r,l)):p.pm.toggleEdit(r)})},_initLayer:function(r){var l=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[l]=this._layerGroup},_removeLayerFromGroup:function(r){if(r.pm&&r.pm._layerGroup){var l=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[l]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var r=this._layers.find(function(l){return l.pm.dragging()});return!!r}return!1},getOptions:function(){return this.options},_getMap:function(){var r;return this._map||((r=this._layers.find(function(l){return!!l._map}))===null||r===void 0?void 0:r._map)||null},getLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],x=[];return r?this._layerGroup.getLayers().forEach(function(R){x.push(R),R instanceof L.LayerGroup&&y.indexOf(R._leaflet_id)===-1&&(y.push(R._leaflet_id),x=x.concat(R.pm.getLayers(!0,!0,!0,y)))}):x=this._layerGroup.getLayers(),p&&(x=x.filter(function(R){return!(R instanceof L.LayerGroup)})),l&&(x=(x=(x=x.filter(function(R){return!!R.pm})).filter(function(R){return!R._pmTempLayer})).filter(function(R){return!L.PM.optIn&&!R.options.pmIgnore||L.PM.optIn&&R.options.pmIgnore===!1})),x},setOptions:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(function(p){p.pm&&(p instanceof L.LayerGroup?l.indexOf(p._leaflet_id)===-1&&(l.push(p._leaflet_id),p.pm.setOptions(r,l)):p.pm.setOptions(r))})}}),Re.Marker=Re.extend({_shape:"Marker",initialize:function(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(r){var l=r.target;l.remove(),this._fireRemove(l),this._fireRemove(this._map,l)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});const ji={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var r=[].concat(zn(this._markerGroup.getLayers()),zn(this.markerCache));this.markerCache=r.filter(function(l,p,y){return y.indexOf(l)===p})},renderLimits:function(r){var l=this;this.markerCache.forEach(function(p){r.includes(p)?l._markerGroup.addLayer(p):l._markerGroup.removeLayer(p)})},applyLimitFilters:function(r){var l=r.latlng,p=l===void 0?{lat:0,lng:0}:l;if(!this._preventRenderMarkers){var y=zn(this._filterClosestMarkers(p));this.renderLimits(y)}},_filterClosestMarkers:function(r){var l=zn(this.markerCache),p=this.options.limitMarkersToCount;return p===-1?l:(l.sort(function(y,x){return y._latlng.distanceTo(r)-x._latlng.distanceTo(r)}),l.filter(function(y,x){return!(p>-1)||x<p}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(r){this._preventRenderMarkers=!!r}};function Qr(r,l){return function(p){if(Array.isArray(p))return p}(r)||function(p,y){var x=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(x!=null){var R,N,$=[],H=!0,Z=!1;try{for(x=x.call(p);!(H=(R=x.next()).done)&&($.push(R.value),!y||$.length!==y);H=!0);}catch(X){Z=!0,N=X}finally{try{H||x.return==null||x.return()}finally{if(Z)throw N}}return $}}(r,l)||function(p,y){if(p){if(typeof p=="string")return ti(p,y);var x=Object.prototype.toString.call(p).slice(8,-1);if(x==="Object"&&p.constructor&&(x=p.constructor.name),x==="Map"||x==="Set")return Array.from(p);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return ti(p,y)}}(r,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ti(r,l){(l==null||l>r.length)&&(l=r.length);for(var p=0,y=new Array(l);p<l;p++)y[p]=r[p];return y}function Ni(r){return function(l){if(Array.isArray(l))return ur(l)}(r)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(r)||function(l,p){if(l){if(typeof l=="string")return ur(l,p);var y=Object.prototype.toString.call(l).slice(8,-1);if(y==="Object"&&l.constructor&&(y=l.constructor.name),y==="Map"||y==="Set")return Array.from(l);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return ur(l,p)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ur(r,l){(l==null||l>r.length)&&(l=r.length);for(var p=0,y=new Array(l);p<l;p++)y[p]=r[p];return y}Re.Line=Re.extend({includes:[ji],_shape:"Line",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(r,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var r=this,l=this._map,p=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function y(x){if(Array.isArray(x[0]))return x.map(y,r);var R=x.map(r._createMarker,r);return r.options.hideMiddleMarkers!==!0&&x.map(function(N,$){var H=r.isPolygon()?($+1)%x.length:$+1;return r._createMiddleMarker(R[$],R[H])}),R}(p),this.filterMarkerGroup(),l.addLayer(this._markerGroup)},_createMarker:function(r){var l=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this.options.rotate?(l.on("dragstart",this._onRotateStart,this),l.on("drag",this._onRotate,this),l.on("dragend",this._onRotateEnd,this)):(l.on("click",this._onVertexClick,this),l.on("dragstart",this._onMarkerDragStart,this),l.on("move",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||l.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(l),l},_createMiddleMarker:function(r,l){if(!r||!l)return!1;var p=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),l.getLatLng()),y=this._createMarker(p),x=L.divIcon({className:"marker-icon marker-icon-middle"});return y.setIcon(x),y.leftM=r,y.rightM=l,r._middleMarkerNext=y,l._middleMarkerPrev=y,y.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),y.on("movestart",this._onMiddleMarkerMoveStart,this),y},_onMiddleMarkerClick:function(r){var l=r.target;if(this._vertexValidation("add",r)){var p=L.divIcon({className:"marker-icon"});l.setIcon(p),this._addMarker(l,l.leftM,l.rightM)}},_onMiddleMarkerMoveStart:function(r){var l=r.target;l.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",r)?(l._dragging=!0,this._addMarker(l,l.leftM,l.rightM)):l.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(r){var l=r.target;this._vertexValidationDrag(l)},_onMiddleMarkerMoveEnd:function(r){var l=r.target;if(l.off("move",this._onMiddleMarkerMovePrevent,this),l.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(l)){var p=L.divIcon({className:"marker-icon"});l.setIcon(p),setTimeout(function(){delete l._dragging},100)}},_addMarker:function(r,l,p){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var y=r.getLatLng(),x=this._layer._latlngs;delete r.leftM,delete r.rightM;var R=L.PM.Utils.findDeepMarkerIndex(this._markers,l),N=R.indexPath,$=R.index,H=R.parentPath,Z=N.length>1?wt()(x,H):x,X=N.length>1?wt()(this._markers,H):this._markers;Z.splice($+1,0,y),X.splice($+1,0,r),this._layer.setLatLngs(x),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(l,r),this._createMiddleMarker(r,p)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,y),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return he(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(r){var l=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;r?this._flashLayer():(l.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(he(this._layer.toGeoJSON(15)))}else l.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var r=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){r._layer.setStyle({color:r.cachedColor}),r.isRed=!1},200)},_updateDisabledMarkerStyle:function(r,l){var p=this;r.forEach(function(y){Array.isArray(y)?p._updateDisabledMarkerStyle(y,l):y._icon&&(l&&!p._checkMarkerAllowedToDrag(y)?L.DomUtil.addClass(y._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(y._icon,"vertexmarker-disabled"))})},_removeMarker:function(r){var l=r.target;if(this._vertexValidation("remove",r)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Pt(this._layer,this._layer.getLatLngs()));var p=this._layer.getLatLngs(),y=L.PM.Utils.findDeepMarkerIndex(this._markers,l),x=y.indexPath,R=y.index,N=y.parentPath;if(x){var $=x.length>1?wt()(p,N):p,H=x.length>1?wt()(this._markers,N):this._markers;if(this.options.removeLayerBelowMinVertexCount||!($.length<=2||this.isPolygon()&&$.length<=3)){$.splice(R,1),this._layer.setLatLngs(p),this.isPolygon()&&$.length<=2&&$.splice(0,$.length);var Z=!1;if($.length<=1&&($.splice(0,$.length),N.length>1&&x.length>1&&(p=Me(p)),this._layer.setLatLngs(p),this._initMarkers(),Z=!0),Vt(p)||this._layer.remove(),p=Me(p),this._layer.setLatLngs(p),this._markers=Me(this._markers),!Z&&(H=x.length>1?wt()(this._markers,N):this._markers,l._middleMarkerPrev&&this._markerGroup.removeLayer(l._middleMarkerPrev),l._middleMarkerNext&&this._markerGroup.removeLayer(l._middleMarkerNext),this._markerGroup.removeLayer(l),H)){var X,mt;if(this.isPolygon()?(X=(R+1)%H.length,mt=(R+(H.length-1))%H.length):(mt=R-1<0?void 0:R-1,X=R+1>=H.length?void 0:R+1),X!==mt){var ct=H[mt],Mt=H[X];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ct,Mt)}H.splice(R,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(l,x),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(r){var l=this._layer.getLatLngs(),p=r.getLatLng(),y=L.PM.Utils.findDeepMarkerIndex(this._markers,r),x=y.indexPath,R=y.index,N=y.parentPath;(x.length>1?wt()(l,N):l).splice(R,1,p),this._layer.setLatLngs(l)},_getNeighborMarkers:function(r){var l=L.PM.Utils.findDeepMarkerIndex(this._markers,r),p=l.indexPath,y=l.index,x=l.parentPath,R=p.length>1?wt()(this._markers,x):this._markers,N=(y+1)%R.length;return{prevMarker:R[(y+(R.length-1))%R.length],nextMarker:R[N]}},_checkMarkerAllowedToDrag:function(r){var l=this._getNeighborMarkers(r),p=l.prevMarker,y=l.nextMarker,x=L.polyline([p.getLatLng(),r.getLatLng()]),R=L.polyline([r.getLatLng(),y.getLatLng()]),N=Rn(this._layer.toGeoJSON(15),x.toGeoJSON(15)).features.length,$=Rn(this._layer.toGeoJSON(15),R.toGeoJSON(15)).features.length;return r.getLatLng()===this._markers[0][0].getLatLng()?$+=1:r.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(N+=1),!(N<=2&&$<=2)},_onMarkerDragStart:function(r){var l=r.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",r)){var p=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath;this._fireMarkerDragStart(r,p),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Pt(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(l):this._markerAllowedToDrag=null}},_onMarkerDrag:function(r){var l=r.target;if(this._vertexValidationDrag(l)){var p=L.PM.Utils.findDeepMarkerIndex(this._markers,l),y=p.indexPath,x=p.index,R=p.parentPath;if(y){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(l);var N=y.length>1?wt()(this._markers,R):this._markers,$=(x+1)%N.length,H=(x+(N.length-1))%N.length,Z=l.getLatLng(),X=N[H].getLatLng(),mt=N[$].getLatLng();if(l._middleMarkerNext){var ct=L.PM.Utils.calcMiddleLatLng(this._map,Z,mt);l._middleMarkerNext.setLatLng(ct)}if(l._middleMarkerPrev){var Mt=L.PM.Utils.calcMiddleLatLng(this._map,Z,X);l._middleMarkerPrev.setLatLng(Mt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,y),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(r){var l=r.target;if(this._vertexValidationDragEnd(l)){var p=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath,y=this.hasSelfIntersection();y&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(y=!1);var x=!this.options.allowSelfIntersection&&y;if(this._fireMarkerDragEnd(r,p,x),x)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(r,p);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(r){var l=r.target;if(!l._dragging){var p=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath;this._fireVertexClick(r,p)}}}),Re.Polygon=Re.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(r){var l=this._getNeighborMarkers(r),p=l.prevMarker,y=l.nextMarker,x=L.polyline([p.getLatLng(),r.getLatLng()]),R=L.polyline([r.getLatLng(),y.getLatLng()]),N=Rn(this._layer.toGeoJSON(15),x.toGeoJSON(15)).features.length,$=Rn(this._layer.toGeoJSON(15),R.toGeoJSON(15)).features.length;return!(N<=2&&$<=2)}}),Re.Rectangle=Re.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var r=this,l=this._map,p=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,l.addLayer(this._markerGroup),this._markers=[],this._markers[0]=p.map(this._createMarker,this);var y=Qr(this._markers,1);this._cornerMarkers=y[0],this._layer.getLatLngs()[0].forEach(function(x,R){var N=r._cornerMarkers.find(function($){return $._index===R});N&&N.setLatLng(x)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(r,l){var p=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._origLatLng=r,p._index=l,p._pmTempLayer=!0,this._markerGroup.addLayer(p),p},_addMarkerEvents:function(){var r=this;this._markers[0].forEach(function(l){l.on("dragstart",r._onMarkerDragStart,r),l.on("drag",r._onMarkerDrag,r),l.on("dragend",r._onMarkerDragEnd,r),r.options.preventMarkerRemoval||l.on("contextmenu",r._removeMarker,r)})},_removeMarker:function(){return null},_onMarkerDragStart:function(r){if(this._vertexValidation("move",r)){var l=r.target,p=this._cornerMarkers;l._oppositeCornerLatLng=p.find(function(y){return y._index===(l._index+2)%4}).getLatLng(),l._snapped=!1,this._fireMarkerDragStart(r)}},_onMarkerDrag:function(r){var l=r.target;this._vertexValidationDrag(l)&&l._index!==void 0&&(this._adjustRectangleForMarkerMove(l),this._fireMarkerDrag(r),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(r){var l=r.target;this._vertexValidationDragEnd(l)&&(this._cornerMarkers.forEach(function(p){delete p._oppositeCornerLatLng}),this._fireMarkerDragEnd(r),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(r){L.extend(r._origLatLng,r._latlng);var l=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(l),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var r=this,l=this._layer.getLatLngs()[0];l&&l.length!==4&&l.length>0?(l.forEach(function(p,y){r._cornerMarkers[y].setLatLng(p)}),this._cornerMarkers.slice(l.length).forEach(function(p){p.setLatLng(l[0])})):l&&l.length?this._cornerMarkers.forEach(function(p){p.setLatLng(l[p._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this._angle||0,this._map)}}),Re.Circle=Re.extend({_shape:"Circle",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var l=this._layer.getLatLng(),p=this._layer._radius,y=this._getLatLngOnCircle(l,p);this._centerMarker=this._createCenterMarker(l),this._outerMarker=this._createOuterMarker(y),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(r,l){var p=r.getLatLng(),y=l.getLatLng();this._hintline=L.polyline([p,y],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var l=this._createMarker(r);return L.DomUtil.addClass(l._icon,"leaflet-pm-draggable"),l.on("drag",this._moveCircle,this),l.on("dragstart",this._onCircleDragStart,this),l.on("drag",this._onCircleDrag,this),l.on("dragend",this._onCircleDragEnd,this),l},_createOuterMarker:function(r){var l=this._createMarker(r);return l.on("drag",this._resizeCircle,this),l},_createMarker:function(r){var l=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._origLatLng=r,l._pmTempLayer=!0,l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(l),l},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(r){if(!r.target._cancelDragEventChain){var l=r.latlng;this._layer.setLatLng(l);var p=this._layer._radius,y=this._getLatLngOnCircle(l,p);this._outerMarker._latlng=y,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),p=this._map.distance(r,l);this.options.minRadiusCircle&&p<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(p),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,l])},_disableSnapping:function(){var r=this;this._markers.forEach(function(l){l.off("move",r._syncHintLine,r),l.off("move",r._syncCircleRadius,r),l.off("drag",r._handleSnapping,r),l.off("dragend",r._cleanupSnapping,r)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var l=r.target;this._vertexValidationDrag(l)&&this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){var l=r.target;this._vertexValidationDragEnd(l)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(r))},_onCircleDragStart:function(r){this._vertexValidationDrag(r.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(r){this._vertexValidationReset||this._fireDrag(r)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(r,l){var p=this._map.project(r),y=L.point(p.x+l,p.y);return this._map.unproject(y)},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),p=this._map.distance(r,l);return this.options.minRadiusCircle&&p<this.options.minRadiusCircle?l=Ft(this._map,r,l,this.options.minRadiusCircle):this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle&&(l=Ft(this._map,r,l,this.options.maxRadiusCircle)),l},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),p=this._map.distance(r,l);(this.options.minRadiusCircle&&p<this.options.minRadiusCircle||this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Re.CircleMarker=Re.extend({_shape:"CircleMarker",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var l=this._layer.getLatLng(),p=this._layer._radius,y=this._getLatLngOnCircle(l,p);this._centerMarker=this._createCenterMarker(l),this._outerMarker=this._createOuterMarker(y),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(r,l){var p=this._map.project(r),y=L.point(p.x+l,p.y);return this._map.unproject(y)},_createHintLine:function(r,l){var p=r.getLatLng(),y=l.getLatLng();this._hintline=L.polyline([p,y],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var l=this._createMarker(r);return this.options.draggable?L.DomUtil.addClass(l._icon,"leaflet-pm-draggable"):l.dragging.disable(),l},_createOuterMarker:function(r){var l=this._createMarker(r);return l.on("drag",this._resizeCircle,this),l},_createMarker:function(r){var l=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._origLatLng=r,l._pmTempLayer=!0,l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(l),l},_moveCircle:function(){var r=this._centerMarker.getLatLng();this._layer.setLatLng(r);var l=this._layer._radius,p=this._getLatLngOnCircle(r,l);this._outerMarker._latlng=p,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var r=this._layer.getLatLng(),l=this._layer._radius,p=this._getLatLngOnCircle(r,l);this._outerMarker.setLatLng(p),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(l));this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(p),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,l])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var l=r.target;l instanceof L.Marker&&!this._vertexValidationDrag(l)||this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var l=r.target;this._vertexValidationDragEnd(l)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_initSnappableMarkersDrag:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var r=this._layer._map||this._map;if(r){var l=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),p=L.circle(this._layer.getLatLng(),this._layer.options);p.setRadius(l);var y=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(p,200,!y).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(p,200,!y),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(l));return this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker?l=Ft(this._map,r,l,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,r)):this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker&&(l=Ft(this._map,r,l,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,r))),l},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(l));(this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Re.ImageOverlay=Re.extend({_shape:"ImageOverlay",initialize:function(r){this._layer=r,this._enabled=!1},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},enabled:function(){return this._enabled},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]}}),Re.Text=Re.extend({_shape:"Text",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,l=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(r,"px"),this.textArea.style.width="".concat(l,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var r=this;this._disableOnBlurActive=!0,setTimeout(function(){r.enabled()&&L.DomEvent.on(document,"click",r._documentClick,r)},100)},_documentClick:function(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=this._hasFocus;this._hasFocus=r.type==="focus",!l!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(r){this.textArea.value=r,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var r,l=this.options.className.split(" ");(r=this.textArea.classList).add.apply(r,Ni(l))}var p=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(p),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(r){r.preventDefault()}});var ei=function(r,l,p,y,x,R){this._matrix=[r,l,p,y,x,R]};ei.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},ei.prototype={transform:function(r){return this._transform(r.clone())},_transform:function(r){var l=this._matrix,p=r.x,y=r.y;return r.x=l[0]*p+l[1]*y+l[4],r.y=l[2]*p+l[3]*y+l[5],r},untransform:function(r){var l=this._matrix;return new L.Point((r.x/l[0]-l[4])/l[0],(r.y/l[2]-l[5])/l[2])},clone:function(){var r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate:function(r){return r===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof r=="number"?(l=r,p=r):(l=r.x,p=r.y),this._add(1,0,0,1,l,p));var l,p},scale:function(r,l){return r===void 0?new L.Point(this._matrix[0],this._matrix[3]):(l=l||L.point(0,0),typeof r=="number"?(p=r,y=r):(p=r.x,y=r.y),this._add(p,0,0,y,l.x,l.y)._add(1,0,0,1,-l.x,-l.y));var p,y},rotate:function(r,l){var p=Math.cos(r),y=Math.sin(r);return l=l||new L.Point(0,0),this._add(p,y,-y,p,l.x,l.y)._add(1,0,0,1,-l.x,-l.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(r,l,p,y,x,R){var N,$=[[],[],[]],H=this._matrix,Z=[[H[0],H[2],H[4]],[H[1],H[3],H[5]],[0,0,1]],X=[[r,p,x],[l,y,R],[0,0,1]];r&&r instanceof L.PM.Matrix&&(X=[[(H=r._matrix)[0],H[2],H[4]],[H[1],H[3],H[5]],[0,0,1]]);for(var mt=0;mt<3;mt+=1)for(var ct=0;ct<3;ct+=1){N=0;for(var Mt=0;Mt<3;Mt+=1)N+=Z[mt][Mt]*X[Mt][ct];$[mt][ct]=N}return this._matrix=[$[0][0],$[1][0],$[0][1],$[1][1],$[0][2],$[1][2]],this}};const Fi=ei;var Vs={calcMiddleLatLng:function(r,l,p){var y=r.project(l),x=r.project(p);return r.unproject(y._add(x)._divideBy(2))},findLayers:function(r){var l=[];return r.eachLayer(function(p){(p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.Circle||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&l.push(p)}),l=(l=(l=l.filter(function(p){return!!p.pm})).filter(function(p){return!p._pmTempLayer})).filter(function(p){return!L.PM.optIn&&!p.options.pmIgnore||L.PM.optIn&&p.options.pmIgnore===!1})},circleToPolygon:function(r){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],y=r.getLatLng(),x=r.getRadius(),R=le(y,x,l,0,p),N=[],$=0;$<R.length;$+=1){var H=[R[$].lat,R[$].lng];N.push(H)}return L.polygon(N,r.options)},disablePopup:function(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup:function(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent:function(r,l,p){var y=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.fire(l,p,y);var x=this.getAllParentGroups(r),R=x.groups;R.forEach(function(N){N.fire(l,p,y)})},getAllParentGroups:function(r){var l=[],p=[];return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(function y(x){for(var R in x._eventParents)if(l.indexOf(R)===-1){l.push(R);var N=x._eventParents[R];p.push(N),y(N)}}(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:p,groupIds:l},{groupIds:l,groups:p}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:le,getTranslation:Rt,findDeepCoordIndex:function(r,l){var p,y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],x=function N($){return function(H,Z){var X=$.concat(Z);if(y){if(H.lat&&H.lat===l.lat&&H.lng===l.lng)return p=X,!0}else if(H.lat&&L.latLng(H).equals(l))return p=X,!0;return Array.isArray(H)&&H.some(N(X))}};r.some(x([]));var R={};return p&&(R={indexPath:p,index:p[p.length-1],parentPath:p.slice(0,p.length-1)}),R},findDeepMarkerIndex:function(r,l){var p;r.some(function x(R){return function(N,$){var H=R.concat($);return N._leaflet_id===l._leaflet_id?(p=H,!0):Array.isArray(N)&&N.some(x(H))}}([]));var y={};return p&&(y={indexPath:p,index:p[p.length-1],parentPath:p.slice(0,p.length-1)}),y},_getIndexFromSegment:function(r,l){if(l&&l.length===2){var p=this.findDeepCoordIndex(r,l[0]),y=this.findDeepCoordIndex(r,l[1]),x=Math.max(p.index,y.index);return p.index!==0&&y.index!==0||x===1||(x+=1),{indexA:p,indexB:y,newIndex:x,indexPath:p.indexPath,parentPath:p.parentPath}}return null},_getRotatedRectangle:function(r,l,p,y){var x=Ee(y,r),R=Ee(y,l),N=p*Math.PI/180,$=Math.cos(N),H=Math.sin(N),Z=(R.x-x.x)*$+(R.y-x.y)*H,X=(R.y-x.y)*$-(R.x-x.x)*H,mt=Z*$+x.x,ct=Z*H+x.y,Mt=-X*H+x.x,Bt=X*$+x.y;return[mn(y,x),mn(y,{x:mt,y:ct}),mn(y,R),mn(y,{x:Mt,y:Bt})]},pxRadiusToMeterRadius:function(r,l,p){var y=l.project(p),x=L.point(y.x+r,y.y);return l.distance(l.unproject(x),p)}};const ee=Vs;L.PM=L.PM||{version:"2.14.2",Map:ue,Toolbar:xt,Draw:D,Edit:Re,Utils:ee,Matrix:Fi,activeLang:"en",optIn:!1,initialize:function(r){this.addInitHooks(r)},setOptIn:function(r){this.optIn=!!r},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(r){var l=this;r instanceof L.LayerGroup&&r.eachLayer(function(p){l.reInitLayer(p)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(r){for(var l,p,y=this._map.mouseEventToLayerPoint(r),x=this._drawFirst;x;x=x.next)(l=x.layer).options.interactive&&l._containsPoint(y)&&(r.type!=="click"&&r.type!=="preclick"||!this._map._draggableMoved(l))&&(p=l);p&&(L.DomEvent.fakeStop(r),this._fireEvent([p],r))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(s){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var c=Object(this),i=c.length>>>0,u=arguments[1],d=0;d<i;d++)if(s.call(u,c[d],d,c))return d;return-1},Array.prototype.find=Array.prototype.find||function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var c=Object(this),i=c.length>>>0,u=arguments[1],d=0;d<i;d++){var f=c[d];if(s.call(u,f,d,c))return f}},typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");s=Object(s);for(var c=1;c<arguments.length;c++){var i=arguments[c];if(i!=null)for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(s[u]=i[u])}return s}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(s){s.hasOwnProperty("remove")||Object.defineProperty(s,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,c){if(this==null)throw new TypeError('"this" is null or not defined');var i=Object(this),u=i.length>>>0;if(u===0)return!1;for(var d,f,m=0|c,_=Math.max(m>=0?m:u-Math.abs(m),0);_<u;){if((d=i[_])===(f=s)||typeof d=="number"&&typeof f=="number"&&isNaN(d)&&isNaN(f))return!0;_++}return!1}})},1787:(s,c,i)=>{var u=i(2582),d=i(4102),f=i(1540),m=i(9705).Z,_=f.featureEach,v=(f.coordEach,d.polygon,d.featureCollection);function M(A){var C=new u(A);return C.insert=function(S){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:m(S),u.prototype.insert.call(this,S)},C.load=function(S){var V=[];return Array.isArray(S)?S.forEach(function(P){if(P.type!=="Feature")throw new Error("invalid features");P.bbox=P.bbox?P.bbox:m(P),V.push(P)}):_(S,function(P){if(P.type!=="Feature")throw new Error("invalid features");P.bbox=P.bbox?P.bbox:m(P),V.push(P)}),u.prototype.load.call(this,V)},C.remove=function(S,V){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:m(S),u.prototype.remove.call(this,S,V)},C.clear=function(){return u.prototype.clear.call(this)},C.search=function(S){var V=u.prototype.search.call(this,this.toBBox(S));return v(V)},C.collides=function(S){return u.prototype.collides.call(this,this.toBBox(S))},C.all=function(){var S=u.prototype.all.call(this);return v(S)},C.toJSON=function(){return u.prototype.toJSON.call(this)},C.fromJSON=function(S){return u.prototype.fromJSON.call(this,S)},C.toBBox=function(S){var V;if(S.bbox)V=S.bbox;else if(Array.isArray(S)&&S.length===4)V=S;else if(Array.isArray(S)&&S.length===6)V=[S[0],S[1],S[3],S[4]];else if(S.type==="Feature")V=m(S);else{if(S.type!=="FeatureCollection")throw new Error("invalid geojson");V=m(S)}return{minX:V[0],minY:V[1],maxX:V[2],maxY:V[3]}},C}s.exports=M,s.exports.default=M},1989:(s,c,i)=>{var u=i(1789),d=i(401),f=i(7667),m=i(1327),_=i(1866);function v(M){var A=-1,C=M==null?0:M.length;for(this.clear();++A<C;){var S=M[A];this.set(S[0],S[1])}}v.prototype.clear=u,v.prototype.delete=d,v.prototype.get=f,v.prototype.has=m,v.prototype.set=_,s.exports=v},8407:(s,c,i)=>{var u=i(7040),d=i(4125),f=i(2117),m=i(7518),_=i(4705);function v(M){var A=-1,C=M==null?0:M.length;for(this.clear();++A<C;){var S=M[A];this.set(S[0],S[1])}}v.prototype.clear=u,v.prototype.delete=d,v.prototype.get=f,v.prototype.has=m,v.prototype.set=_,s.exports=v},7071:(s,c,i)=>{var u=i(852)(i(5639),"Map");s.exports=u},3369:(s,c,i)=>{var u=i(4785),d=i(1285),f=i(6e3),m=i(9916),_=i(5265);function v(M){var A=-1,C=M==null?0:M.length;for(this.clear();++A<C;){var S=M[A];this.set(S[0],S[1])}}v.prototype.clear=u,v.prototype.delete=d,v.prototype.get=f,v.prototype.has=m,v.prototype.set=_,s.exports=v},6384:(s,c,i)=>{var u=i(8407),d=i(7465),f=i(3779),m=i(7599),_=i(4758),v=i(4309);function M(A){var C=this.__data__=new u(A);this.size=C.size}M.prototype.clear=d,M.prototype.delete=f,M.prototype.get=m,M.prototype.has=_,M.prototype.set=v,s.exports=M},2705:(s,c,i)=>{var u=i(5639).Symbol;s.exports=u},1149:(s,c,i)=>{var u=i(5639).Uint8Array;s.exports=u},6874:s=>{s.exports=function(c,i,u){switch(u.length){case 0:return c.call(i);case 1:return c.call(i,u[0]);case 2:return c.call(i,u[0],u[1]);case 3:return c.call(i,u[0],u[1],u[2])}return c.apply(i,u)}},4636:(s,c,i)=>{var u=i(2545),d=i(5694),f=i(1469),m=i(4144),_=i(5776),v=i(6719),M=Object.prototype.hasOwnProperty;s.exports=function(A,C){var S=f(A),V=!S&&d(A),P=!S&&!V&&m(A),O=!S&&!V&&!P&&v(A),j=S||V||P||O,T=j?u(A.length,String):[],z=T.length;for(var W in A)!C&&!M.call(A,W)||j&&(W=="length"||P&&(W=="offset"||W=="parent")||O&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||_(W,z))||T.push(W);return T}},9932:s=>{s.exports=function(c,i){for(var u=-1,d=c==null?0:c.length,f=Array(d);++u<d;)f[u]=i(c[u],u,c);return f}},6556:(s,c,i)=>{var u=i(9465),d=i(7813);s.exports=function(f,m,_){(_!==void 0&&!d(f[m],_)||_===void 0&&!(m in f))&&u(f,m,_)}},4865:(s,c,i)=>{var u=i(9465),d=i(7813),f=Object.prototype.hasOwnProperty;s.exports=function(m,_,v){var M=m[_];f.call(m,_)&&d(M,v)&&(v!==void 0||_ in m)||u(m,_,v)}},8470:(s,c,i)=>{var u=i(7813);s.exports=function(d,f){for(var m=d.length;m--;)if(u(d[m][0],f))return m;return-1}},9465:(s,c,i)=>{var u=i(8777);s.exports=function(d,f,m){f=="__proto__"&&u?u(d,f,{configurable:!0,enumerable:!0,value:m,writable:!0}):d[f]=m}},3118:(s,c,i)=>{var u=i(3218),d=Object.create,f=function(){function m(){}return function(_){if(!u(_))return{};if(d)return d(_);m.prototype=_;var v=new m;return m.prototype=void 0,v}}();s.exports=f},8483:(s,c,i)=>{var u=i(5063)();s.exports=u},7786:(s,c,i)=>{var u=i(1811),d=i(327);s.exports=function(f,m){for(var _=0,v=(m=u(m,f)).length;f!=null&&_<v;)f=f[d(m[_++])];return _&&_==v?f:void 0}},4239:(s,c,i)=>{var u=i(2705),d=i(9607),f=i(2333),m=u?u.toStringTag:void 0;s.exports=function(_){return _==null?_===void 0?"[object Undefined]":"[object Null]":m&&m in Object(_)?d(_):f(_)}},8565:s=>{var c=Object.prototype.hasOwnProperty;s.exports=function(i,u){return i!=null&&c.call(i,u)}},9454:(s,c,i)=>{var u=i(4239),d=i(7005);s.exports=function(f){return d(f)&&u(f)=="[object Arguments]"}},8458:(s,c,i)=>{var u=i(3560),d=i(5346),f=i(3218),m=i(346),_=/^\[object .+?Constructor\]$/,v=Function.prototype,M=Object.prototype,A=v.toString,C=M.hasOwnProperty,S=RegExp("^"+A.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=function(V){return!(!f(V)||d(V))&&(u(V)?S:_).test(m(V))}},8749:(s,c,i)=>{var u=i(4239),d=i(1780),f=i(7005),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,s.exports=function(_){return f(_)&&d(_.length)&&!!m[u(_)]}},313:(s,c,i)=>{var u=i(3218),d=i(5726),f=i(3498),m=Object.prototype.hasOwnProperty;s.exports=function(_){if(!u(_))return f(_);var v=d(_),M=[];for(var A in _)(A!="constructor"||!v&&m.call(_,A))&&M.push(A);return M}},2980:(s,c,i)=>{var u=i(6384),d=i(6556),f=i(8483),m=i(9783),_=i(3218),v=i(1704),M=i(6390);s.exports=function A(C,S,V,P,O){C!==S&&f(S,function(j,T){if(O||(O=new u),_(j))m(C,S,T,V,A,P,O);else{var z=P?P(M(C,T),j,T+"",C,S,O):void 0;z===void 0&&(z=j),d(C,T,z)}},v)}},9783:(s,c,i)=>{var u=i(6556),d=i(4626),f=i(7133),m=i(278),_=i(8517),v=i(5694),M=i(1469),A=i(9246),C=i(4144),S=i(3560),V=i(3218),P=i(8630),O=i(6719),j=i(6390),T=i(9881);s.exports=function(z,W,ot,Y,st,ut,gt){var at=j(z,ot),bt=j(W,ot),kt=gt.get(bt);if(kt)u(z,ot,kt);else{var Et=ut?ut(at,bt,ot+"",z,W,gt):void 0,Ct=Et===void 0;if(Ct){var Ht=M(bt),wt=!Ht&&C(bt),pe=!Ht&&!wt&&O(bt);Et=bt,Ht||wt||pe?M(at)?Et=at:A(at)?Et=m(at):wt?(Ct=!1,Et=d(bt,!0)):pe?(Ct=!1,Et=f(bt,!0)):Et=[]:P(bt)||v(bt)?(Et=at,v(at)?Et=T(at):V(at)&&!S(at)||(Et=_(bt))):Ct=!1}Ct&&(gt.set(bt,Et),st(Et,bt,Y,ut,gt),gt.delete(bt)),u(z,ot,Et)}}},5976:(s,c,i)=>{var u=i(6557),d=i(5357),f=i(61);s.exports=function(m,_){return f(d(m,_,u),m+"")}},6560:(s,c,i)=>{var u=i(5703),d=i(8777),f=i(6557),m=d?function(_,v){return d(_,"toString",{configurable:!0,enumerable:!1,value:u(v),writable:!0})}:f;s.exports=m},2545:s=>{s.exports=function(c,i){for(var u=-1,d=Array(c);++u<c;)d[u]=i(u);return d}},531:(s,c,i)=>{var u=i(2705),d=i(9932),f=i(1469),m=i(3448),_=u?u.prototype:void 0,v=_?_.toString:void 0;s.exports=function M(A){if(typeof A=="string")return A;if(f(A))return d(A,M)+"";if(m(A))return v?v.call(A):"";var C=A+"";return C=="0"&&1/A==-1/0?"-0":C}},1717:s=>{s.exports=function(c){return function(i){return c(i)}}},1811:(s,c,i)=>{var u=i(1469),d=i(5403),f=i(5514),m=i(9833);s.exports=function(_,v){return u(_)?_:d(_,v)?[_]:f(m(_))}},4318:(s,c,i)=>{var u=i(1149);s.exports=function(d){var f=new d.constructor(d.byteLength);return new u(f).set(new u(d)),f}},4626:(s,c,i)=>{s=i.nmd(s);var u=i(5639),d=c&&!c.nodeType&&c,f=d&&s&&!s.nodeType&&s,m=f&&f.exports===d?u.Buffer:void 0,_=m?m.allocUnsafe:void 0;s.exports=function(v,M){if(M)return v.slice();var A=v.length,C=_?_(A):new v.constructor(A);return v.copy(C),C}},7133:(s,c,i)=>{var u=i(4318);s.exports=function(d,f){var m=f?u(d.buffer):d.buffer;return new d.constructor(m,d.byteOffset,d.length)}},278:s=>{s.exports=function(c,i){var u=-1,d=c.length;for(i||(i=Array(d));++u<d;)i[u]=c[u];return i}},8363:(s,c,i)=>{var u=i(4865),d=i(9465);s.exports=function(f,m,_,v){var M=!_;_||(_={});for(var A=-1,C=m.length;++A<C;){var S=m[A],V=v?v(_[S],f[S],S,_,f):void 0;V===void 0&&(V=f[S]),M?d(_,S,V):u(_,S,V)}return _}},4429:(s,c,i)=>{var u=i(5639)["__core-js_shared__"];s.exports=u},1463:(s,c,i)=>{var u=i(5976),d=i(6612);s.exports=function(f){return u(function(m,_){var v=-1,M=_.length,A=M>1?_[M-1]:void 0,C=M>2?_[2]:void 0;for(A=f.length>3&&typeof A=="function"?(M--,A):void 0,C&&d(_[0],_[1],C)&&(A=M<3?void 0:A,M=1),m=Object(m);++v<M;){var S=_[v];S&&f(m,S,v,A)}return m})}},5063:s=>{s.exports=function(c){return function(i,u,d){for(var f=-1,m=Object(i),_=d(i),v=_.length;v--;){var M=_[c?v:++f];if(u(m[M],M,m)===!1)break}return i}}},8777:(s,c,i)=>{var u=i(852),d=function(){try{var f=u(Object,"defineProperty");return f({},"",{}),f}catch{}}();s.exports=d},1957:(s,c,i)=>{var u=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g;s.exports=u},5050:(s,c,i)=>{var u=i(7019);s.exports=function(d,f){var m=d.__data__;return u(f)?m[typeof f=="string"?"string":"hash"]:m.map}},852:(s,c,i)=>{var u=i(8458),d=i(7801);s.exports=function(f,m){var _=d(f,m);return u(_)?_:void 0}},5924:(s,c,i)=>{var u=i(5569)(Object.getPrototypeOf,Object);s.exports=u},9607:(s,c,i)=>{var u=i(2705),d=Object.prototype,f=d.hasOwnProperty,m=d.toString,_=u?u.toStringTag:void 0;s.exports=function(v){var M=f.call(v,_),A=v[_];try{v[_]=void 0;var C=!0}catch{}var S=m.call(v);return C&&(M?v[_]=A:delete v[_]),S}},7801:s=>{s.exports=function(c,i){return c==null?void 0:c[i]}},222:(s,c,i)=>{var u=i(1811),d=i(5694),f=i(1469),m=i(5776),_=i(1780),v=i(327);s.exports=function(M,A,C){for(var S=-1,V=(A=u(A,M)).length,P=!1;++S<V;){var O=v(A[S]);if(!(P=M!=null&&C(M,O)))break;M=M[O]}return P||++S!=V?P:!!(V=M==null?0:M.length)&&_(V)&&m(O,V)&&(f(M)||d(M))}},1789:(s,c,i)=>{var u=i(4536);s.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:s=>{s.exports=function(c){var i=this.has(c)&&delete this.__data__[c];return this.size-=i?1:0,i}},7667:(s,c,i)=>{var u=i(4536),d=Object.prototype.hasOwnProperty;s.exports=function(f){var m=this.__data__;if(u){var _=m[f];return _==="__lodash_hash_undefined__"?void 0:_}return d.call(m,f)?m[f]:void 0}},1327:(s,c,i)=>{var u=i(4536),d=Object.prototype.hasOwnProperty;s.exports=function(f){var m=this.__data__;return u?m[f]!==void 0:d.call(m,f)}},1866:(s,c,i)=>{var u=i(4536);s.exports=function(d,f){var m=this.__data__;return this.size+=this.has(d)?0:1,m[d]=u&&f===void 0?"__lodash_hash_undefined__":f,this}},8517:(s,c,i)=>{var u=i(3118),d=i(5924),f=i(5726);s.exports=function(m){return typeof m.constructor!="function"||f(m)?{}:u(d(m))}},5776:s=>{var c=/^(?:0|[1-9]\d*)$/;s.exports=function(i,u){var d=typeof i;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&c.test(i))&&i>-1&&i%1==0&&i<u}},6612:(s,c,i)=>{var u=i(7813),d=i(8612),f=i(5776),m=i(3218);s.exports=function(_,v,M){if(!m(M))return!1;var A=typeof v;return!!(A=="number"?d(M)&&f(v,M.length):A=="string"&&v in M)&&u(M[v],_)}},5403:(s,c,i)=>{var u=i(1469),d=i(3448),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;s.exports=function(_,v){if(u(_))return!1;var M=typeof _;return!(M!="number"&&M!="symbol"&&M!="boolean"&&_!=null&&!d(_))||m.test(_)||!f.test(_)||v!=null&&_ in Object(v)}},7019:s=>{s.exports=function(c){var i=typeof c;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?c!=="__proto__":c===null}},5346:(s,c,i)=>{var u,d=i(4429),f=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";s.exports=function(m){return!!f&&f in m}},5726:s=>{var c=Object.prototype;s.exports=function(i){var u=i&&i.constructor;return i===(typeof u=="function"&&u.prototype||c)}},7040:s=>{s.exports=function(){this.__data__=[],this.size=0}},4125:(s,c,i)=>{var u=i(8470),d=Array.prototype.splice;s.exports=function(f){var m=this.__data__,_=u(m,f);return!(_<0)&&(_==m.length-1?m.pop():d.call(m,_,1),--this.size,!0)}},2117:(s,c,i)=>{var u=i(8470);s.exports=function(d){var f=this.__data__,m=u(f,d);return m<0?void 0:f[m][1]}},7518:(s,c,i)=>{var u=i(8470);s.exports=function(d){return u(this.__data__,d)>-1}},4705:(s,c,i)=>{var u=i(8470);s.exports=function(d,f){var m=this.__data__,_=u(m,d);return _<0?(++this.size,m.push([d,f])):m[_][1]=f,this}},4785:(s,c,i)=>{var u=i(1989),d=i(8407),f=i(7071);s.exports=function(){this.size=0,this.__data__={hash:new u,map:new(f||d),string:new u}}},1285:(s,c,i)=>{var u=i(5050);s.exports=function(d){var f=u(this,d).delete(d);return this.size-=f?1:0,f}},6e3:(s,c,i)=>{var u=i(5050);s.exports=function(d){return u(this,d).get(d)}},9916:(s,c,i)=>{var u=i(5050);s.exports=function(d){return u(this,d).has(d)}},5265:(s,c,i)=>{var u=i(5050);s.exports=function(d,f){var m=u(this,d),_=m.size;return m.set(d,f),this.size+=m.size==_?0:1,this}},4523:(s,c,i)=>{var u=i(8306);s.exports=function(d){var f=u(d,function(_){return m.size===500&&m.clear(),_}),m=f.cache;return f}},4536:(s,c,i)=>{var u=i(852)(Object,"create");s.exports=u},3498:s=>{s.exports=function(c){var i=[];if(c!=null)for(var u in Object(c))i.push(u);return i}},1167:(s,c,i)=>{s=i.nmd(s);var u=i(1957),d=c&&!c.nodeType&&c,f=d&&s&&!s.nodeType&&s,m=f&&f.exports===d&&u.process,_=function(){try{var v=f&&f.require&&f.require("util").types;return v||m&&m.binding&&m.binding("util")}catch{}}();s.exports=_},2333:s=>{var c=Object.prototype.toString;s.exports=function(i){return c.call(i)}},5569:s=>{s.exports=function(c,i){return function(u){return c(i(u))}}},5357:(s,c,i)=>{var u=i(6874),d=Math.max;s.exports=function(f,m,_){return m=d(m===void 0?f.length-1:m,0),function(){for(var v=arguments,M=-1,A=d(v.length-m,0),C=Array(A);++M<A;)C[M]=v[m+M];M=-1;for(var S=Array(m+1);++M<m;)S[M]=v[M];return S[m]=_(C),u(f,this,S)}}},5639:(s,c,i)=>{var u=i(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,f=u||d||Function("return this")();s.exports=f},6390:s=>{s.exports=function(c,i){if((i!=="constructor"||typeof c[i]!="function")&&i!="__proto__")return c[i]}},61:(s,c,i)=>{var u=i(6560),d=i(1275)(u);s.exports=d},1275:s=>{var c=Date.now;s.exports=function(i){var u=0,d=0;return function(){var f=c(),m=16-(f-d);if(d=f,m>0){if(++u>=800)return arguments[0]}else u=0;return i.apply(void 0,arguments)}}},7465:(s,c,i)=>{var u=i(8407);s.exports=function(){this.__data__=new u,this.size=0}},3779:s=>{s.exports=function(c){var i=this.__data__,u=i.delete(c);return this.size=i.size,u}},7599:s=>{s.exports=function(c){return this.__data__.get(c)}},4758:s=>{s.exports=function(c){return this.__data__.has(c)}},4309:(s,c,i)=>{var u=i(8407),d=i(7071),f=i(3369);s.exports=function(m,_){var v=this.__data__;if(v instanceof u){var M=v.__data__;if(!d||M.length<199)return M.push([m,_]),this.size=++v.size,this;v=this.__data__=new f(M)}return v.set(m,_),this.size=v.size,this}},5514:(s,c,i)=>{var u=i(4523),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,m=u(function(_){var v=[];return _.charCodeAt(0)===46&&v.push(""),_.replace(d,function(M,A,C,S){v.push(C?S.replace(f,"$1"):A||M)}),v});s.exports=m},327:(s,c,i)=>{var u=i(3448);s.exports=function(d){if(typeof d=="string"||u(d))return d;var f=d+"";return f=="0"&&1/d==-1/0?"-0":f}},346:s=>{var c=Function.prototype.toString;s.exports=function(i){if(i!=null){try{return c.call(i)}catch{}try{return i+""}catch{}}return""}},5703:s=>{s.exports=function(c){return function(){return c}}},7813:s=>{s.exports=function(c,i){return c===i||c!=c&&i!=i}},7361:(s,c,i)=>{var u=i(7786);s.exports=function(d,f,m){var _=d==null?void 0:u(d,f);return _===void 0?m:_}},8721:(s,c,i)=>{var u=i(8565),d=i(222);s.exports=function(f,m){return f!=null&&d(f,m,u)}},6557:s=>{s.exports=function(c){return c}},5694:(s,c,i)=>{var u=i(9454),d=i(7005),f=Object.prototype,m=f.hasOwnProperty,_=f.propertyIsEnumerable,v=u(function(){return arguments}())?u:function(M){return d(M)&&m.call(M,"callee")&&!_.call(M,"callee")};s.exports=v},1469:s=>{var c=Array.isArray;s.exports=c},8612:(s,c,i)=>{var u=i(3560),d=i(1780);s.exports=function(f){return f!=null&&d(f.length)&&!u(f)}},9246:(s,c,i)=>{var u=i(8612),d=i(7005);s.exports=function(f){return d(f)&&u(f)}},4144:(s,c,i)=>{s=i.nmd(s);var u=i(5639),d=i(5062),f=c&&!c.nodeType&&c,m=f&&s&&!s.nodeType&&s,_=m&&m.exports===f?u.Buffer:void 0,v=(_?_.isBuffer:void 0)||d;s.exports=v},3560:(s,c,i)=>{var u=i(4239),d=i(3218);s.exports=function(f){if(!d(f))return!1;var m=u(f);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},1780:s=>{s.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},3218:s=>{s.exports=function(c){var i=typeof c;return c!=null&&(i=="object"||i=="function")}},7005:s=>{s.exports=function(c){return c!=null&&typeof c=="object"}},8630:(s,c,i)=>{var u=i(4239),d=i(5924),f=i(7005),m=Function.prototype,_=Object.prototype,v=m.toString,M=_.hasOwnProperty,A=v.call(Object);s.exports=function(C){if(!f(C)||u(C)!="[object Object]")return!1;var S=d(C);if(S===null)return!0;var V=M.call(S,"constructor")&&S.constructor;return typeof V=="function"&&V instanceof V&&v.call(V)==A}},3448:(s,c,i)=>{var u=i(4239),d=i(7005);s.exports=function(f){return typeof f=="symbol"||d(f)&&u(f)=="[object Symbol]"}},6719:(s,c,i)=>{var u=i(8749),d=i(1717),f=i(1167),m=f&&f.isTypedArray,_=m?d(m):u;s.exports=_},1704:(s,c,i)=>{var u=i(4636),d=i(313),f=i(8612);s.exports=function(m){return f(m)?u(m,!0):d(m)}},8306:(s,c,i)=>{var u=i(3369);function d(f,m){if(typeof f!="function"||m!=null&&typeof m!="function")throw new TypeError("Expected a function");var _=function(){var v=arguments,M=m?m.apply(this,v):v[0],A=_.cache;if(A.has(M))return A.get(M);var C=f.apply(this,v);return _.cache=A.set(M,C)||A,C};return _.cache=new(d.Cache||u),_}d.Cache=u,s.exports=d},2492:(s,c,i)=>{var u=i(2980),d=i(1463)(function(f,m,_){u(f,m,_)});s.exports=d},5062:s=>{s.exports=function(){return!1}},9881:(s,c,i)=>{var u=i(8363),d=i(1704);s.exports=function(f){return u(f,d(f))}},9833:(s,c,i)=>{var u=i(531);s.exports=function(d){return d==null?"":u(d)}},2676:function(s){s.exports=function(){function c(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")}function i(I,w){for(var k=0;k<w.length;k++){var B=w[k];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}function u(I,w,k){return w&&i(I.prototype,w),k&&i(I,k),I}var d=function(){function I(w,k){this.next=null,this.key=w,this.data=k,this.left=null,this.right=null}return I}();function f(I,w){return I>w?1:I<w?-1:0}function m(I,w,k){for(var B=new d(null,null),D=B,F=B;;){var Q=k(I,w.key);if(Q<0){if(w.left===null)break;if(k(I,w.left.key)<0){var it=w.left;if(w.left=it.right,it.right=w,(w=it).left===null)break}F.left=w,F=w,w=w.left}else{if(!(Q>0)||w.right===null||k(I,w.right.key)>0&&(it=w.right,w.right=it.left,it.left=w,(w=it).right===null))break;D.right=w,D=w,w=w.right}}return D.right=w.left,F.left=w.right,w.left=B.right,w.right=B.left,w}function _(I,w,k,B){var D=new d(I,w);if(k===null)return D.left=D.right=null,D;var F=B(I,(k=m(I,k,B)).key);return F<0?(D.left=k.left,D.right=k,k.left=null):F>=0&&(D.right=k.right,D.left=k,k.right=null),D}function v(I,w,k){var B=null,D=null;if(w){var F=k((w=m(I,w,k)).key,I);F===0?(B=w.left,D=w.right):F<0?(D=w.right,w.right=null,B=w):(B=w.left,w.left=null,D=w)}return{left:B,right:D}}function M(I,w,k){return w===null?I:(I===null||((w=m(I.key,w,k)).left=I),w)}function A(I,w,k,B,D){if(I){B(w+(k?"└── ":"├── ")+D(I)+`
`);var F=w+(k?"    ":"│   ");I.left&&A(I.left,F,!1,B,D),I.right&&A(I.right,F,!0,B,D)}}var C=function(){function I(w){w===void 0&&(w=f),this._root=null,this._size=0,this._comparator=w}return I.prototype.insert=function(w,k){return this._size++,this._root=_(w,k,this._root,this._comparator)},I.prototype.add=function(w,k){var B=new d(w,k);this._root===null&&(B.left=B.right=null,this._size++,this._root=B);var D=this._comparator,F=m(w,this._root,D),Q=D(w,F.key);return Q===0?this._root=F:(Q<0?(B.left=F.left,B.right=F,F.left=null):Q>0&&(B.right=F.right,B.left=F,F.right=null),this._size++,this._root=B),this._root},I.prototype.remove=function(w){this._root=this._remove(w,this._root,this._comparator)},I.prototype._remove=function(w,k,B){var D;return k===null?null:B(w,(k=m(w,k,B)).key)===0?(k.left===null?D=k.right:(D=m(w,k.left,B)).right=k.right,this._size--,D):k},I.prototype.pop=function(){var w=this._root;if(w){for(;w.left;)w=w.left;return this._root=m(w.key,this._root,this._comparator),this._root=this._remove(w.key,this._root,this._comparator),{key:w.key,data:w.data}}return null},I.prototype.findStatic=function(w){for(var k=this._root,B=this._comparator;k;){var D=B(w,k.key);if(D===0)return k;k=D<0?k.left:k.right}return null},I.prototype.find=function(w){return this._root&&(this._root=m(w,this._root,this._comparator),this._comparator(w,this._root.key)!==0)?null:this._root},I.prototype.contains=function(w){for(var k=this._root,B=this._comparator;k;){var D=B(w,k.key);if(D===0)return!0;k=D<0?k.left:k.right}return!1},I.prototype.forEach=function(w,k){for(var B=this._root,D=[],F=!1;!F;)B!==null?(D.push(B),B=B.left):D.length!==0?(B=D.pop(),w.call(k,B),B=B.right):F=!0;return this},I.prototype.range=function(w,k,B,D){for(var F=[],Q=this._comparator,it=this._root;F.length!==0||it;)if(it)F.push(it),it=it.left;else{if(Q((it=F.pop()).key,k)>0)break;if(Q(it.key,w)>=0&&B.call(D,it))return this;it=it.right}return this},I.prototype.keys=function(){var w=[];return this.forEach(function(k){var B=k.key;return w.push(B)}),w},I.prototype.values=function(){var w=[];return this.forEach(function(k){var B=k.data;return w.push(B)}),w},I.prototype.min=function(){return this._root?this.minNode(this._root).key:null},I.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},I.prototype.minNode=function(w){if(w===void 0&&(w=this._root),w)for(;w.left;)w=w.left;return w},I.prototype.maxNode=function(w){if(w===void 0&&(w=this._root),w)for(;w.right;)w=w.right;return w},I.prototype.at=function(w){for(var k=this._root,B=!1,D=0,F=[];!B;)if(k)F.push(k),k=k.left;else if(F.length>0){if(k=F.pop(),D===w)return k;D++,k=k.right}else B=!0;return null},I.prototype.next=function(w){var k=this._root,B=null;if(w.right){for(B=w.right;B.left;)B=B.left;return B}for(var D=this._comparator;k;){var F=D(w.key,k.key);if(F===0)break;F<0?(B=k,k=k.left):k=k.right}return B},I.prototype.prev=function(w){var k=this._root,B=null;if(w.left!==null){for(B=w.left;B.right;)B=B.right;return B}for(var D=this._comparator;k;){var F=D(w.key,k.key);if(F===0)break;F<0?k=k.left:(B=k,k=k.right)}return B},I.prototype.clear=function(){return this._root=null,this._size=0,this},I.prototype.toList=function(){return P(this._root)},I.prototype.load=function(w,k,B){k===void 0&&(k=[]),B===void 0&&(B=!1);var D=w.length,F=this._comparator;if(B&&T(w,k,0,D-1,F),this._root===null)this._root=S(w,k,0,D),this._size=D;else{var Q=j(this.toList(),V(w,k),F);D=this._size+D,this._root=O({head:Q},0,D)}return this},I.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(I.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),I.prototype.toString=function(w){w===void 0&&(w=function(B){return String(B.key)});var k=[];return A(this._root,"",!0,function(B){return k.push(B)},w),k.join("")},I.prototype.update=function(w,k,B){var D=this._comparator,F=v(w,this._root,D),Q=F.left,it=F.right;D(w,k)<0?it=_(k,B,it,D):Q=_(k,B,Q,D),this._root=M(Q,it,D)},I.prototype.split=function(w){return v(w,this._root,this._comparator)},I}();function S(I,w,k,B){var D=B-k;if(D>0){var F=k+Math.floor(D/2),Q=I[F],it=w[F],vt=new d(Q,it);return vt.left=S(I,w,k,F),vt.right=S(I,w,F+1,B),vt}return null}function V(I,w){for(var k=new d(null,null),B=k,D=0;D<I.length;D++)B=B.next=new d(I[D],w[D]);return B.next=null,k.next}function P(I){for(var w=I,k=[],B=!1,D=new d(null,null),F=D;!B;)w?(k.push(w),w=w.left):k.length>0?w=(w=F=F.next=k.pop()).right:B=!0;return F.next=null,D.next}function O(I,w,k){var B=k-w;if(B>0){var D=w+Math.floor(B/2),F=O(I,w,D),Q=I.head;return Q.left=F,I.head=I.head.next,Q.right=O(I,D+1,k),Q}return null}function j(I,w,k){for(var B=new d(null,null),D=B,F=I,Q=w;F!==null&&Q!==null;)k(F.key,Q.key)<0?(D.next=F,F=F.next):(D.next=Q,Q=Q.next),D=D.next;return F!==null?D.next=F:Q!==null&&(D.next=Q),B.next}function T(I,w,k,B,D){if(!(k>=B)){for(var F=I[k+B>>1],Q=k-1,it=B+1;;){do Q++;while(D(I[Q],F)<0);do it--;while(D(I[it],F)>0);if(Q>=it)break;var vt=I[Q];I[Q]=I[it],I[it]=vt,vt=w[Q],w[Q]=w[it],w[it]=vt}T(I,w,k,it,D),T(I,w,it+1,B,D)}}var z=function(I,w){return I.ll.x<=w.x&&w.x<=I.ur.x&&I.ll.y<=w.y&&w.y<=I.ur.y},W=function(I,w){if(w.ur.x<I.ll.x||I.ur.x<w.ll.x||w.ur.y<I.ll.y||I.ur.y<w.ll.y)return null;var k=I.ll.x<w.ll.x?w.ll.x:I.ll.x,B=I.ur.x<w.ur.x?I.ur.x:w.ur.x;return{ll:{x:k,y:I.ll.y<w.ll.y?w.ll.y:I.ll.y},ur:{x:B,y:I.ur.y<w.ur.y?I.ur.y:w.ur.y}}},ot=Number.EPSILON;ot===void 0&&(ot=Math.pow(2,-52));var Y=ot*ot,st=function(I,w){if(-ot<I&&I<ot&&-ot<w&&w<ot)return 0;var k=I-w;return k*k<Y*I*w?0:I<w?-1:1},ut=function(){function I(){c(this,I),this.reset()}return u(I,[{key:"reset",value:function(){this.xRounder=new gt,this.yRounder=new gt}},{key:"round",value:function(w,k){return{x:this.xRounder.round(w),y:this.yRounder.round(k)}}}]),I}(),gt=function(){function I(){c(this,I),this.tree=new C,this.round(0)}return u(I,[{key:"round",value:function(w){var k=this.tree.add(w),B=this.tree.prev(k);if(B!==null&&st(k.key,B.key)===0)return this.tree.remove(w),B.key;var D=this.tree.next(k);return D!==null&&st(k.key,D.key)===0?(this.tree.remove(w),D.key):w}}]),I}(),at=new ut,bt=function(I,w){return I.x*w.y-I.y*w.x},kt=function(I,w){return I.x*w.x+I.y*w.y},Et=function(I,w,k){var B={x:w.x-I.x,y:w.y-I.y},D={x:k.x-I.x,y:k.y-I.y},F=bt(B,D);return st(F,0)},Ct=function(I){return Math.sqrt(kt(I,I))},Ht=function(I,w,k){var B={x:w.x-I.x,y:w.y-I.y},D={x:k.x-I.x,y:k.y-I.y};return bt(D,B)/Ct(D)/Ct(B)},wt=function(I,w,k){var B={x:w.x-I.x,y:w.y-I.y},D={x:k.x-I.x,y:k.y-I.y};return kt(D,B)/Ct(D)/Ct(B)},pe=function(I,w,k){return w.y===0?null:{x:I.x+w.x/w.y*(k-I.y),y:k}},Dt=function(I,w,k){return w.x===0?null:{x:k,y:I.y+w.y/w.x*(k-I.x)}},Rt=function(I,w,k,B){if(w.x===0)return Dt(k,B,I.x);if(B.x===0)return Dt(I,w,k.x);if(w.y===0)return pe(k,B,I.y);if(B.y===0)return pe(I,w,k.y);var D=bt(w,B);if(D==0)return null;var F={x:k.x-I.x,y:k.y-I.y},Q=bt(F,w)/D,it=bt(F,B)/D;return{x:(I.x+it*w.x+(k.x+Q*B.x))/2,y:(I.y+it*w.y+(k.y+Q*B.y))/2}},Vt=function(){function I(w,k){c(this,I),w.events===void 0?w.events=[this]:w.events.push(this),this.point=w,this.isLeft=k}return u(I,null,[{key:"compare",value:function(w,k){var B=I.comparePoints(w.point,k.point);return B!==0?B:(w.point!==k.point&&w.link(k),w.isLeft!==k.isLeft?w.isLeft?1:-1:fe.compare(w.segment,k.segment))}},{key:"comparePoints",value:function(w,k){return w.x<k.x?-1:w.x>k.x?1:w.y<k.y?-1:w.y>k.y?1:0}}]),u(I,[{key:"link",value:function(w){if(w.point===this.point)throw new Error("Tried to link already linked events");for(var k=w.point.events,B=0,D=k.length;B<D;B++){var F=k[B];this.point.events.push(F),F.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var w=this.point.events.length,k=0;k<w;k++){var B=this.point.events[k];if(B.segment.consumedBy===void 0)for(var D=k+1;D<w;D++){var F=this.point.events[D];F.consumedBy===void 0&&B.otherSE.point.events===F.otherSE.point.events&&B.segment.consume(F.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var w=[],k=0,B=this.point.events.length;k<B;k++){var D=this.point.events[k];D!==this&&!D.segment.ringOut&&D.segment.isInResult()&&w.push(D)}return w}},{key:"getLeftmostComparator",value:function(w){var k=this,B=new Map,D=function(F){var Q=F.otherSE;B.set(F,{sine:Ht(k.point,w.point,Q.point),cosine:wt(k.point,w.point,Q.point)})};return function(F,Q){B.has(F)||D(F),B.has(Q)||D(Q);var it=B.get(F),vt=it.sine,Tt=it.cosine,jt=B.get(Q),Jt=jt.sine,te=jt.cosine;return vt>=0&&Jt>=0?Tt<te?1:Tt>te?-1:0:vt<0&&Jt<0?Tt<te?-1:Tt>te?1:0:Jt<vt?-1:Jt>vt?1:0}}}]),I}(),Me=0,fe=function(){function I(w,k,B,D){c(this,I),this.id=++Me,this.leftSE=w,w.segment=this,w.otherSE=k,this.rightSE=k,k.segment=this,k.otherSE=w,this.rings=B,this.windings=D}return u(I,null,[{key:"compare",value:function(w,k){var B=w.leftSE.point.x,D=k.leftSE.point.x,F=w.rightSE.point.x,Q=k.rightSE.point.x;if(Q<B)return 1;if(F<D)return-1;var it=w.leftSE.point.y,vt=k.leftSE.point.y,Tt=w.rightSE.point.y,jt=k.rightSE.point.y;if(B<D){if(vt<it&&vt<Tt)return 1;if(vt>it&&vt>Tt)return-1;var Jt=w.comparePoint(k.leftSE.point);if(Jt<0)return 1;if(Jt>0)return-1;var te=k.comparePoint(w.rightSE.point);return te!==0?te:-1}if(B>D){if(it<vt&&it<jt)return-1;if(it>vt&&it>jt)return 1;var be=k.comparePoint(w.leftSE.point);if(be!==0)return be;var Xt=w.comparePoint(k.rightSE.point);return Xt<0?1:Xt>0?-1:1}if(it<vt)return-1;if(it>vt)return 1;if(F<Q){var ve=k.comparePoint(w.rightSE.point);if(ve!==0)return ve}if(F>Q){var he=w.comparePoint(k.rightSE.point);if(he<0)return 1;if(he>0)return-1}if(F!==Q){var we=Tt-it,Ae=F-B,Ze=jt-vt,qe=Q-D;if(we>Ae&&Ze<qe)return 1;if(we<Ae&&Ze>qe)return-1}return F>Q?1:F<Q||Tt<jt?-1:Tt>jt?1:w.id<k.id?-1:w.id>k.id?1:0}}]),u(I,[{key:"replaceRightSE",value:function(w){this.rightSE=w,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var w=this.leftSE.point.y,k=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:w<k?w:k},ur:{x:this.rightSE.point.x,y:w>k?w:k}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(w){return w.x===this.leftSE.point.x&&w.y===this.leftSE.point.y||w.x===this.rightSE.point.x&&w.y===this.rightSE.point.y}},{key:"comparePoint",value:function(w){if(this.isAnEndpoint(w))return 0;var k=this.leftSE.point,B=this.rightSE.point,D=this.vector();if(k.x===B.x)return w.x===k.x?0:w.x<k.x?1:-1;var F=(w.y-k.y)/D.y,Q=k.x+F*D.x;if(w.x===Q)return 0;var it=(w.x-k.x)/D.x,vt=k.y+it*D.y;return w.y===vt?0:w.y<vt?-1:1}},{key:"getIntersection",value:function(w){var k=this.bbox(),B=w.bbox(),D=W(k,B);if(D===null)return null;var F=this.leftSE.point,Q=this.rightSE.point,it=w.leftSE.point,vt=w.rightSE.point,Tt=z(k,it)&&this.comparePoint(it)===0,jt=z(B,F)&&w.comparePoint(F)===0,Jt=z(k,vt)&&this.comparePoint(vt)===0,te=z(B,Q)&&w.comparePoint(Q)===0;if(jt&&Tt)return te&&!Jt?Q:!te&&Jt?vt:null;if(jt)return Jt&&F.x===vt.x&&F.y===vt.y?null:F;if(Tt)return te&&Q.x===it.x&&Q.y===it.y?null:it;if(te&&Jt)return null;if(te)return Q;if(Jt)return vt;var be=Rt(F,this.vector(),it,w.vector());return be===null?null:z(D,be)?at.round(be.x,be.y):null}},{key:"split",value:function(w){var k=[],B=w.events!==void 0,D=new Vt(w,!0),F=new Vt(w,!1),Q=this.rightSE;this.replaceRightSE(F),k.push(F),k.push(D);var it=new I(D,Q,this.rings.slice(),this.windings.slice());return Vt.comparePoints(it.leftSE.point,it.rightSE.point)>0&&it.swapEvents(),Vt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),B&&(D.checkForConsuming(),F.checkForConsuming()),k}},{key:"swapEvents",value:function(){var w=this.rightSE;this.rightSE=this.leftSE,this.leftSE=w,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var k=0,B=this.windings.length;k<B;k++)this.windings[k]*=-1}},{key:"consume",value:function(w){for(var k=this,B=w;k.consumedBy;)k=k.consumedBy;for(;B.consumedBy;)B=B.consumedBy;var D=I.compare(k,B);if(D!==0){if(D>0){var F=k;k=B,B=F}if(k.prev===B){var Q=k;k=B,B=Q}for(var it=0,vt=B.rings.length;it<vt;it++){var Tt=B.rings[it],jt=B.windings[it],Jt=k.rings.indexOf(Tt);Jt===-1?(k.rings.push(Tt),k.windings.push(jt)):k.windings[Jt]+=jt}B.rings=null,B.windings=null,B.consumedBy=k,B.leftSE.consumedBy=k.leftSE,B.rightSE.consumedBy=k.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var w=this.prev.consumedBy||this.prev;this._beforeState=w.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var w=this.beforeState();this._afterState={rings:w.rings.slice(0),windings:w.windings.slice(0),multiPolys:[]};for(var k=this._afterState.rings,B=this._afterState.windings,D=this._afterState.multiPolys,F=0,Q=this.rings.length;F<Q;F++){var it=this.rings[F],vt=this.windings[F],Tt=k.indexOf(it);Tt===-1?(k.push(it),B.push(vt)):B[Tt]+=vt}for(var jt=[],Jt=[],te=0,be=k.length;te<be;te++)if(B[te]!==0){var Xt=k[te],ve=Xt.poly;if(Jt.indexOf(ve)===-1)if(Xt.isExterior)jt.push(ve);else{Jt.indexOf(ve)===-1&&Jt.push(ve);var he=jt.indexOf(Xt.poly);he!==-1&&jt.splice(he,1)}}for(var we=0,Ae=jt.length;we<Ae;we++){var Ze=jt[we].multiPoly;D.indexOf(Ze)===-1&&D.push(Ze)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var w=this.beforeState().multiPolys,k=this.afterState().multiPolys;switch(J.type){case"union":var B=w.length===0,D=k.length===0;this._isInResult=B!==D;break;case"intersection":var F,Q;w.length<k.length?(F=w.length,Q=k.length):(F=k.length,Q=w.length),this._isInResult=Q===J.numMultiPolys&&F<Q;break;case"xor":var it=Math.abs(w.length-k.length);this._isInResult=it%2==1;break;case"difference":var vt=function(Tt){return Tt.length===1&&Tt[0].isSubject};this._isInResult=vt(w)!==vt(k);break;default:throw new Error("Unrecognized operation type found ".concat(J.type))}return this._isInResult}}],[{key:"fromRing",value:function(w,k,B){var D,F,Q,it=Vt.comparePoints(w,k);if(it<0)D=w,F=k,Q=1;else{if(!(it>0))throw new Error("Tried to create degenerate segment at [".concat(w.x,", ").concat(w.y,"]"));D=k,F=w,Q=-1}return new I(new Vt(D,!0),new Vt(F,!1),[B],[Q])}}]),I}(),le=function(){function I(w,k,B){if(c(this,I),!Array.isArray(w)||w.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=k,this.isExterior=B,this.segments=[],typeof w[0][0]!="number"||typeof w[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var D=at.round(w[0][0],w[0][1]);this.bbox={ll:{x:D.x,y:D.y},ur:{x:D.x,y:D.y}};for(var F=D,Q=1,it=w.length;Q<it;Q++){if(typeof w[Q][0]!="number"||typeof w[Q][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var vt=at.round(w[Q][0],w[Q][1]);vt.x===F.x&&vt.y===F.y||(this.segments.push(fe.fromRing(F,vt,this)),vt.x<this.bbox.ll.x&&(this.bbox.ll.x=vt.x),vt.y<this.bbox.ll.y&&(this.bbox.ll.y=vt.y),vt.x>this.bbox.ur.x&&(this.bbox.ur.x=vt.x),vt.y>this.bbox.ur.y&&(this.bbox.ur.y=vt.y),F=vt)}D.x===F.x&&D.y===F.y||this.segments.push(fe.fromRing(F,D,this))}return u(I,[{key:"getSweepEvents",value:function(){for(var w=[],k=0,B=this.segments.length;k<B;k++){var D=this.segments[k];w.push(D.leftSE),w.push(D.rightSE)}return w}}]),I}(),Ft=function(){function I(w,k){if(c(this,I),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new le(w[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var B=1,D=w.length;B<D;B++){var F=new le(w[B],this,!1);F.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=F.bbox.ll.x),F.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=F.bbox.ll.y),F.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=F.bbox.ur.x),F.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=F.bbox.ur.y),this.interiorRings.push(F)}this.multiPoly=k}return u(I,[{key:"getSweepEvents",value:function(){for(var w=this.exteriorRing.getSweepEvents(),k=0,B=this.interiorRings.length;k<B;k++)for(var D=this.interiorRings[k].getSweepEvents(),F=0,Q=D.length;F<Q;F++)w.push(D[F]);return w}}]),I}(),dt=function(){function I(w,k){if(c(this,I),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof w[0][0][0]=="number"&&(w=[w])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var B=0,D=w.length;B<D;B++){var F=new Ft(w[B],this);F.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=F.bbox.ll.x),F.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=F.bbox.ll.y),F.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=F.bbox.ur.x),F.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=F.bbox.ur.y),this.polys.push(F)}this.isSubject=k}return u(I,[{key:"getSweepEvents",value:function(){for(var w=[],k=0,B=this.polys.length;k<B;k++)for(var D=this.polys[k].getSweepEvents(),F=0,Q=D.length;F<Q;F++)w.push(D[F]);return w}}]),I}(),Pt=function(){function I(w){c(this,I),this.events=w;for(var k=0,B=w.length;k<B;k++)w[k].segment.ringOut=this;this.poly=null}return u(I,null,[{key:"factory",value:function(w){for(var k=[],B=0,D=w.length;B<D;B++){var F=w[B];if(F.isInResult()&&!F.ringOut){for(var Q=null,it=F.leftSE,vt=F.rightSE,Tt=[it],jt=it.point,Jt=[];Q=it,it=vt,Tt.push(it),it.point!==jt;)for(;;){var te=it.getAvailableLinkedEvents();if(te.length===0){var be=Tt[0].point,Xt=Tt[Tt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(be.x,",")+" ".concat(be.y,"]. Last matching segment found ends at")+" [".concat(Xt.x,", ").concat(Xt.y,"]."))}if(te.length===1){vt=te[0].otherSE;break}for(var ve=null,he=0,we=Jt.length;he<we;he++)if(Jt[he].point===it.point){ve=he;break}if(ve===null){Jt.push({index:Tt.length,point:it.point});var Ae=it.getLeftmostComparator(Q);vt=te.sort(Ae)[0].otherSE;break}var Ze=Jt.splice(ve)[0],qe=Tt.splice(Ze.index);qe.unshift(qe[0].otherSE),k.push(new I(qe.reverse()))}k.push(new I(Tt))}}return k}}]),u(I,[{key:"getGeom",value:function(){for(var w=this.events[0].point,k=[w],B=1,D=this.events.length-1;B<D;B++){var F=this.events[B].point,Q=this.events[B+1].point;Et(F,w,Q)!==0&&(k.push(F),w=F)}if(k.length===1)return null;var it=k[0],vt=k[1];Et(it,w,vt)===0&&k.shift(),k.push(k[0]);for(var Tt=this.isExteriorRing()?1:-1,jt=this.isExteriorRing()?0:k.length-1,Jt=this.isExteriorRing()?k.length:-1,te=[],be=jt;be!=Jt;be+=Tt)te.push([k[be].x,k[be].y]);return te}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var w=this.enclosingRing();this._isExteriorRing=!w||!w.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var w=this.events[0],k=1,B=this.events.length;k<B;k++){var D=this.events[k];Vt.compare(w,D)>0&&(w=D)}for(var F=w.segment.prevInResult(),Q=F?F.prevInResult():null;;){if(!F)return null;if(!Q)return F.ringOut;if(Q.ringOut!==F.ringOut)return Q.ringOut.enclosingRing()!==F.ringOut?F.ringOut:F.ringOut.enclosingRing();F=Q.prevInResult(),Q=F?F.prevInResult():null}}}]),I}(),St=function(){function I(w){c(this,I),this.exteriorRing=w,w.poly=this,this.interiorRings=[]}return u(I,[{key:"addInterior",value:function(w){this.interiorRings.push(w),w.poly=this}},{key:"getGeom",value:function(){var w=[this.exteriorRing.getGeom()];if(w[0]===null)return null;for(var k=0,B=this.interiorRings.length;k<B;k++){var D=this.interiorRings[k].getGeom();D!==null&&w.push(D)}return w}}]),I}(),zt=function(){function I(w){c(this,I),this.rings=w,this.polys=this._composePolys(w)}return u(I,[{key:"getGeom",value:function(){for(var w=[],k=0,B=this.polys.length;k<B;k++){var D=this.polys[k].getGeom();D!==null&&w.push(D)}return w}},{key:"_composePolys",value:function(w){for(var k=[],B=0,D=w.length;B<D;B++){var F=w[B];if(!F.poly)if(F.isExteriorRing())k.push(new St(F));else{var Q=F.enclosingRing();Q.poly||k.push(new St(Q)),Q.poly.addInterior(F)}}return k}}]),I}(),ue=function(){function I(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe.compare;c(this,I),this.queue=w,this.tree=new C(k),this.segments=[]}return u(I,[{key:"process",value:function(w){var k=w.segment,B=[];if(w.consumedBy)return w.isLeft?this.queue.remove(w.otherSE):this.tree.remove(k),B;var D=w.isLeft?this.tree.insert(k):this.tree.find(k);if(!D)throw new Error("Unable to find segment #".concat(k.id," ")+"[".concat(k.leftSE.point.x,", ").concat(k.leftSE.point.y,"] -> ")+"[".concat(k.rightSE.point.x,", ").concat(k.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var F=D,Q=D,it=void 0,vt=void 0;it===void 0;)(F=this.tree.prev(F))===null?it=null:F.key.consumedBy===void 0&&(it=F.key);for(;vt===void 0;)(Q=this.tree.next(Q))===null?vt=null:Q.key.consumedBy===void 0&&(vt=Q.key);if(w.isLeft){var Tt=null;if(it){var jt=it.getIntersection(k);if(jt!==null&&(k.isAnEndpoint(jt)||(Tt=jt),!it.isAnEndpoint(jt)))for(var Jt=this._splitSafely(it,jt),te=0,be=Jt.length;te<be;te++)B.push(Jt[te])}var Xt=null;if(vt){var ve=vt.getIntersection(k);if(ve!==null&&(k.isAnEndpoint(ve)||(Xt=ve),!vt.isAnEndpoint(ve)))for(var he=this._splitSafely(vt,ve),we=0,Ae=he.length;we<Ae;we++)B.push(he[we])}if(Tt!==null||Xt!==null){var Ze=null;Ze=Tt===null?Xt:Xt===null||Vt.comparePoints(Tt,Xt)<=0?Tt:Xt,this.queue.remove(k.rightSE),B.push(k.rightSE);for(var qe=k.split(Ze),fn=0,cn=qe.length;fn<cn;fn++)B.push(qe[fn])}B.length>0?(this.tree.remove(k),B.push(w)):(this.segments.push(k),k.prev=it)}else{if(it&&vt){var Je=it.getIntersection(vt);if(Je!==null){if(!it.isAnEndpoint(Je))for(var hn=this._splitSafely(it,Je),kn=0,Un=hn.length;kn<Un;kn++)B.push(hn[kn]);if(!vt.isAnEndpoint(Je))for(var Ke=this._splitSafely(vt,Je),Fe=0,Bn=Ke.length;Fe<Bn;Fe++)B.push(Ke[Fe])}}this.tree.remove(k)}return B}},{key:"_splitSafely",value:function(w,k){this.tree.remove(w);var B=w.rightSE;this.queue.remove(B);var D=w.split(k);return D.push(B),w.consumedBy===void 0&&this.tree.insert(w),D}}]),I}(),G=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,K=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,J=new(function(){function I(){c(this,I)}return u(I,[{key:"run",value:function(w,k,B){J.type=w,at.reset();for(var D=[new dt(k,!0)],F=0,Q=B.length;F<Q;F++)D.push(new dt(B[F],!1));if(J.numMultiPolys=D.length,J.type==="difference")for(var it=D[0],vt=1;vt<D.length;)W(D[vt].bbox,it.bbox)!==null?vt++:D.splice(vt,1);if(J.type==="intersection"){for(var Tt=0,jt=D.length;Tt<jt;Tt++)for(var Jt=D[Tt],te=Tt+1,be=D.length;te<be;te++)if(W(Jt.bbox,D[te].bbox)===null)return[]}for(var Xt=new C(Vt.compare),ve=0,he=D.length;ve<he;ve++)for(var we=D[ve].getSweepEvents(),Ae=0,Ze=we.length;Ae<Ze;Ae++)if(Xt.insert(we[Ae]),Xt.size>G)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var qe=new ue(Xt),fn=Xt.size,cn=Xt.pop();cn;){var Je=cn.key;if(Xt.size===fn){var hn=Je.segment;throw new Error("Unable to pop() ".concat(Je.isLeft?"left":"right"," SweepEvent ")+"[".concat(Je.point.x,", ").concat(Je.point.y,"] from segment #").concat(hn.id," ")+"[".concat(hn.leftSE.point.x,", ").concat(hn.leftSE.point.y,"] -> ")+"[".concat(hn.rightSE.point.x,", ").concat(hn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Xt.size>G)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(qe.segments.length>K)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var kn=qe.process(Je),Un=0,Ke=kn.length;Un<Ke;Un++){var Fe=kn[Un];Fe.consumedBy===void 0&&Xt.insert(Fe)}fn=Xt.size,cn=Xt.pop()}at.reset();var Bn=Pt.factory(qe.segments);return new zt(Bn).getGeom()}}]),I}()),ht=function(I){for(var w=arguments.length,k=new Array(w>1?w-1:0),B=1;B<w;B++)k[B-1]=arguments[B];return J.run("union",I,k)},_t=function(I){for(var w=arguments.length,k=new Array(w>1?w-1:0),B=1;B<w;B++)k[B-1]=arguments[B];return J.run("intersection",I,k)},xt=function(I){for(var w=arguments.length,k=new Array(w>1?w-1:0),B=1;B<w;B++)k[B-1]=arguments[B];return J.run("xor",I,k)},Ot=function(I){for(var w=arguments.length,k=new Array(w>1?w-1:0),B=1;B<w;B++)k[B-1]=arguments[B];return J.run("difference",I,k)};return{union:ht,intersection:_t,xor:xt,difference:Ot}}()},2582:function(s){s.exports=function(){function c(T,z,W,ot,Y){(function st(ut,gt,at,bt,kt){for(;bt>at;){if(bt-at>600){var Et=bt-at+1,Ct=gt-at+1,Ht=Math.log(Et),wt=.5*Math.exp(2*Ht/3),pe=.5*Math.sqrt(Ht*wt*(Et-wt)/Et)*(Ct-Et/2<0?-1:1);st(ut,gt,Math.max(at,Math.floor(gt-Ct*wt/Et+pe)),Math.min(bt,Math.floor(gt+(Et-Ct)*wt/Et+pe)),kt)}var Dt=ut[gt],Rt=at,Vt=bt;for(i(ut,at,gt),kt(ut[bt],Dt)>0&&i(ut,at,bt);Rt<Vt;){for(i(ut,Rt,Vt),Rt++,Vt--;kt(ut[Rt],Dt)<0;)Rt++;for(;kt(ut[Vt],Dt)>0;)Vt--}kt(ut[at],Dt)===0?i(ut,at,Vt):i(ut,++Vt,bt),Vt<=gt&&(at=Vt+1),gt<=Vt&&(bt=Vt-1)}})(T,z,W||0,ot||T.length-1,Y||u)}function i(T,z,W){var ot=T[z];T[z]=T[W],T[W]=ot}function u(T,z){return T<z?-1:T>z?1:0}var d=function(T){T===void 0&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function f(T,z,W){if(!W)return z.indexOf(T);for(var ot=0;ot<z.length;ot++)if(W(T,z[ot]))return ot;return-1}function m(T,z){_(T,0,T.children.length,z,T)}function _(T,z,W,ot,Y){Y||(Y=O(null)),Y.minX=1/0,Y.minY=1/0,Y.maxX=-1/0,Y.maxY=-1/0;for(var st=z;st<W;st++){var ut=T.children[st];v(Y,T.leaf?ot(ut):ut)}return Y}function v(T,z){return T.minX=Math.min(T.minX,z.minX),T.minY=Math.min(T.minY,z.minY),T.maxX=Math.max(T.maxX,z.maxX),T.maxY=Math.max(T.maxY,z.maxY),T}function M(T,z){return T.minX-z.minX}function A(T,z){return T.minY-z.minY}function C(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function S(T){return T.maxX-T.minX+(T.maxY-T.minY)}function V(T,z){return T.minX<=z.minX&&T.minY<=z.minY&&z.maxX<=T.maxX&&z.maxY<=T.maxY}function P(T,z){return z.minX<=T.maxX&&z.minY<=T.maxY&&z.maxX>=T.minX&&z.maxY>=T.minY}function O(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(T,z,W,ot,Y){for(var st=[z,W];st.length;)if(!((W=st.pop())-(z=st.pop())<=ot)){var ut=z+Math.ceil((W-z)/ot/2)*ot;c(T,ut,z,W,Y),st.push(z,ut,ut,W)}}return d.prototype.all=function(){return this._all(this.data,[])},d.prototype.search=function(T){var z=this.data,W=[];if(!P(T,z))return W;for(var ot=this.toBBox,Y=[];z;){for(var st=0;st<z.children.length;st++){var ut=z.children[st],gt=z.leaf?ot(ut):ut;P(T,gt)&&(z.leaf?W.push(ut):V(T,gt)?this._all(ut,W):Y.push(ut))}z=Y.pop()}return W},d.prototype.collides=function(T){var z=this.data;if(!P(T,z))return!1;for(var W=[];z;){for(var ot=0;ot<z.children.length;ot++){var Y=z.children[ot],st=z.leaf?this.toBBox(Y):Y;if(P(T,st)){if(z.leaf||V(T,st))return!0;W.push(Y)}}z=W.pop()}return!1},d.prototype.load=function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var z=0;z<T.length;z++)this.insert(T[z]);return this}var W=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var ot=this.data;this.data=W,W=ot}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},d.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},d.prototype.clear=function(){return this.data=O([]),this},d.prototype.remove=function(T,z){if(!T)return this;for(var W,ot,Y,st=this.data,ut=this.toBBox(T),gt=[],at=[];st||gt.length;){if(st||(st=gt.pop(),ot=gt[gt.length-1],W=at.pop(),Y=!0),st.leaf){var bt=f(T,st.children,z);if(bt!==-1)return st.children.splice(bt,1),gt.push(st),this._condense(gt),this}Y||st.leaf||!V(st,ut)?ot?(W++,st=ot.children[W],Y=!1):st=null:(gt.push(st),at.push(W),W=0,ot=st,st=st.children[0])}return this},d.prototype.toBBox=function(T){return T},d.prototype.compareMinX=function(T,z){return T.minX-z.minX},d.prototype.compareMinY=function(T,z){return T.minY-z.minY},d.prototype.toJSON=function(){return this.data},d.prototype.fromJSON=function(T){return this.data=T,this},d.prototype._all=function(T,z){for(var W=[];T;)T.leaf?z.push.apply(z,T.children):W.push.apply(W,T.children),T=W.pop();return z},d.prototype._build=function(T,z,W,ot){var Y,st=W-z+1,ut=this._maxEntries;if(st<=ut)return m(Y=O(T.slice(z,W+1)),this.toBBox),Y;ot||(ot=Math.ceil(Math.log(st)/Math.log(ut)),ut=Math.ceil(st/Math.pow(ut,ot-1))),(Y=O([])).leaf=!1,Y.height=ot;var gt=Math.ceil(st/ut),at=gt*Math.ceil(Math.sqrt(ut));j(T,z,W,at,this.compareMinX);for(var bt=z;bt<=W;bt+=at){var kt=Math.min(bt+at-1,W);j(T,bt,kt,gt,this.compareMinY);for(var Et=bt;Et<=kt;Et+=gt){var Ct=Math.min(Et+gt-1,kt);Y.children.push(this._build(T,Et,Ct,ot-1))}}return m(Y,this.toBBox),Y},d.prototype._chooseSubtree=function(T,z,W,ot){for(;ot.push(z),!z.leaf&&ot.length-1!==W;){for(var Y=1/0,st=1/0,ut=void 0,gt=0;gt<z.children.length;gt++){var at=z.children[gt],bt=C(at),kt=(Et=T,Ct=at,(Math.max(Ct.maxX,Et.maxX)-Math.min(Ct.minX,Et.minX))*(Math.max(Ct.maxY,Et.maxY)-Math.min(Ct.minY,Et.minY))-bt);kt<st?(st=kt,Y=bt<Y?bt:Y,ut=at):kt===st&&bt<Y&&(Y=bt,ut=at)}z=ut||z.children[0]}var Et,Ct;return z},d.prototype._insert=function(T,z,W){var ot=W?T:this.toBBox(T),Y=[],st=this._chooseSubtree(ot,this.data,z,Y);for(st.children.push(T),v(st,ot);z>=0&&Y[z].children.length>this._maxEntries;)this._split(Y,z),z--;this._adjustParentBBoxes(ot,Y,z)},d.prototype._split=function(T,z){var W=T[z],ot=W.children.length,Y=this._minEntries;this._chooseSplitAxis(W,Y,ot);var st=this._chooseSplitIndex(W,Y,ot),ut=O(W.children.splice(st,W.children.length-st));ut.height=W.height,ut.leaf=W.leaf,m(W,this.toBBox),m(ut,this.toBBox),z?T[z-1].children.push(ut):this._splitRoot(W,ut)},d.prototype._splitRoot=function(T,z){this.data=O([T,z]),this.data.height=T.height+1,this.data.leaf=!1,m(this.data,this.toBBox)},d.prototype._chooseSplitIndex=function(T,z,W){for(var ot,Y,st,ut,gt,at,bt,kt=1/0,Et=1/0,Ct=z;Ct<=W-z;Ct++){var Ht=_(T,0,Ct,this.toBBox),wt=_(T,Ct,W,this.toBBox),pe=(Y=Ht,st=wt,ut=void 0,gt=void 0,at=void 0,bt=void 0,ut=Math.max(Y.minX,st.minX),gt=Math.max(Y.minY,st.minY),at=Math.min(Y.maxX,st.maxX),bt=Math.min(Y.maxY,st.maxY),Math.max(0,at-ut)*Math.max(0,bt-gt)),Dt=C(Ht)+C(wt);pe<kt?(kt=pe,ot=Ct,Et=Dt<Et?Dt:Et):pe===kt&&Dt<Et&&(Et=Dt,ot=Ct)}return ot||W-z},d.prototype._chooseSplitAxis=function(T,z,W){var ot=T.leaf?this.compareMinX:M,Y=T.leaf?this.compareMinY:A;this._allDistMargin(T,z,W,ot)<this._allDistMargin(T,z,W,Y)&&T.children.sort(ot)},d.prototype._allDistMargin=function(T,z,W,ot){T.children.sort(ot);for(var Y=this.toBBox,st=_(T,0,z,Y),ut=_(T,W-z,W,Y),gt=S(st)+S(ut),at=z;at<W-z;at++){var bt=T.children[at];v(st,T.leaf?Y(bt):bt),gt+=S(st)}for(var kt=W-z-1;kt>=z;kt--){var Et=T.children[kt];v(ut,T.leaf?Y(Et):Et),gt+=S(ut)}return gt},d.prototype._adjustParentBBoxes=function(T,z,W){for(var ot=W;ot>=0;ot--)v(z[ot],T)},d.prototype._condense=function(T){for(var z=T.length-1,W=void 0;z>=0;z--)T[z].children.length===0?z>0?(W=T[z-1].children).splice(W.indexOf(T[z]),1):this.clear():m(T[z],this.toBBox)},d}()}},n={};function a(s){var c=n[s];if(c!==void 0)return c.exports;var i=n[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.n=s=>{var c=s&&s.__esModule?()=>s.default:()=>s;return a.d(c,{a:c}),c},a.d=(s,c)=>{for(var i in c)a.o(c,i)&&!a.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:c[i]})},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.o=(s,c)=>Object.prototype.hasOwnProperty.call(s,c),a.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),a(5975)})();var gc={exports:{}};(function(e,n){(function(a,s){s(n)})(fd,function(a){var s=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=i,d=this._zoom;if(i.__parent)for(;u.__parent._zoom>=d;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,u):this._animationAddLayerNonAnimated(i,u)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):(i.getLatLng?this._map?i.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())):(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i})):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i})),this)},addLayers:function(i,u){if(!L.Util.isArray(i))return this.addLayer(i);var d,f=this._featureGroup,m=this._nonPointGroup,_=this.options.chunkedLoading,v=this.options.chunkInterval,M=this.options.chunkProgress,A=i.length,C=0,S=!0;if(this._map){var V=new Date().getTime(),P=L.bind(function(){var j=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();C<A;C++){if(_&&C%200==0){var T=new Date().getTime()-j;if(v<T)break}if((d=i[C])instanceof L.LayerGroup)S&&(i=i.slice(),S=!1),this._extractNonGroupLayers(d,i),A=i.length;else if(d.getLatLng){if(!this.hasLayer(d)&&(this._addLayer(d,this._maxZoom),u||this.fire("layeradd",{layer:d}),d.__parent&&d.__parent.getChildCount()===2)){var z=d.__parent.getAllChildMarkers(),W=z[0]===d?z[1]:z[0];f.removeLayer(W)}}else m.addLayer(d),u||this.fire("layeradd",{layer:d})}M&&M(C,A,new Date().getTime()-V),C===A?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(P,this.options.chunkDelay)},this);P()}else for(var O=this._needsClustering;C<A;C++)(d=i[C])instanceof L.LayerGroup?(S&&(i=i.slice(),S=!1),this._extractNonGroupLayers(d,i),A=i.length):d.getLatLng?this.hasLayer(d)||O.push(d):m.addLayer(d);return this},removeLayers:function(i){var u,d,f=i.length,m=this._featureGroup,_=this._nonPointGroup,v=!0;if(!this._map){for(u=0;u<f;u++)(d=i[u])instanceof L.LayerGroup?(v&&(i=i.slice(),v=!1),this._extractNonGroupLayers(d,i),f=i.length):(this._arraySplice(this._needsClustering,d),_.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d}));return this}if(this._unspiderfy){this._unspiderfy();var M=i.slice(),A=f;for(u=0;u<A;u++)(d=M[u])instanceof L.LayerGroup?(this._extractNonGroupLayers(d,M),A=M.length):this._unspiderfyLayer(d)}for(u=0;u<f;u++)(d=i[u])instanceof L.LayerGroup?(v&&(i=i.slice(),v=!1),this._extractNonGroupLayers(d,i),f=i.length):d.__parent?(this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),m.hasLayer(d)&&(m.removeLayer(d),d.clusterShow&&d.clusterShow())):(_.removeLayer(d),this.fire("layerremove",{layer:d}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;0<=u;u--)i.extend(this._needsClustering[u].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,u){var d,f,m,_=this._needsClustering.slice(),v=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(_),f=_.length-1;0<=f;f--){for(d=!0,m=v.length-1;0<=m;m--)if(v[m].layer===_[f]){d=!1;break}d&&i.call(u,_[f])}this._nonPointGroup.eachLayer(i,u)},getLayers:function(){var i=[];return this.eachLayer(function(u){i.push(u)}),i},getLayer:function(i){var u=null;return i=parseInt(i,10),this.eachLayer(function(d){L.stamp(d)===i&&(u=d)}),u},hasLayer:function(i){if(!i)return!1;var u,d=this._needsClustering;for(u=d.length-1;0<=u;u--)if(d[u]===i)return!0;for(u=(d=this._needsRemoving).length-1;0<=u;u--)if(d[u].layer===i)return!1;return!(!i.__parent||i.__parent._group!==this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,u){var d=this._map;typeof u!="function"&&(u=function(){});var f=function(){!d.hasLayer(i)&&!d.hasLayer(i.__parent)||this._inZoomAnimation||(this._map.off("moveend",f,this),this.off("animationend",f,this),d.hasLayer(i)?u():i.__parent._icon&&(this.once("spiderfied",u,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?u():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),i.__parent.zoomToBounds())},onAdd:function(i){var u,d,f;if(this._map=i,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,u=0,d=this._needsRemoving.length;u<d;u++)(f=this._needsRemoving[u]).newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(u=0,d=this._needsRemoving.length;u<d;u++)f=this._needsRemoving[u],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var u=i;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(i,u){for(var d=i.length-1;0<=d;d--)if(i[d]===u)return i.splice(d,1),!0},_removeFromGridUnclustered:function(i,u){for(var d=this._map,f=this._gridUnclustered,m=Math.floor(this._map.getMinZoom());m<=u&&f[u].removeObject(i,d.project(i.getLatLng(),u));u--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var u=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),u&&i.target.openPopup()}},_moveChild:function(i,u,d){i._latlng=u,this.removeLayer(i),i._latlng=d,this.addLayer(i)},_childMarkerDragEnd:function(i){var u=i.target.__dragStart;delete i.target.__dragStart,u&&this._moveChild(i.target,u,i.target._latlng)},_removeLayer:function(i,u,d){var f=this._gridClusters,m=this._gridUnclustered,_=this._featureGroup,v=this._map,M=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(i,this._maxZoom);var A,C=i.__parent,S=C._markers;for(this._arraySplice(S,i);C&&(C._childCount--,C._boundsNeedUpdate=!0,!(C._zoom<M));)u&&C._childCount<=1?(A=C._markers[0]===i?C._markers[1]:C._markers[0],f[C._zoom].removeObject(C,v.project(C._cLatLng,C._zoom)),m[C._zoom].addObject(A,v.project(A.getLatLng(),C._zoom)),this._arraySplice(C.__parent._childClusters,C),C.__parent._markers.push(A),A.__parent=C.__parent,C._icon&&(_.removeLayer(C),d||_.addLayer(A))):C._iconNeedsUpdate=!0,C=C.__parent;delete i.__parent},_isOrIsParent:function(i,u){for(;u;){if(i===u)return!0;u=u.parentNode}return!1},fire:function(i,u,d){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,u,d)},listens:function(i,u){return L.FeatureGroup.prototype.listens.call(this,i,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,u)},_defaultIconCreateFunction:function(i){var u=i.getChildCount(),d=" marker-cluster-";return d+=u<10?"small":u<100?"medium":"large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,u=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom;(u||f||m)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var u=i.layer,d=u;if(i.type!=="clusterkeypress"||!i.originalEvent||i.originalEvent.keyCode===13){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),2<i.layer.getChildCount()&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,m=this._map;(i||d||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),m.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,f=d;typeof d!="function"&&(f=function(){return d}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var m=i;u<=m;m--)this._gridClusters[m]=new L.DistanceGrid(f(m)),this._gridUnclustered[m]=new L.DistanceGrid(f(m));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(i,u){var d,f,m=this._gridClusters,_=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);v<=u;u--){d=this._map.project(i.getLatLng(),u);var M=m[u].getNearObject(d);if(M)return M._addChild(i),void(i.__parent=M);if(M=_[u].getNearObject(d)){var A=M.__parent;A&&this._removeLayer(M,!1);var C=new this._markerCluster(this,u,M,i);m[u].addObject(C,this._map.project(C._cLatLng,u)),M.__parent=C;var S=i.__parent=C;for(f=u-1;f>A._zoom;f--)S=new this._markerCluster(this,f,S),m[f].addObject(S,this._map.project(M.getLatLng(),f));return A._addChild(S),void this._removeFromGridUnclustered(M,u)}_[u].addObject(i,d)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(i){var u=this._maxLat;return u!==void 0&&(i.getNorth()>=u&&(i._northEast.lat=1/0),i.getSouth()<=-u&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,u){if(u===i)this._featureGroup.addLayer(i);else if(u._childCount===2){u._addToMap();var d=u.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else u._updateIcon()},_extractNonGroupLayers:function(i,u){var d,f=i.getLayers(),m=0;for(u=u||[];m<f.length;m++)(d=f[m])instanceof L.LayerGroup?this._extractNonGroupLayers(d,u):u.push(d);return u},_overrideMarkerIcon:function(i){return i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,u){this._animationAddLayerNonAnimated(i,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,u){var d,f=this._getExpandedVisibleBounds(),m=this._featureGroup,_=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(f,i,_,function(v){var M,A=v._latlng,C=v._markers;for(f.contains(A)||(A=null),v._isSingleParent()&&i+1===u?(m.removeLayer(v),v._recursivelyAddChildrenToMap(null,u,f)):(v.clusterHide(),v._recursivelyAddChildrenToMap(A,u,f)),d=C.length-1;0<=d;d--)M=C[d],f.contains(M._latlng)||m.removeLayer(M)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(f,u),m.eachLayer(function(v){v instanceof L.MarkerCluster||!v._icon||v.clusterShow()}),this._topClusterLevel._recursively(f,i,u,function(v){v._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(f,i,_,function(v){m.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,u){this._animationZoomOutSingle(this._topClusterLevel,i-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,u){var d=this,f=this._featureGroup;f.addLayer(i),u!==i&&(2<u._childCount?(u._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(u.getLatLng())),i.clusterHide(),this._enqueue(function(){f.removeLayer(i),i.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,u,d){var f=this._getExpandedVisibleBounds(),m=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(f,m,u+1,d);var _=this;this._forceLayout(),i._recursivelyBecomeVisible(f,d),this._enqueue(function(){if(i._childCount===1){var v=i._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else i._recursively(f,d,m,function(M){M._recursivelyRemoveChildrenFromMap(f,m,u+1)});_._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var c=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,u,d,f){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),f&&this._addChild(f)},getAllChildMarkers:function(i,u){i=i||[];for(var d=this._childClusters.length-1;0<=d;d--)this._childClusters[d].getAllChildMarkers(i,u);for(var f=this._markers.length-1;0<=f;f--)u&&this._markers[f].__dragStart||i.push(this._markers[f]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var u,d=this._childClusters.slice(),f=this._group._map,m=f.getBoundsZoom(this._bounds),_=this._zoom+1,v=f.getZoom();0<d.length&&_<m;){_++;var M=[];for(u=0;u<d.length;u++)M=M.concat(d[u]._childClusters);d=M}_<m?this._group._map.setView(this._latlng,_):m<=v?this._group._map.setView(this._latlng,v+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(u||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(u||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i,u,d,f,m=this._markers,_=this._childClusters,v=0,M=0,A=this._childCount;if(A!==0){for(this._resetBounds(),i=0;i<m.length;i++)d=m[i]._latlng,this._bounds.extend(d),v+=d.lat,M+=d.lng;for(i=0;i<_.length;i++)(u=_[i])._boundsNeedUpdate&&u._recalculateBounds(),this._bounds.extend(u._bounds),d=u._wLatLng,f=u._childCount,v+=d.lat*f,M+=d.lng*f;this._latlng=this._wLatLng=new L.LatLng(v/A,M/A),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,u,d){this._recursively(i,this._group._map.getMinZoom(),d-1,function(f){var m,_,v=f._markers;for(m=v.length-1;0<=m;m--)(_=v[m])._icon&&(_._setPos(u),_.clusterHide())},function(f){var m,_,v=f._childClusters;for(m=v.length-1;0<=m;m--)(_=v[m])._icon&&(_._setPos(u),_.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,u,d,f){this._recursively(i,f,u,function(m){m._recursivelyAnimateChildrenIn(i,m._group._map.latLngToLayerPoint(m.getLatLng()).round(),d),m._isSingleParent()&&d-1===f?(m.clusterShow(),m._recursivelyRemoveChildrenFromMap(i,u,d)):m.clusterHide(),m._addToMap()})},_recursivelyBecomeVisible:function(i,u){this._recursively(i,this._group._map.getMinZoom(),u,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(i,u,d){this._recursively(d,this._group._map.getMinZoom()-1,u,function(f){if(u!==f._zoom)for(var m=f._markers.length-1;0<=m;m--){var _=f._markers[m];d.contains(_._latlng)&&(i&&(_._backupLatlng=_.getLatLng(),_.setLatLng(i),_.clusterHide&&_.clusterHide()),f._group._featureGroup.addLayer(_))}},function(f){f._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var u=this._markers.length-1;0<=u;u--){var d=this._markers[u];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(i-1===this._zoom)for(var f=this._childClusters.length-1;0<=f;f--)this._childClusters[f]._restorePosition();else for(var m=this._childClusters.length-1;0<=m;m--)this._childClusters[m]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,u,d,f){var m,_;this._recursively(i,u-1,d-1,function(v){for(_=v._markers.length-1;0<=_;_--)m=v._markers[_],f&&f.contains(m._latlng)||(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())},function(v){for(_=v._childClusters.length-1;0<=_;_--)m=v._childClusters[_],f&&f.contains(m._latlng)||(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())})},_recursively:function(i,u,d,f,m){var _,v,M=this._childClusters,A=this._zoom;if(u<=A&&(f&&f(this),m&&A===d&&m(this)),A<u||A<d)for(_=M.length-1;0<=_;_--)(v=M[_])._boundsNeedUpdate&&v._recalculateBounds(),i.intersects(v._bounds)&&v._recursively(i,u,d,f,m)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,u){var d=this._getCoord(u.x),f=this._getCoord(u.y),m=this._grid,_=m[f]=m[f]||{},v=_[d]=_[d]||[],M=L.Util.stamp(i);this._objectPoint[M]=u,v.push(i)},updateObject:function(i,u){this.removeObject(i),this.addObject(i,u)},removeObject:function(i,u){var d,f,m=this._getCoord(u.x),_=this._getCoord(u.y),v=this._grid,M=v[_]=v[_]||{},A=M[m]=M[m]||[];for(delete this._objectPoint[L.Util.stamp(i)],d=0,f=A.length;d<f;d++)if(A[d]===i)return A.splice(d,1),f===1&&delete M[m],!0},eachObject:function(i,u){var d,f,m,_,v,M,A=this._grid;for(d in A)for(f in v=A[d])for(m=0,_=(M=v[f]).length;m<_;m++)i.call(u,M[m])&&(m--,_--)},getNearObject:function(i){var u,d,f,m,_,v,M,A,C=this._getCoord(i.x),S=this._getCoord(i.y),V=this._objectPoint,P=this._sqCellSize,O=null;for(u=S-1;u<=S+1;u++)if(m=this._grid[u]){for(d=C-1;d<=C+1;d++)if(_=m[d])for(f=0,v=_.length;f<v;f++)M=_[f],((A=this._sqDist(V[L.Util.stamp(M)],i))<P||A<=P&&O===null)&&(P=A,O=M)}return O},_getCoord:function(i){var u=Math.floor(i/this._cellSize);return isFinite(u)?u:i},_sqDist:function(i,u){var d=u.x-i.x,f=u.y-i.y;return d*d+f*f}},L.QuickHull={getDistant:function(i,u){var d=u[1].lat-u[0].lat;return(u[0].lng-u[1].lng)*(i.lat-u[0].lat)+d*(i.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(i,u){var d,f,m,_=0,v=null,M=[];for(d=u.length-1;0<=d;d--)f=u[d],0<(m=this.getDistant(f,i))&&(M.push(f),_<m&&(_=m,v=f));return{maxPoint:v,newPoints:M}},buildConvexHull:function(i,u){var d=[],f=this.findMostDistantPointFromBaseLine(i,u);return f.maxPoint?d=(d=d.concat(this.buildConvexHull([i[0],f.maxPoint],f.newPoints))).concat(this.buildConvexHull([f.maxPoint,i[1]],f.newPoints)):[i[0]]},getConvexHull:function(i){var u,d=!1,f=!1,m=!1,_=!1,v=null,M=null,A=null,C=null,S=null,V=null;for(u=i.length-1;0<=u;u--){var P=i[u];(d===!1||P.lat>d)&&(d=(v=P).lat),(f===!1||P.lat<f)&&(f=(M=P).lat),(m===!1||P.lng>m)&&(m=(A=P).lng),(_===!1||P.lng<_)&&(_=(C=P).lng)}return S=f!==d?(V=M,v):(V=C,A),[].concat(this.buildConvexHull([V,S],i),this.buildConvexHull([S,V],i))}},L.MarkerCluster.include({getConvexHull:function(){var i,u,d=this.getAllChildMarkers(),f=[];for(u=d.length-1;0<=u;u--)i=d[u].getLatLng(),f.push(i);return L.QuickHull.getConvexHull(f)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var i,u=this.getAllChildMarkers(null,!0),d=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),i=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(u.length,d):u.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(u.length,d):(d.y+=10,this._generatePointsCircle(u.length,d)),this._animationSpiderfy(u,i)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,u){var d,f,m=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i)/this._2PI,_=this._2PI/i,v=[];for(m=Math.max(m,35),v.length=i,d=0;d<i;d++)f=this._circleStartAngle+d*_,v[d]=new L.Point(u.x+m*Math.cos(f),u.y+m*Math.sin(f))._round();return v},_generatePointsSpiral:function(i,u){var d,f=this._group.options.spiderfyDistanceMultiplier,m=f*this._spiralLengthStart,_=f*this._spiralFootSeparation,v=f*this._spiralLengthFactor*this._2PI,M=0,A=[];for(d=A.length=i;0<=d;d--)d<i&&(A[d]=new L.Point(u.x+m*Math.cos(M),u.y+m*Math.sin(M))._round()),m+=v/(M+=_/m+5e-4*d);return A},_noanimationUnspiderfy:function(){var i,u,d=this._group,f=d._map,m=d._featureGroup,_=this.getAllChildMarkers(null,!0);for(d._ignoreMove=!0,this.setOpacity(1),u=_.length-1;0<=u;u--)i=_[u],m.removeLayer(i),i._preSpiderfyLatlng&&(i.setLatLng(i._preSpiderfyLatlng),delete i._preSpiderfyLatlng),i.setZIndexOffset&&i.setZIndexOffset(0),i._spiderLeg&&(f.removeLayer(i._spiderLeg),delete i._spiderLeg);d.fire("unspiderfied",{cluster:this,markers:_}),d._ignoreMove=!1,d._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,u){var d,f,m,_,v=this._group,M=v._map,A=v._featureGroup,C=this._group.options.spiderLegPolylineOptions;for(v._ignoreMove=!0,d=0;d<i.length;d++)_=M.layerPointToLatLng(u[d]),f=i[d],m=new L.Polyline([this._latlng,_],C),M.addLayer(m),f._spiderLeg=m,f._preSpiderfyLatlng=f._latlng,f.setLatLng(_),f.setZIndexOffset&&f.setZIndexOffset(1e6),A.addLayer(f);this.setOpacity(.3),v._ignoreMove=!1,v.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,u){var d,f,m,_,v,M,A=this,C=this._group,S=C._map,V=C._featureGroup,P=this._latlng,O=S.latLngToLayerPoint(P),j=L.Path.SVG,T=L.extend({},this._group.options.spiderLegPolylineOptions),z=T.opacity;for(z===void 0&&(z=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),j?(T.opacity=0,T.className=(T.className||"")+" leaflet-cluster-spider-leg"):T.opacity=z,C._ignoreMove=!0,d=0;d<i.length;d++)f=i[d],M=S.layerPointToLatLng(u[d]),m=new L.Polyline([P,M],T),S.addLayer(m),f._spiderLeg=m,j&&(v=(_=m._path).getTotalLength()+.1,_.style.strokeDasharray=v,_.style.strokeDashoffset=v),f.setZIndexOffset&&f.setZIndexOffset(1e6),f.clusterHide&&f.clusterHide(),V.addLayer(f),f._setPos&&f._setPos(O);for(C._forceLayout(),C._animationStart(),d=i.length-1;0<=d;d--)M=S.layerPointToLatLng(u[d]),(f=i[d])._preSpiderfyLatlng=f._latlng,f.setLatLng(M),f.clusterShow&&f.clusterShow(),j&&((_=(m=f._spiderLeg)._path).style.strokeDashoffset=0,m.setStyle({opacity:z}));this.setOpacity(.3),C._ignoreMove=!1,setTimeout(function(){C._animationEnd(),C.fire("spiderfied",{cluster:A,markers:i})},200)},_animationUnspiderfy:function(i){var u,d,f,m,_,v,M=this,A=this._group,C=A._map,S=A._featureGroup,V=i?C._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):C.latLngToLayerPoint(this._latlng),P=this.getAllChildMarkers(null,!0),O=L.Path.SVG;for(A._ignoreMove=!0,A._animationStart(),this.setOpacity(1),d=P.length-1;0<=d;d--)(u=P[d])._preSpiderfyLatlng&&(u.closePopup(),u.setLatLng(u._preSpiderfyLatlng),delete u._preSpiderfyLatlng,v=!0,u._setPos&&(u._setPos(V),v=!1),u.clusterHide&&(u.clusterHide(),v=!1),v&&S.removeLayer(u),O&&(_=(m=(f=u._spiderLeg)._path).getTotalLength()+.1,m.style.strokeDashoffset=_,f.setStyle({opacity:0})));A._ignoreMove=!1,setTimeout(function(){var j=0;for(d=P.length-1;0<=d;d--)(u=P[d])._spiderLeg&&j++;for(d=P.length-1;0<=d;d--)(u=P[d])._spiderLeg&&(u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),1<j&&S.removeLayer(u),C.removeLayer(u._spiderLeg),delete u._spiderLeg);A._animationEnd(),A.fire("unspiderfied",{cluster:M,markers:P})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var u,d;for(u in i)for(d=i[u].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(i){var u,d;for(u in i)d=i[u],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(i,u){var d=this.options.icon;return L.setOptions(d,i),this.setIcon(d),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),a.MarkerClusterGroup=s,a.MarkerCluster=c,Object.defineProperty(a,"__esModule",{value:!0})})})(gc,gc.exports);const xw={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Object,default:()=>({})},prefix:{type:[String,Boolean],default:!1},cluster:{type:Boolean,default:!1},maxClusterRadius:{type:Number,default:20},clusterIconCreateFunction:{type:Function,default:void 0}},emits:["geojson:ready","geojson","add:layer","draw:start","edit:layer","drag:layer","zoom:change","zoom:start"],setup(e,{expose:n,emit:a}){const s=e;delete sn.Icon.Default.prototype._getIconUrl,sn.Icon.Default.mergeOptions({iconRetinaUrl:sw,iconUrl:aw,shadowUrl:lw});let c,i,u,d;const f=Zt(null),m=se(()=>({maxZoom:s.zoomBounds,zoom:{animate:s.zoomAnimate}}));He(()=>s.geojson,O=>{d.clearLayers(),V(O)},{deep:!0}),He(()=>s.dragging,O=>{O?c.dragging.enable():c.dragging.disable()});function _(){const O={maxClusterRadius:s.maxClusterRadius};return s.clusterIconCreateFunction&&Object.assign(O,{iconCreateFunction:j=>s.clusterIconCreateFunction({L:sn,cluster:j})}),O}en(()=>{const O=ww(sn,{maxZoom:s.maxZoom,minZoom:s.minZoom,className:"map-tiles"}),[j]=Object.values(O),T={center:s.center,zoom:s.zoom,worldCopyJump:!0,dragging:s.dragging,maxZoom:s.maxZoom};s.disableZoom&&Object.assign(T,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),u=new sn.FeatureGroup,d=s.cluster?new sn.markerClusterGroup(_()):new sn.FeatureGroup,c=sn.map(f.value,T),c.attributionControl.setPrefix(s.prefix),c.pm.setGlobalOptions({layerGroup:u}),d.addTo(c),c.addLayer(u),c.addLayer(d),s.geojson&&V(s.geojson),s.controls&&(c.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),c.on("pm:create",z=>{a("geojson",v()),a("add:layer",A(z.layer))}),u.on("pm:edit",z=>{a("geojson",v()),a("edit:layer",A(z.layer))}),c.on("pm:drawstart",z=>{M(),a("draw:start",z)}),c.on("zoom",z=>a("zoom:change",z)),c.on("zoomstart",z=>a("zoom:start",z))),j.addTo(c),Object.keys(O).length>1&&sn.control.layers(O,{},{position:"topleft",collapsed:!1}).addTo(c),S()});function v(){const O=sn.featureGroup();return u.eachLayer(j=>{(j instanceof sn.Path||j instanceof sn.Marker)&&j.pm&&O.addLayer(j)}),O.toGeoJSON()}function M(){u.clearLayers()}function A(O){const j=O.toGeoJSON();return typeof O.getRadius=="function"&&(j.properties.radius=O.getRadius()),j}const C=()=>{if(!d)return;const O=d.getBounds();c.invalidateSize(),bs(()=>{Object.keys(O).length&&c.fitBounds(O,m.value)})},S=()=>{i=new ResizeObserver(O=>{O[0].contentRect,C()}),i.observe(f.value)};Zr(()=>{d.clearLayers(),i==null||i.disconnect()});function V(O){if(O){sn.geoJSON(O,{..._w(sn),...s.geojsonOptions}).addTo(d);const j=d.getBounds();j.isValid()&&c.fitBounds(j,m.value)}a("geojson:ready",d)}function P(){return c}return n({clearDrawLayers:M,getMapObject:P,resizeMap:C}),(O,j)=>(U(),nt("div",{ref_key:"leafletMap",ref:f,style:Gn({width:s.width,height:s.height})},null,4))}};function Lw(e){kw(e,Object.assign({"/src/components/Map/VMap.client.vue":xw}))}function kw(e,n){Object.entries(n).forEach(([s,c])=>{const i=s.split("/").pop().replace(/\.client.\w+$/,"");e.component(i,c)})}const Mw=["innerHTML"],Cw={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Pw=et("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1),Sw=[Pw],Ew={key:1,class:"inline h-4 w-1"},Tw=et("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1),Ow=[Tw],Aw=["innerHTML"],Bw={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(e){const n=e,a=se(()=>{const[c,...i]=n.items;return{username:c,host:i}});function s(){const[c,...i]=n.items;document.location.href=`mailto:${c}@${i.join(".")}`}return(c,i)=>(U(),nt("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:s},[et("span",{innerHTML:a.value.username},null,8,Mw),(U(!0),nt($t,null,ye(a.value.host,(u,d)=>(U(),nt($t,null,[d===0?(U(),nt("svg",Cw,Sw)):(U(),nt("svg",Ew,Ow)),et("span",{innerHTML:u},null,8,Aw)],64))),256))]))}},Rw={};function Iw(e,n){return U(),At(Ps,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:ft(()=>[Se(e.$slots,"default")]),_:3})}const Dw=re(Rw,[["render",Iw]]),zw={},jw={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"},Nw=Kf('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1),Fw=[Nw];function Gw(e,n){return U(),nt("svg",jw,Fw)}const Hw=re(zw,[["render",Gw]]);const Vw={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},Uw={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},$w=["placeholder"],Zw={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},qw=["onClick"],Kw=["innerHTML"],Ww=500,Jw={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(e,{emit:n}){const a=e,s=Zt(""),c=Zt([]),i=Zt(!1),u=Zt(null);let d;He(s,m=>{clearTimeout(d),m.length?d=setTimeout(()=>{i.value=!0,We.get(a.url,{params:{...a.params,[a.queryParam]:s.value}}).then(({data:_})=>{i.value=!1,c.value=_})},Ww):c.value=[]});const f=m=>{n("select",m),s.value=""};return en(()=>{a.autofocus&&u.value.focus()}),(m,_)=>{const v=pt("IconSearch");return U(),nt("div",Vw,[et("div",Uw,[rt(v,{class:"w-4 h-4 text-gray-500"})]),vo(et("input",{"onUpdate:modelValue":_[0]||(_[0]=M=>s.value=M),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:e.placeholder,ref_key:"inputElement",ref:u},null,8,$w),[[Em,s.value]]),i.value?(U(),At(Hw,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Nt("",!0),c.value.length?(U(),nt("ul",Zw,[(U(!0),nt($t,null,ye(c.value,M=>(U(),nt("li",{key:M.id,class:"autocomplete__item px-3 py-2 border-b text-xs cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:A=>f(M)},[et("span",{innerHTML:M[e.label]},null,8,Kw)],8,qw))),128))])):Nt("",!0)])}}},gd=re(Jw,[["__scopeId","data-v-c5caf34f"]]),Yw={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(e){const n=Ih(),a=({id:s,otu_valid_id:c})=>{n.push({name:"otus-id-overview",params:{id:c||s}})};return(s,c)=>(U(),At(gd,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:e.autofocus,params:{having_taxon_name_only:!0},onSelect:a},null,8,["autofocus"]))}},Xw=["title"],Qw={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:n}){const a=e,s=se({get(){return a.modelValue},set(c){n("update:modelValue",c)}});return(c,i)=>{const u=pt("IconMinusCircle"),d=pt("IconPlusCircle");return U(),nt("button",{type:"button",title:s.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:i[0]||(i[0]=f=>s.value=!s.value)},[s.value?(U(),At(u,{key:0,class:"w-5 h-5"})):(U(),At(d,{key:1,class:"w-5 h-5"}))],8,Xw)}}},tx={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(e){return(n,a)=>(U(),nt("button",{type:"button",class:Xe(["px-3 py-1 hover:bg-opacity-80",{"bg-primary-color":e.primary,"bg-secondary-color":e.secondary,"text-primary-content":e.primary,"text-secondary-content":e.secondary}])},[Se(n.$slots,"default")],2))}};const ex={},nx={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function rx(e,n){return U(),nt("div",nx,[Se(e.$slots,"default")])}const ix=re(ex,[["render",rx]]),ox={},sx={class:"p-4 pl-5 pr-5"};function ax(e,n){return U(),nt("div",sx,[Se(e.$slots,"default")])}const lx=re(ox,[["render",ax]]),ux={},cx={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function hx(e,n){return U(),nt("div",cx,[Se(e.$slots,"default")])}const dx=re(ux,[["render",hx]]),px={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(e){const n=e,a=Zt(!1);let s;function c(){navigator.clipboard.writeText(n.text).then(()=>{a.value=!0,s=setTimeout(()=>{a.value=!1},n.delay)})}return or(()=>{clearTimeout(s)}),(i,u)=>{const d=pt("IconCheck"),f=pt("IconClipboard"),m=pt("VButton");return U(),At(m,{class:"px-2 py-2 rounded-full",primary:"",onClick:c},{default:ft(()=>[a.value?(U(),At(d,{key:0,class:"w-4 h-4"})):(U(),At(f,{key:1,class:"w-4 h-4"}))]),_:1})}}},fx={class:"relative inline"},mx=["onClick"],gx={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(e){const n=Zt(null),a=Zt(!1),s=()=>{a.value=!a.value},c=u=>{a.value=!1,u.action()};function i(u){var d;(!u.target||!((d=n.value)!=null&&d.contains(u.target)))&&(a.value=!1)}return en(()=>{document.addEventListener("pointerdown",i,{passive:!0,capture:!0})}),or(()=>{document.removeEventListener("pointerdown",i,{capture:!0})}),(u,d)=>(U(),nt("div",fx,[et("button",{title:"Menu",onClick:s},[Se(u.$slots,"button")]),a.value?(U(),nt("ul",{key:0,ref_key:"element",ref:n,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(U(!0),nt($t,null,ye(e.items,f=>(U(),nt("li",{key:f.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:m=>c(f)},Qt(f.label),9,mx))),128))],512)):Nt("",!0)]))}};function _d({props:e}){const n=Zt([]);function a(s){var c,i;return{id:s.id,objectId:s.depiction_object_id,objectType:s.depiction_object_type,objectLabel:s.depiction_object.label,label:s.label,imageOriginal:s.image.original,imageMedium:s.image.medium,attribution:((c=s.attribution)==null?void 0:c.label)||"",labelAttribution:[s.depiction_object.label,((i=s.attribution)==null?void 0:i.label)||""].join(" ")}}return He(()=>e.depictionId,s=>{s.length&&We.get("/depictions/gallery",{params:{depiction_id:s}}).then(({data:c})=>{n.value=c.map(a).sort((i,u)=>e.depictionId.indexOf(i.id)-e.depictionId.indexOf(u.id))})},{immediate:!0}),{depictions:n}}const _x=["src","alt"],yx={class:"bg-black bg-opacity-25 absolute h-full w-full"},vx={key:0,class:"z-10 text-white text-sm drop-shadow absolute bottom-2 right-4"},bx=["innerHTML"],wx={__name:"GalleryCarousel.global",props:{depictionId:{type:Array,default:()=>[]},interval:{type:Number,default:1e4},height:{type:String,default:"550px"}},setup(e){const n=e,{depictions:a}=_d({props:n}),s=Zt(0),c=se(()=>({height:n.height})),i=se(()=>a.value[s.value]||{}),u=se(()=>i.value.objectType==="Otu"),d=se(()=>[i.value.objectLabel,i.value.attribution].join(" "));let f=null;function m(){s.value=(s.value+1)%a.value.length}return He(a,()=>{n.interval?(clearInterval(f),f=setInterval(m,n.interval)):s.value=Math.floor(Math.random()*data.length)}),or(()=>{clearInterval(f)}),(_,v)=>{const M=pt("RouterLink");return U(),nt("div",{class:"overflow-hidden w-full relative",style:Gn(c.value)},[rt(Ps,{name:"fade"},{default:ft(()=>[i.value.imageOriginal?(U(),nt("img",{class:"object-cover overflow-hidden h-full w-full absolute top-0 my-0",key:i.value.imageOriginal,src:i.value.imageOriginal,alt:i.value.label},null,8,_x)):Nt("",!0)]),_:1}),et("div",yx,[Se(_.$slots,"default",{},void 0,!0)]),i.value.objectId?(U(),nt("span",vx,[u.value?(U(),At(M,{key:0,class:"text-white decoration-transparent",to:{name:"otus-id",params:{id:i.value.objectId}},innerHTML:d.value},null,8,["to","innerHTML"])):(U(),nt("span",{key:1,innerHTML:d.value},null,8,bx))])):Nt("",!0)],4)}}},xx=re(wx,[["__scopeId","data-v-6970dada"]]),Lx=["title"],kx=["alt","src"],Mx={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(e){return(n,a)=>(U(),nt("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:e.title},[et("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:e.title,src:e.image.thumb},null,8,kx)],8,Lx))}},Cx={class:"flex flex-row overflow-x-auto print:flex-wrap"},yd={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(e,{emit:n}){return(a,s)=>(U(),nt("div",Cx,[(U(!0),nt($t,null,ye(e.images,(c,i)=>(U(),nt("div",{key:c.id,class:"pr-1.5 last:pr-0"},[rt(Mx,{image:c,class:Xe({"border border-secondary-color":e.current===i}),title:c.depictions.map(u=>u.label).join(";"),onClick:u=>n("selectIndex",i)},null,8,["image","class","title","onClick"])]))),128))]))}},Px={class:"h-80 max-h-80 flex items-center justify-center"},Sx=["textContent"],Ex=["src","alt"],Tx={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(e,{emit:n}){const a=e,s=Zt(!1),c=Zt(null),i=Zt(null);He(()=>a.image,f=>{f.original&&(i.value=null,s.value=!0)});function u(f){f.preventDefault(),s.value=!1,i.value="Image was not found or format is not supported"}function d(){s.value=!1}return en(()=>{c.value.addEventListener("load",d),c.value.addEventListener("error",u)}),(f,m)=>{const _=pt("VSpinner"),v=pt("ClientOnly");return U(),nt("div",Px,[rt(v,null,{default:ft(()=>[s.value?(U(),At(_,{key:0})):Nt("",!0)]),_:1}),i.value?(U(),nt("span",{key:0,textContent:Qt(i.value)},null,8,Sx)):Nt("",!0),vo(et("img",{ref_key:"imageElement",ref:c,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:e.image.original,alt:e.image.depictions.map(M=>M.label).join(";"),onClick:m[0]||(m[0]=M=>n("open:viewer"))},null,8,Ex),[[Ss,!i.value]])])}}},Ox={class:"flex flex-col"},Ax={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},Bx={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(e){const n=e,a=Zt(!1),s=Zt(0),c=se(()=>n.images[s.value]||{}),i=()=>{s.value--},u=()=>{s.value++};return He(()=>n.images,()=>{s.value=0},{immediate:!0}),(d,f)=>{const m=pt("ImageViewer");return U(),nt($t,null,[et("div",Ox,[et("div",Ax,[rt(Tx,{image:c.value,"onOpen:viewer":f[0]||(f[0]=()=>a.value=!0)},null,8,["image"])]),rt(yd,{class:"pt-2 pb-2",images:e.images,onSelectIndex:f[1]||(f[1]=_=>{s.value=_})},null,8,["images"])]),a.value?(U(),At(m,{key:0,index:s.value,images:e.images,next:s.value<n.images.length-1,previous:s.value>0,onSelectIndex:f[2]||(f[2]=_=>s.value=_),onNext:f[3]||(f[3]=_=>u()),onPrevious:f[4]||(f[4]=_=>i()),onClose:f[5]||(f[5]=_=>a.value=!1)},null,8,["index","images","next","previous"])):Nt("",!0)],64)}}},Rx=["src"],Ix=["innerHTML"],Dx={__name:"GalleryMosaic.global",props:{depictionId:{type:Array,default:()=>[]},imageHeight:{type:String,default:"112px"},imageWidth:{type:String,default:"200px"},wrap:{type:Boolean,default:!1},label:{type:Boolean,default:!1}},setup(e){const n=e,a=se(()=>({height:n.imageHeight}));function s(i){return i.objectType==="Otu"?"RouterLink":"div"}const{depictions:c}=_d({props:n});return(i,u)=>(U(),nt("div",{class:Xe(["grid gap-2",!n.wrap&&"grid-flow-col"]),style:Gn(n.wrap&&`grid-template-columns: repeat(auto-fit, minmax(${n.imageWidth}, 1fr))`)},[(U(!0),nt($t,null,ye(Kt(c),d=>(U(),At(Mi(s(d)),{key:d.id,to:{name:"otus-id",params:{id:d.objectId}}},{default:ft(()=>[et("img",{src:d.imageMedium,style:Gn(a.value),class:"max-w-full my-0 object-cover w-full"},null,12,Rx),e.label?(U(),nt("span",{key:0,class:"text-sm",innerHTML:d.labelAttribution},null,8,Ix)):Nt("",!0)]),_:2},1032,["to"]))),128))],6))}},zx={},jx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Nx=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1),Fx=[Nx];function Gx(e,n){return U(),nt("svg",jx,Fx)}const Hx=re(zx,[["render",Gx]]),Vx={},Ux={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},$x=et("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1),Zx=[$x];function qx(e,n){return U(),nt("svg",Ux,Zx)}const Kx=re(Vx,[["render",qx]]),Wx={},Jx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Yx=et("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1),Xx=[Yx];function Qx(e,n){return U(),nt("svg",Jx,Xx)}const t1=re(Wx,[["render",Qx]]),e1={},n1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},r1=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),i1=[r1];function o1(e,n){return U(),nt("svg",n1,i1)}const s1=re(e1,[["render",o1]]),a1={},l1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},u1=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1),c1=[u1];function h1(e,n){return U(),nt("svg",l1,c1)}const d1=re(a1,[["render",h1]]),p1={},f1={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},m1=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),g1=[m1];function _1(e,n){return U(),nt("svg",f1,g1)}const y1=re(p1,[["render",_1]]),v1={},b1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},w1=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1),x1=[w1];function L1(e,n){return U(),nt("svg",b1,x1)}const k1=re(v1,[["render",L1]]),M1={},C1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},P1=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),S1=[P1];function E1(e,n){return U(),nt("svg",C1,S1)}const T1=re(M1,[["render",E1]]),O1={},A1={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"},B1=et("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1),R1=[B1];function I1(e,n){return U(),nt("svg",A1,R1)}const D1=re(O1,[["render",I1]]),z1={},j1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},N1=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1),F1=[N1];function G1(e,n){return U(),nt("svg",j1,F1)}const H1=re(z1,[["render",G1]]),V1={},U1={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},$1=et("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1),Z1=[$1];function q1(e,n){return U(),nt("svg",U1,Z1)}const K1=re(V1,[["render",q1]]),W1={},J1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Y1=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),X1=[Y1];function Q1(e,n){return U(),nt("svg",J1,X1)}const tL=re(W1,[["render",Q1]]),eL={},nL={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},rL=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),iL=[rL];function oL(e,n){return U(),nt("svg",nL,iL)}const sL=re(eL,[["render",oL]]),aL={},lL={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},uL=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1),cL=[uL];function hL(e,n){return U(),nt("svg",lL,cL)}const dL=re(aL,[["render",hL]]),pL={},fL={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},mL=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),gL=[mL];function _L(e,n){return U(),nt("svg",fL,gL)}const yL=re(pL,[["render",_L]]),vL={},bL={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},wL=et("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1),xL=[wL];function LL(e,n){return U(),nt("svg",bL,xL)}const kL=re(vL,[["render",LL]]),ML={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(e){return(n,a)=>(U(),nt("div",null,[et("p",null,Qt(e.attribution.label),1)]))}},CL={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(e){return(n,a)=>(U(),nt("div",null,[(U(!0),nt($t,null,ye(e.depictions,s=>(U(),nt("div",{key:s.id},[et("p",null,Qt(s.label),1)]))),128))]))}},PL=["innerHTML"],SL={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(e){return(n,a)=>(U(),nt("div",null,[et("p",{innerHTML:e.source.label},null,8,PL)]))}},EL={class:"p-2 text-black dark:text-white opacity-50"},TL={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(e){return(n,a)=>(U(),nt("span",EL,Qt(e.currentImage+1)+"/"+Qt(e.totalImages),1))}},OL={},AL={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function BL(e,n){const a=pt("IconArrowRight");return U(),nt("button",AL,[rt(a,{class:"h-8 w-8"})])}const RL=re(OL,[["render",BL]]),IL={},DL={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function zL(e,n){const a=pt("IconArrowLeft");return U(),nt("button",DL,[rt(a,{class:"h-8 w-8"})])}const jL=re(IL,[["render",zL]]),NL={},FL={class:"p-2 box-border flex justify-between"};function GL(e,n){return U(),nt("div",FL,[et("div",null,[Se(e.$slots,"default")]),et("div",null,[Se(e.$slots,"right")])])}const HL=re(NL,[["render",GL]]),VL={},UL={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function $L(e,n){const a=pt("IconClose");return U(),nt("button",UL,[rt(a)])}const ZL=re(VL,[["render",$L]]),qL={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},KL={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},WL=["textContent"],JL=["alt","src"],YL={class:"bottom-0 fixed max-w-full w-full"},XL={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},QL={class:"flex justify-center"},tk={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(e,{emit:n}){const a=e,s=({key:_})=>{switch(_){case"ArrowLeft":a.previous&&n("previous");break;case"ArrowRight":a.next&&n("next");break;case"Escape":n("close");break}},c=Zt(null),i=Zt(!1),u=Zt(null),d=se(()=>a.images[a.index]);document.addEventListener("keyup",s);function f(){i.value=!1,u.value="Image was not found or format is not supported"}function m(){i.value=!1}return en(()=>{c.value.addEventListener("load",m),c.value.addEventListener("error",f),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keyup",s),document.body.classList.remove("overflow-hidden")}),He(()=>a.index,()=>{u.value=null,i.value=!0}),(_,v)=>{const M=pt("VSpinner");return U(),nt("div",qL,[et("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:v[3]||(v[3]=hs(()=>{},["stop"]))},[et("div",KL,[i.value?(U(),At(M,{key:0})):Nt("",!0),u.value?(U(),nt("div",{key:1,class:"flex flex-col justify-center",textContent:Qt(u.value)},null,8,WL)):Nt("",!0),vo(et("img",{ref_key:"imageElement",ref:c,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:d.value.depictions.map(A=>A.label).join(";"),src:d.value.original,onClick:v[0]||(v[0]=A=>n("close"))},null,8,JL),[[Ss,!u.value]]),e.next?(U(),At(RL,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:v[1]||(v[1]=A=>n("next"))})):Nt("",!0),e.previous?(U(),At(jL,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:v[2]||(v[2]=A=>n("previous"))})):Nt("",!0)])]),et("div",YL,[et("div",XL,[rt(CL,{class:"my-auto",depictions:d.value.depictions},null,8,["depictions"]),rt(ML,{class:"my-auto",attribution:d.value.attribution},null,8,["attribution"]),rt(SL,{class:"my-auto",source:d.value.source},null,8,["source"])]),et("div",QL,[rt(yd,{class:"pb-2",current:e.index,images:e.images,onSelectIndex:v[4]||(v[4]=A=>n("selectIndex",A)),onClick:v[5]||(v[5]=hs(()=>{},["stop"]))},null,8,["current","images"])])]),rt(HL,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:ft(()=>[rt(ZL,{onClick:v[6]||(v[6]=A=>n("close"))})]),default:ft(()=>[rt(TL,{"current-image":e.index,"total-images":e.images.length},null,8,["current-image","total-images"])]),_:1})])}}},ek="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",nk={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(e){const n=e,a={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none",blank:"sm:px-0 prose dark:prose-invert max-w-none"},s=se(()=>a[n.frontmatter.layout]||ek);return(c,i)=>(U(),At(Mi(e.tag),{class:Xe(s.value)},{default:ft(()=>[Se(c.$slots,"default")]),_:3},8,["class"]))}},rk={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},ik=et("span",null,null,-1),ok={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},sk={__name:"VModal.global",emits:["close"],setup(e,{emit:n}){const a=s=>{s.key==="Escape"&&(s.stopPropagation(),n("close"))};return en(()=>{document.addEventListener("keydown",a),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keydown",a),document.body.classList.remove("overflow-hidden")}),(s,c)=>{const i=pt("IconClose");return U(),nt("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:c[2]||(c[2]=u=>n("close")),onKey:c[3]||(c[3]=hs(u=>n("close"),["stop"]))},[et("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:c[1]||(c[1]=hs(()=>{},["stop"]))},[et("div",rk,[Se(s.$slots,"header",{},()=>[ik]),rt(i,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:c[0]||(c[0]=()=>n("close"))})]),et("div",ok,[Se(s.$slots,"default")]),et("div",null,[Se(s.$slots,"footer")])])],32)}}},ak={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(e){const n=e,a=Zt({data:[]}),s=se(()=>n.data.map(u=>u.toLowerCase())),c=se(()=>{const u=a.value.data;return u.length?i(u):s.value.map(d=>[d,"??"])});function i(u){const d=n.data.length?u.filter(([f])=>s.value.includes(f)):u;return d.sort(([f],[m])=>s.value.indexOf(f)-s.value.indexOf(m)),d}return en(()=>{We.get("/stats").then(u=>{const d=Object.entries(u.data.data).map(([f,m])=>[f.toLowerCase(),m.toLocaleString()]);a.value.data=d})}),(u,d)=>(U(),At(Mi(e.tag),null,{default:ft(()=>[(U(!0),nt($t,null,ye(c.value,([f,m],_)=>Se(u.$slots,"default",{type:f,value:m},()=>[et("span",null,Qt(f)+": "+Qt(m)+Qt(_<c.value.length-1?"; ":""),1)])),256))]),_:3}))}},lk={key:1},uk={__name:"ClientOnly.global",setup(e){const n=Zt(!1);return en(()=>{n.value=!0}),(a,s)=>n.value?Se(a.$slots,"default",{key:0}):(U(),nt("div",lk))}},ck={class:"inline-flex items-center text-sm"},hk={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(e){return(n,a)=>{const s=pt("router-link");return U(),nt("li",ck,[rt(s,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-gray-700 border-b-2 border-transparent","active-class":"border-b-2 border-blue-500 text-primary-500",to:e.to},{default:ft(()=>[Se(n.$slots,"default")]),_:3},8,["to"])])}}},dk={},pk={class:"inline-flex items-center space-x-1 md:space-x-3"};function fk(e,n){return U(),nt("ul",pk,[Se(e.$slots,"default")])}const mk=re(dk,[["render",fk]]),gk={},_k={class:"relative sm:rounded-lg"},yk={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function vk(e,n){return U(),nt("div",_k,[et("table",yk,[Se(e.$slots,"default")])])}const bk=re(gk,[["render",vk]]),wk={},xk={class:"normal-case text-xs"};function Lk(e,n){return U(),nt("tbody",xk,[Se(e.$slots,"default")])}const kk=re(wk,[["render",Lk]]),Mk={},Ck={class:"px-4 py-4"};function Pk(e,n){return U(),nt("td",Ck,[Se(e.$slots,"default")])}const Sk=re(Mk,[["render",Pk]]),Ek={},Tk={class:"bg-base-foreground border-b border-base-border"};function Ok(e,n){return U(),nt("tr",Tk,[Se(e.$slots,"default")])}const Ak=re(Ek,[["render",Ok]]),Bk={},Rk={class:"text-xs text-base-content uppercase bg-base-background"};function Ik(e,n){return U(),nt("thead",Rk,[Se(e.$slots,"default")])}const Dk=re(Bk,[["render",Ik]]),zk={},jk={class:"px-4 py-3"};function Nk(e,n){return U(),nt("th",jk,[Se(e.$slots,"default")])}const Fk=re(zk,[["render",Nk]]),Gk={};function Hk(e,n){return U(),nt("tr",null,[Se(e.$slots,"default")])}const Vk=re(Gk,[["render",Hk]]),Uk={key:1},$k=et("h1",{class:"font-medium text-base px-1"},"Report a problem",-1),Zk={class:"font-normal p-5 pt-0 text-base"},qk=et("span",null,"My issue is with:",-1),Kk={class:"mx-5 my-2"},Wk=["href"],Jk={key:0,class:"text-sm"},Yk="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",Xk={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:void 0},label:{type:String,default:void 0},icon:{type:Boolean,default:!1},tag:{type:String,default:"VButton"}},setup(e){const{issue_trackers:n}={base_url:"/small_beetle_groups/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1/",project_token:"GOYa5sp62ZYA1sCB_S3YFg",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"Small Beetle Groups Catalog",header_links:[{label:"Browse Catalog",link:"/otus/665792/overview"},{label:"Home",link:"/"},{label:"About",link:"/about"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Small Beetle Groups Catalog",project_citation:null,project_url:null,project_authors:"M.L. Gimmel, M.A. Johnston, K. Schnepp, G. Powell"},a=Zt(!1);function s(){n?a.value=!0:window.open(Yk,"_self")}return(c,i)=>{const u=pt("IconGithub"),d=pt("VModal");return U(),nt($t,null,[(U(),At(Mi(e.tag),{type:"button",title:"Report a problem",class:Xe(e.buttonClass),onClick:s},{default:ft(()=>[e.icon?(U(),At(u,{key:0,class:"w-5 h-5"})):Nt("",!0),e.label?(U(),nt("span",Uk,Qt(e.label),1)):Nt("",!0)]),_:1},8,["class"])),a.value?(U(),At(d,{key:0,class:"text-base-content",onClose:i[0]||(i[0]=f=>a.value=!1)},{header:ft(()=>[$k]),default:ft(()=>[et("div",Zk,[qk,et("ul",Kk,[(U(!0),nt($t,null,ye(Kt(n),f=>(U(),nt("li",null,[et("a",{href:f.url},Qt(f.label),9,Wk),f.description?(U(),nt("span",Jk," - "+Qt(f.description),1)):Nt("",!0)]))),256))])])]),_:1})):Nt("",!0)],64)}}},Qk={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(e){const n=Mf(),a=se(()=>{var i;const c=(i=n.default)==null?void 0:i.call(n);return s(c)});function s(c){if(!c)return!0;const[i]=c;let u=i.children;return i.el!==null||u!==null}return(c,i)=>(U(),nt($t,null,[Se(c.$slots,"default"),a.value?(U(),nt("span",{key:0,class:Xe(e.class)},[(U(!0),nt($t,null,ye(e.lines,u=>(U(),nt("span",{key:u,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"}," ‌ "))),128))],2)):Nt("",!0)],64))}};const yl=e=>(Kc("data-v-b688ef4b"),e=e(),Wc(),e),tM=yl(()=>et("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1)),eM=yl(()=>et("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)),nM=[tM,eM],rM=yl(()=>et("span",{class:"sr-only"},"Loading...",-1)),iM=["innerHTML"],oM={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(e){const n=e,a={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},s=Zt(null),c=Zt({}),i=Zt(void 0);en(()=>{u(),n.resize&&!n.fullScreen&&f()}),Zr(()=>clearInterval(i.value));const u=()=>{const m=n.target?document.querySelector(n.target):s.value.parentNode;Object.assign(c.value,n.fullScreen?a:d(m))},d=m=>{const _=m.getBoundingClientRect(),v=window.getComputedStyle(m,null),M=parseInt(v.getPropertyValue("padding-left"),10),A=parseInt(v.getPropertyValue("padding-right"),10),C=parseInt(v.getPropertyValue("padding-top"),10),S=parseInt(v.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:_.width-M-A+"px",height:_.height-C-S+"px"}},f=()=>{i.value=setInterval(u(),500)};return(m,_)=>(U(),nt("div",{ref_key:"spinnerElement",ref:s,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:Gn(c.value)},[et("div",{class:Xe(["tw-spinner",[`tw-spinner-${e.spinnerPosition}`]])},[e.showSpinner?(U(),nt("svg",{key:0,style:Gn(e.logoSize),"aria-hidden":"true",class:Xe(["text-base-lighter animate-spin fill-primary-color",e.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nM,6)):Nt("",!0),rM,e.legend.length?(U(),nt("div",{key:1,class:Xe(["text-base-content text-center",e.legendClass]),style:Gn(e.legendStyle)},[e.showLegend?(U(),nt("span",{key:0,innerHTML:e.legend},null,8,iM)):Nt("",!0),Se(m.$slots,"default",{},void 0,!0)],6)):Nt("",!0)],2)],4))}},sM=re(oM,[["__scopeId","data-v-b688ef4b"]]);function aM(e){lM(e,Object.assign({"/src/components/AddressMaker.global.vue":Bw,"/src/components/Animation/AnimationOpacity.global.vue":Dw,"/src/components/Autocomplete/Autocomplete.global.vue":gd,"/src/components/Autocomplete/AutocompleteOtu.global.vue":Yw,"/src/components/Button/ButtonExpand.global.vue":Qw,"/src/components/Button/VButton.global.vue":tx,"/src/components/Card/VCard.global.vue":ix,"/src/components/Card/VCardContent.global.vue":lx,"/src/components/Card/VCardHeader.global.vue":dx,"/src/components/Clipboard/VClipboard.global.vue":px,"/src/components/Dropdown/Dropdown.global.vue":gx,"/src/components/Gallery/GalleryCarousel/GalleryCarousel.global.vue":xx,"/src/components/Gallery/GalleryImage.global.vue":Bx,"/src/components/Gallery/GalleryMosaic/GalleryMosaic.global.vue":Dx,"/src/components/Icon/IconArrowDown.global.vue":Hx,"/src/components/Icon/IconArrowLeft.global.vue":Kx,"/src/components/Icon/IconArrowRight.global.vue":t1,"/src/components/Icon/IconCheck.global.vue":s1,"/src/components/Icon/IconClipboard.global.vue":d1,"/src/components/Icon/IconClose.global.vue":y1,"/src/components/Icon/IconDocument.global.vue":k1,"/src/components/Icon/IconDownload.global.vue":T1,"/src/components/Icon/IconGithub.global.vue":D1,"/src/components/Icon/IconHamburger.global.vue":H1,"/src/components/Icon/IconJson.global.vue":K1,"/src/components/Icon/IconMinusCircle.global.vue":tL,"/src/components/Icon/IconPlusCircle.global.vue":sL,"/src/components/Icon/IconSearch.global.vue":dL,"/src/components/Icon/IconTrash.global.vue":yL,"/src/components/Icon/IconWarning.global.vue":kL,"/src/components/ImageViewer/ImageViewer.global.vue":tk,"/src/components/Markdown/MarkdownLayout.global.vue":nk,"/src/components/Modal/VModal.global.vue":sk,"/src/components/ProjectStats.global.vue":ak,"/src/components/Ssr/ClientOnly.global.vue":uk,"/src/components/Tab/TabItem.global.vue":hk,"/src/components/Tab/TabMenu.global.vue":mk,"/src/components/Table/VTable.global.vue":bk,"/src/components/Table/VTableBody.global.vue":kk,"/src/components/Table/VTableBodyCell.global.vue":Sk,"/src/components/Table/VTableBodyRow.global.vue":Ak,"/src/components/Table/VTableHeader.global.vue":Dk,"/src/components/Table/VTableHeaderCell.global.vue":Fk,"/src/components/Table/VTableHeaderRow.global.vue":Vk,"/src/components/TrackerReport.global.vue":Xk,"/src/components/VSkeleton.global.vue":Qk,"/src/components/VSpinner.global.vue":sM}))}function lM(e,n){Object.entries(n).forEach(([s,c])=>{const i=s.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");e.component(i,c)})}const uM=window.location.origin,_c=window.initialState,{app:vl,router:cM,store:hM}=rw({originUrl:uM});_c&&(hM.state.value=_c);Lw(vl);aM(vl);cM.isReady().then(()=>{vl.mount("#app")});export{et as a,ne as b,At as c,nh as d,rt as e,U as o,pt as r,Qt as t,ft as w};
